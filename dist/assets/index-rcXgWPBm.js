var Os=Object.defineProperty;var ns=e=>{throw TypeError(e)};var Bs=(e,s,i)=>s in e?Os(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i;var On=(e,s,i)=>Bs(e,typeof s!="symbol"?s+"":s,i),br=(e,s,i)=>s.has(e)||ns("Cannot "+i);var gt=(e,s,i)=>(br(e,s,"read from private field"),i?i.call(e):s.get(e)),tn=(e,s,i)=>s.has(e)?ns("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,i),rn=(e,s,i,o)=>(br(e,s,"write to private field"),o?o.call(e,i):s.set(e,i),i),qt=(e,s,i)=>(br(e,s,"access private method"),i);var Qn=(e,s,i,o)=>({set _(a){rn(e,s,a,i)},get _(){return gt(e,s,o)}});(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var i=function o(){return this instanceof o?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};i.prototype=s.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),i}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,s,i){this.props=e,this.context=s,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,s,i){var o,a={},c=null,d=null;if(s!=null)for(o in s.ref!==void 0&&(d=s.ref),s.key!==void 0&&(c=""+s.key),s)J.call(s,o)&&!L$1.hasOwnProperty(o)&&(a[o]=s[o]);var h=arguments.length-2;if(h===1)a.children=i;else if(1<h){for(var g=Array(h),b=0;b<h;b++)g[b]=arguments[b+2];a.children=g}if(e&&e.defaultProps)for(o in h=e.defaultProps,h)a[o]===void 0&&(a[o]=h[o]);return{$$typeof:l$1,type:e,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(e,s){return{$$typeof:l$1,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return s[i]})}var P$1=/\/+/g;function Q$1(e,s){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):s.toString(36)}function R$1(e,s,i,o,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,a=a(d),e=o===""?"."+Q$1(d,0):o,I$1(a)?(i="",e!=null&&(i=e.replace(P$1,"$&/")+"/"),R$1(a,s,i,"",function(b){return b})):a!=null&&(O$1(a)&&(a=N$1(a,i+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+e)),s.push(a)),1;if(d=0,o=o===""?".":o+":",I$1(e))for(var h=0;h<e.length;h++){c=e[h];var g=o+Q$1(c,h);d+=R$1(c,s,i,g,a)}else if(g=A$1(e),typeof g=="function")for(e=g.call(e),h=0;!(c=e.next()).done;)c=c.value,g=o+Q$1(c,h++),d+=R$1(c,s,i,g,a);else if(c==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,s,i){if(e==null)return e;var o=[],a=0;return R$1(e,o,"","",function(c){return s.call(i,c,a++)}),o}function T$1(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,s,i){S$1(e,function(){s.apply(this,arguments)},i)},count:function(e){var s=0;return S$1(e,function(){s++}),s},toArray:function(e){return S$1(e,function(s){return s})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$2;react_production_min.cloneElement=function(e,s,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=C$1({},e.props),a=e.key,c=e.ref,d=e._owner;if(s!=null){if(s.ref!==void 0&&(c=s.ref,d=K$1.current),s.key!==void 0&&(a=""+s.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(g in s)J.call(s,g)&&!L$1.hasOwnProperty(g)&&(o[g]=s[g]===void 0&&h!==void 0?h[g]:s[g])}var g=arguments.length-2;if(g===1)o.children=i;else if(1<g){h=Array(g);for(var b=0;b<g;b++)h[b]=arguments[b+2];o.children=h}return{$$typeof:l$1,type:e.type,key:a,ref:c,props:o,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var s=M$1.bind(null,e);return s.type=e,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,s){return{$$typeof:x,type:e,compare:s===void 0?null:s}};react_production_min.startTransition=function(e){var s=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=s}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(e,s){return U$1.current.useCallback(e,s)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,s){return U$1.current.useEffect(e,s)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,s,i){return U$1.current.useImperativeHandle(e,s,i)};react_production_min.useInsertionEffect=function(e,s){return U$1.current.useInsertionEffect(e,s)};react_production_min.useLayoutEffect=function(e,s){return U$1.current.useLayoutEffect(e,s)};react_production_min.useMemo=function(e,s){return U$1.current.useMemo(e,s)};react_production_min.useReducer=function(e,s,i){return U$1.current.useReducer(e,s,i)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,s,i){return U$1.current.useSyncExternalStore(e,s,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,i){var o,a={},c=null,d=null;i!==void 0&&(c=""+i),s.key!==void 0&&(c=""+s.key),s.ref!==void 0&&(d=s.ref);for(o in s)m$1.call(s,o)&&!p$1.hasOwnProperty(o)&&(a[o]=s[o]);if(e&&e.defaultProps)for(o in s=e.defaultProps,s)a[o]===void 0&&(a[o]=s[o]);return{$$typeof:k,type:e,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(Ot,At){var Mt=Ot.length;Ot.push(At);e:for(;0<Mt;){var Rt=Mt-1>>>1,Et=Ot[Rt];if(0<a(Et,At))Ot[Rt]=At,Ot[Mt]=Et,Mt=Rt;else break e}}function i(Ot){return Ot.length===0?null:Ot[0]}function o(Ot){if(Ot.length===0)return null;var At=Ot[0],Mt=Ot.pop();if(Mt!==At){Ot[0]=Mt;e:for(var Rt=0,Et=Ot.length,yt=Et>>>1;Rt<yt;){var vt=2*(Rt+1)-1,St=Ot[vt],jt=vt+1,Ft=Ot[jt];if(0>a(St,Mt))jt<Et&&0>a(Ft,St)?(Ot[Rt]=Ft,Ot[jt]=Mt,Rt=jt):(Ot[Rt]=St,Ot[vt]=Mt,Rt=vt);else if(jt<Et&&0>a(Ft,Mt))Ot[Rt]=Ft,Ot[jt]=Mt,Rt=jt;else break e}}return At}function a(Ot,At){var Mt=Ot.sortIndex-At.sortIndex;return Mt!==0?Mt:Ot.id-At.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],b=[],_=1,$=null,et=3,_e=!1,st=!1,nt=!1,it=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ot(Ot){for(var At=i(b);At!==null;){if(At.callback===null)o(b);else if(At.startTime<=Ot)o(b),At.sortIndex=At.expirationTime,s(g,At);else break;At=i(b)}}function lt(Ot){if(nt=!1,ot(Ot),!st)if(i(g)!==null)st=!0,Ut(rt);else{var At=i(b);At!==null&&Tt(lt,At.startTime-Ot)}}function rt(Ot,At){st=!1,nt&&(nt=!1,j(ut),ut=-1),_e=!0;var Mt=et;try{for(ot(At),$=i(g);$!==null&&(!($.expirationTime>At)||Ot&&!xt());){var Rt=$.callback;if(typeof Rt=="function"){$.callback=null,et=$.priorityLevel;var Et=Rt($.expirationTime<=At);At=e.unstable_now(),typeof Et=="function"?$.callback=Et:$===i(g)&&o(g),ot(At)}else o(g);$=i(g)}if($!==null)var yt=!0;else{var vt=i(b);vt!==null&&Tt(lt,vt.startTime-At),yt=!1}return yt}finally{$=null,et=Mt,_e=!1}}var ct=!1,at=null,ut=-1,ft=5,Ct=-1;function xt(){return!(e.unstable_now()-Ct<ft)}function pt(){if(at!==null){var Ot=e.unstable_now();Ct=Ot;var At=!0;try{At=at(!0,Ot)}finally{At?_t():(ct=!1,at=null)}}else ct=!1}var _t;if(typeof tt=="function")_t=function(){tt(pt)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Pt=mt.port2;mt.port1.onmessage=pt,_t=function(){Pt.postMessage(null)}}else _t=function(){it(pt,0)};function Ut(Ot){at=Ot,ct||(ct=!0,_t())}function Tt(Ot,At){ut=it(function(){Ot(e.unstable_now())},At)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ot){Ot.callback=null},e.unstable_continueExecution=function(){st||_e||(st=!0,Ut(rt))},e.unstable_forceFrameRate=function(Ot){0>Ot||125<Ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<Ot?Math.floor(1e3/Ot):5},e.unstable_getCurrentPriorityLevel=function(){return et},e.unstable_getFirstCallbackNode=function(){return i(g)},e.unstable_next=function(Ot){switch(et){case 1:case 2:case 3:var At=3;break;default:At=et}var Mt=et;et=At;try{return Ot()}finally{et=Mt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ot,At){switch(Ot){case 1:case 2:case 3:case 4:case 5:break;default:Ot=3}var Mt=et;et=Ot;try{return At()}finally{et=Mt}},e.unstable_scheduleCallback=function(Ot,At,Mt){var Rt=e.unstable_now();switch(typeof Mt=="object"&&Mt!==null?(Mt=Mt.delay,Mt=typeof Mt=="number"&&0<Mt?Rt+Mt:Rt):Mt=Rt,Ot){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=Mt+Et,Ot={id:_++,callback:At,priorityLevel:Ot,startTime:Mt,expirationTime:Et,sortIndex:-1},Mt>Rt?(Ot.sortIndex=Mt,s(b,Ot),i(g)===null&&Ot===i(b)&&(nt?(j(ut),ut=-1):nt=!0,Tt(lt,Mt-Rt))):(Ot.sortIndex=Et,s(g,Ot),st||_e||(st=!0,Ut(rt))),Ot},e.unstable_shouldYield=xt,e.unstable_wrapCallback=function(Ot){var At=et;return function(){var Mt=et;et=At;try{return Ot.apply(this,arguments)}finally{et=Mt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,s){ha(e,s),ha(e+"Capture",s)}function ha(e,s){for(ea[e]=s,e=0;e<s.length;e++)da.add(s[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,s,i,o){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,s,i,o){if(s===null||typeof s>"u"||pa(e,s,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v(e,s,i,o,a,c,d){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=s,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];z[s]=new v(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(ra,sa);z[s]=new v(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,s,i,o){var a=z.hasOwnProperty(s)?z[s]:null;(a!==null?a.type!==0:o||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,i,a,o)&&(i=null),o||a===null?oa(s)&&(i===null?e.removeAttribute(s):e.setAttribute(s,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(s=a.attributeName,o=a.attributeNamespace,i===null?e.removeAttribute(s):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,o?e.setAttributeNS(o,s,i):e.setAttribute(s,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+e}var Na=!1;function Oa(e,s){if(!e||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var o=b}Reflect.construct(e,[],s)}else{try{s.call()}catch(b){o=b}e.call(s.prototype)}else{try{throw Error()}catch(b){o=b}e()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var a=b.stack.split(`
`),c=o.stack.split(`
`),d=a.length-1,h=c.length-1;1<=d&&0<=h&&a[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==c[h]){var g=`
`+a[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return s=e.displayName||null,s!==null?s:Qa(e.type)||"Memo";case Ha:s=e._payload,e=e._init;try{return Qa(e(s))}catch{}}return null}function Ra(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(e){var s=Ta(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),o=""+e[s];if(!e.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,c=i.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,c.call(this,d)}}),Object.defineProperty(e,s,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var i=s.getValue(),o="";return e&&(o=Ta(e)?e.checked?"true":"false":e.value),e=o,e!==i?(s.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,s){var i=s.checked;return A({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Za(e,s){var i=s.defaultValue==null?"":s.defaultValue,o=s.checked!=null?s.checked:s.defaultChecked;i=Sa(s.value!=null?s.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(e,s){s=s.checked,s!=null&&ta(e,"checked",s,!1)}function bb(e,s){ab(e,s);var i=Sa(s.value),o=s.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?cb(e,s.type,i):s.hasOwnProperty("defaultValue")&&cb(e,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function db(e,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var o=s.type;if(!(o!=="submit"&&o!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,i||s===e.value||(e.value=s),e.defaultValue=s}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function cb(e,s,i){(s!=="number"||Xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eb=Array.isArray;function fb(e,s,i,o){if(e=e.options,s){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=s.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Sa(i),s=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}s!==null||e[a].disabled||(s=e[a])}s!==null&&(s.selected=!0)}}function gb(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(p(92));if(eb(i)){if(1<i.length)throw Error(p(93));i=i[0]}s=i}s==null&&(s=""),i=s}e._wrapperState={initialValue:Sa(i)}}function ib(e,s){var i=Sa(s.value),o=Sa(s.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),s.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function jb(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,o,a){MSApp.execUnsafeLocalFunction(function(){return e(s,i,o,a)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function ob(e,s){if(s){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=s;return}}e.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),pb[s]=pb[e]})});function rb(e,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||pb.hasOwnProperty(e)&&pb[e]?(""+s).trim():s+"px"}function sb(e,s){e=e.style;for(var i in s)if(s.hasOwnProperty(i)){var o=i.indexOf("--")===0,a=rb(i,s[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,a):e[i]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,s){if(s){if(tb[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p(62))}}function vb(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var s=e.stateNode;s&&(s=Db(s),yb(e.stateNode,e.type,s))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,s=Ab;if(Ab=zb=null,Bb(e),s)for(e=0;e<s.length;e++)Bb(s[e])}}function Gb(e,s){return e(s)}function Hb(){}var Ib=!1;function Jb(e,s,i){if(Ib)return e(s,i);Ib=!0;try{return Gb(e,s,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,s){var i=e.stateNode;if(i===null)return null;var o=Db(i);if(o===null)return null;i=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p(231,s,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,s,i,o,a,c,d,h,g){var b=Array.prototype.slice.call(arguments,3);try{s.apply(i,b)}catch(_){this.onError(_)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,s,i,o,a,c,d,h,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,s,i,o,a,c,d,h,g){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var s=e,i=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(i=s.return),e=s.return;while(e)}return s.tag===3?i:null}function Wb(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var s=e.alternate;if(!s){if(s=Vb(e),s===null)throw Error(p(188));return s!==e?null:e}for(var i=e,o=s;;){var a=i.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){i=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===i)return Xb(a),e;if(c===o)return Xb(a),s;c=c.sibling}throw Error(p(188))}if(i.return!==o.return)i=a,o=c;else{for(var d=!1,h=a.child;h;){if(h===i){d=!0,i=a,o=c;break}if(h===o){d=!0,o=a,i=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===i){d=!0,i=c,o=a;break}if(h===o){d=!0,o=c,i=a;break}h=h.sibling}if(!d)throw Error(p(189))}}if(i.alternate!==o)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?e:s}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=$b(e);if(s!==null)return s;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,s){var i=e.pendingLanes;if(i===0)return 0;var o=0,a=e.suspendedLanes,c=e.pingedLanes,d=i&268435455;if(d!==0){var h=d&~a;h!==0?o=tc(h):(c&=d,c!==0&&(o=tc(c)))}else d=i&~a,d!==0?o=tc(d):c!==0&&(o=tc(c));if(o===0)return 0;if(s!==0&&s!==o&&!(s&a)&&(a=o&-o,c=s&-s,a>=c||a===16&&(c&4194240)!==0))return s;if(o&4&&(o|=i&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=o;0<s;)i=31-oc(s),a=1<<i,o|=e[i],s&=~a;return o}function vc(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,s){for(var i=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),h=1<<d,g=a[d];g===-1?(!(h&i)||h&o)&&(a[d]=vc(h,s)):g<=s&&(e.expiredLanes|=h),c&=~h}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var s=[],i=0;31>i;i++)s.push(e);return s}function Ac(e,s,i){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-oc(s),e[s]=i}function Bc(e,s){var i=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-oc(i),c=1<<a;s[a]=0,o[a]=-1,e[a]=-1,i&=~c}}function Cc(e,s){var i=e.entangledLanes|=s;for(e=e.entanglements;i;){var o=31-oc(i),a=1<<o;a&s|e[o]&s&&(e[o]|=s),i&=~a}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,s){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(e,s,i,o,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:s,domEventName:i,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),e):(e.eventSystemFlags|=o,s=e.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),e)}function Uc(e,s,i,o,a){switch(s){case"focusin":return Lc=Tc(Lc,e,s,i,o,a),!0;case"dragenter":return Mc=Tc(Mc,e,s,i,o,a),!0;case"mouseover":return Nc=Tc(Nc,e,s,i,o,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,s,i,o,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,s,i,o,a)),!0}return!1}function Vc(e){var s=Wc(e.target);if(s!==null){var i=Vb(s);if(i!==null){if(s=i.tag,s===13){if(s=Wb(i),s!==null){e.blockedOn=s,Ic(e.priority,function(){Gc(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var i=Yc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);wb=o,i.target.dispatchEvent(o),wb=null}else return s=Cb(i),s!==null&&Fc(s),e.blockedOn=i,!1;s.shift()}return!0}function Zc(e,s,i){Xc(e)&&i.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,s){e.blockedOn===s&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function s(a){return ad(a,e)}if(0<Kc.length){ad(Kc[0],e);for(var i=1;i<Kc.length;i++){var o=Kc[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(s),Pc.forEach(s),i=0;i<Qc.length;i++)o=Qc[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,s,i,o){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,s,i,o)}finally{C=a,cd.transition=c}}function gd(e,s,i,o){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,s,i,o)}finally{C=a,cd.transition=c}}function fd(e,s,i,o){if(dd){var a=Yc(e,s,i,o);if(a===null)hd(e,s,o,id$2,i),Sc(e,o);else if(Uc(a,e,s,i,o))o.stopPropagation();else if(Sc(e,o),s&4&&-1<Rc.indexOf(e)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(e,s,i,o),c===null&&hd(e,s,o,id$2,i),c===a)break;a=c}a!==null&&o.stopPropagation()}else hd(e,s,o,null,i)}}var id$2=null;function Yc(e,s,i,o){if(id$2=null,e=xb(o),e=Wc(e),e!==null)if(s=Vb(e),s===null)e=null;else if(i=s.tag,i===13){if(e=Wb(s),e!==null)return e;e=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return id$2=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,s=ld,i=s.length,o,a="value"in kd?kd.value:kd.textContent,c=a.length;for(e=0;e<i&&s[e]===a[e];e++);var d=i-e;for(o=1;o<=d&&s[i-o]===a[c-o];o++);return md=a.slice(e,1<o?1-o:void 0)}function od(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function s(i,o,a,c,d){this._reactName=i,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(i=e[h],this[h]=i?i(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Od[e])?!!s[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var s=Md[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(e,s){switch(e){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,s){switch(e){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(fe=!0,ee);case"textInput":return e=s.data,e===ee&&fe?null:e;default:return null}}function ke(e,s){if(ie)return e==="compositionend"||!ae&&ge(e,s)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de&&s.locale!=="ko"?null:s.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!le[e.type]:s==="textarea"}function ne(e,s,i,o){Eb(o),s=oe(s,"onChange"),0<s.length&&(i=new td("onChange","change",null,i,o),e.push({event:i,listeners:s}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var s=ue(e);if(Wa(s))return e}function ve(e,s){if(e==="change")return s}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var s=[];ne(s,qe,e,xb(e)),Jb(re,s)}}function Ce(e,s,i){e==="focusin"?(Ae(),pe=s,qe=i,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,s){if(e==="click")return te(s)}function Fe(e,s){if(e==="input"||e==="change")return te(s)}function Ge(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,s){if(He(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var i=Object.keys(e),o=Object.keys(s);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var a=i[o];if(!ja.call(s,a)||!He(e[a],s[a]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,s){var i=Je(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=s&&o>=s)return{node:i,offset:s-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Le(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Me(){for(var e=window,s=Xa();s instanceof e.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)e=s.contentWindow;else break;s=Xa(e.document)}return s}function Ne(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Oe(e){var s=Me(),i=e.focusedElem,o=e.selectionRange;if(s!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(o!==null&&Ne(i)){if(s=o.start,e=o.end,e===void 0&&(e=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(e,i.value.length);else if(e=(s=i.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!e.extend&&c>o&&(a=o,o=c,c=a),a=Ke(i,c);var d=Ke(i,o);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),e.removeAllRanges(),c>o?(e.addRange(s),e.extend(d.node,d.offset)):(s.setEnd(d.node,d.offset),e.addRange(s)))}}for(s=[],e=i;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)e=s[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,s,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(o)||(o=Qe,"selectionStart"in o&&Ne(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Se&&Ie(Se,o)||(Se=o,o=oe(Re,"onSelect"),0<o.length&&(s=new td("onSelect","select",null,s,i),e.push({event:s,listeners:o}),s.target=Qe)))}function Ve(e,s){var i={};return i[e.toLowerCase()]=s.toLowerCase(),i["Webkit"+e]="webkit"+s,i["Moz"+e]="moz"+s,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var s=We[e],i;for(i in s)if(s.hasOwnProperty(i)&&i in Ye)return Xe[e]=s[i];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,s){df.set(e,s),fa(s,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,s,i){var o=e.type||"unknown-event";e.currentTarget=i,Ub(o,s,void 0,e),e.currentTarget=null}function se(e,s){s=(s&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],a=o.event;o=o.listeners;e:{var c=void 0;if(s)for(var d=o.length-1;0<=d;d--){var h=o[d],g=h.instance,b=h.currentTarget;if(h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,b),c=g}else for(d=0;d<o.length;d++){if(h=o[d],g=h.instance,b=h.currentTarget,h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,b),c=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,s){var i=s[of];i===void 0&&(i=s[of]=new Set);var o=e+"__bubble";i.has(o)||(pf(s,e,2,!1),i.add(o))}function qf(e,s,i){var o=0;s&&(o|=4),pf(i,e,o,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,e),qf(i,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(e,s,i,o){switch(jd(s)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}i=a.bind(null,s,i,e),a=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(s,i,{capture:!0,passive:a}):e.addEventListener(s,i,!0):a!==void 0?e.addEventListener(s,i,{passive:a}):e.addEventListener(s,i,!1)}function hd(e,s,i,o,a){var c=o;if(!(s&1)&&!(s&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var h=o.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Wc(h),d===null)return;if(g=d.tag,g===5||g===6){o=c=d;continue e}h=h.parentNode}}o=o.return}Jb(function(){var b=c,_=xb(i),$=[];e:{var et=df.get(e);if(et!==void 0){var _e=td,st=e;switch(e){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":_e=Rd;break;case"focusin":st="focus",_e=Fd;break;case"focusout":st="blur",_e=Fd;break;case"beforeblur":case"afterblur":_e=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=Vd;break;case $e:case af:case bf:_e=Hd;break;case cf:_e=Xd;break;case"scroll":_e=vd;break;case"wheel":_e=Zd;break;case"copy":case"cut":case"paste":_e=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Td}var nt=(s&4)!==0,it=!nt&&e==="scroll",j=nt?et!==null?et+"Capture":null:et;nt=[];for(var tt=b,ot;tt!==null;){ot=tt;var lt=ot.stateNode;if(ot.tag===5&&lt!==null&&(ot=lt,j!==null&&(lt=Kb(tt,j),lt!=null&&nt.push(tf(tt,lt,ot)))),it)break;tt=tt.return}0<nt.length&&(et=new _e(et,st,null,i,_),$.push({event:et,listeners:nt}))}}if(!(s&7)){e:{if(et=e==="mouseover"||e==="pointerover",_e=e==="mouseout"||e==="pointerout",et&&i!==wb&&(st=i.relatedTarget||i.fromElement)&&(Wc(st)||st[uf]))break e;if((_e||et)&&(et=_.window===_?_:(et=_.ownerDocument)?et.defaultView||et.parentWindow:window,_e?(st=i.relatedTarget||i.toElement,_e=b,st=st?Wc(st):null,st!==null&&(it=Vb(st),st!==it||st.tag!==5&&st.tag!==6)&&(st=null)):(_e=null,st=b),_e!==st)){if(nt=Bd,lt="onMouseLeave",j="onMouseEnter",tt="mouse",(e==="pointerout"||e==="pointerover")&&(nt=Td,lt="onPointerLeave",j="onPointerEnter",tt="pointer"),it=_e==null?et:ue(_e),ot=st==null?et:ue(st),et=new nt(lt,tt+"leave",_e,i,_),et.target=it,et.relatedTarget=ot,lt=null,Wc(_)===b&&(nt=new nt(j,tt+"enter",st,i,_),nt.target=ot,nt.relatedTarget=it,lt=nt),it=lt,_e&&st)t:{for(nt=_e,j=st,tt=0,ot=nt;ot;ot=vf(ot))tt++;for(ot=0,lt=j;lt;lt=vf(lt))ot++;for(;0<tt-ot;)nt=vf(nt),tt--;for(;0<ot-tt;)j=vf(j),ot--;for(;tt--;){if(nt===j||j!==null&&nt===j.alternate)break t;nt=vf(nt),j=vf(j)}nt=null}else nt=null;_e!==null&&wf($,et,_e,nt,!1),st!==null&&it!==null&&wf($,it,st,nt,!0)}}e:{if(et=b?ue(b):window,_e=et.nodeName&&et.nodeName.toLowerCase(),_e==="select"||_e==="input"&&et.type==="file")var rt=ve;else if(me(et))if(we)rt=Fe;else{rt=De;var ct=Ce}else(_e=et.nodeName)&&_e.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(rt=Ee);if(rt&&(rt=rt(e,b))){ne($,rt,i,_);break e}ct&&ct(e,et,b),e==="focusout"&&(ct=et._wrapperState)&&ct.controlled&&et.type==="number"&&cb(et,"number",et.value)}switch(ct=b?ue(b):window,e){case"focusin":(me(ct)||ct.contentEditable==="true")&&(Qe=ct,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue($,i,_);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue($,i,_)}var at;if(ae)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else ie?ge(e,i)&&(ut="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ut="onCompositionStart");ut&&(de&&i.locale!=="ko"&&(ie||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ie&&(at=nd()):(kd=_,ld="value"in kd?kd.value:kd.textContent,ie=!0)),ct=oe(b,ut),0<ct.length&&(ut=new Ld(ut,e,null,i,_),$.push({event:ut,listeners:ct}),at?ut.data=at:(at=he(i),at!==null&&(ut.data=at)))),(at=ce?je(e,i):ke(e,i))&&(b=oe(b,"onBeforeInput"),0<b.length&&(_=new Ld("onBeforeInput","beforeinput",null,i,_),$.push({event:_,listeners:b}),_.data=at))}se($,s)})}function tf(e,s,i){return{instance:e,listener:s,currentTarget:i}}function oe(e,s){for(var i=s+"Capture",o=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(e,i),c!=null&&o.unshift(tf(e,c,a)),c=Kb(e,s),c!=null&&o.push(tf(e,c,a))),e=e.return}return o}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,s,i,o,a){for(var c=s._reactName,d=[];i!==null&&i!==o;){var h=i,g=h.alternate,b=h.stateNode;if(g!==null&&g===o)break;h.tag===5&&b!==null&&(h=b,a?(g=Kb(i,c),g!=null&&d.unshift(tf(i,g,h))):a||(g=Kb(i,c),g!=null&&d.push(tf(i,g,h)))),i=i.return}d.length!==0&&e.push({event:s,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,s,i){if(s=zf(s),zf(e)!==s&&i)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,s){var i=s,o=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(o===0){e.removeChild(a),bd(s);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=a}while(i);bd(s)}function Lf(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return e;s--}else i==="/$"&&s++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var s=e[Of];if(s)return s;for(var i=e.parentNode;i;){if(s=i[uf]||i[Of]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[Of])return i;e=Mf(e)}return s}e=i,i=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,s){Tf++,Sf[Tf]=e.current,e.current=s}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,s){var i=e.type.contextTypes;if(!i)return Vf;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===s)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in i)a[c]=s[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,s,i){if(H.current!==Vf)throw Error(p(168));G(H,s),G(Wf,i)}function bg(e,s,i){var o=e.stateNode;if(s=s.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var a in o)if(!(a in s))throw Error(p(108,Ra(e)||"Unknown",a));return A({},i,o)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,s,i){var o=e.stateNode;if(!o)throw Error(p(169));i?(e=bg(e,s,Xf),o.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,s=C;try{var i=eg;for(C=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),a}finally{C=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,s){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=s}function ug(e,s,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var o=rg;e=sg;var a=32-oc(o)-1;o&=~(1<<a),i+=1;var c=32-oc(s)+a;if(30<c){var d=a-a%5;c=(o&(1<<d)-1).toString(32),o>>=d,a-=d,rg=1<<32-oc(s)+a|i<<a|o,sg=c+e}else rg=1<<c|i<<a|o,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,s){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=e,s=e.deletions,s===null?(e.deletions=[i],e.flags|=16):s.push(i)}function Cg(e,s){switch(e.tag){case 5:var i=e.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,xg=e,yg=Lf(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,xg=e,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=s,i.return=e,e.child=i,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var s=yg;if(s){var i=s;if(!Cg(e,s)){if(Dg(e))throw Error(p(418));s=Lf(i.nextSibling);var o=xg;s&&Cg(e,s)?Ag(o,i):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Ef(e.type,e.memoizedProps)),s&&(s=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;s;)Ag(e,s),s=Lf(s.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(s===0){yg=Lf(e.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,s,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p(309));var o=i.stateNode}if(!o)throw Error(p(147,e));var a=o,c=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===c?s.ref:(s=function(d){var h=a.refs;d===null?delete h[c]:h[c]=d},s._stringRef=c,s)}if(typeof e!="string")throw Error(p(284));if(!i._owner)throw Error(p(290,e))}return e}function Mg(e,s){throw e=Object.prototype.toString.call(s),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function Ng(e){var s=e._init;return s(e._payload)}function Og(e){function s(j,tt){if(e){var ot=j.deletions;ot===null?(j.deletions=[tt],j.flags|=16):ot.push(tt)}}function i(j,tt){if(!e)return null;for(;tt!==null;)s(j,tt),tt=tt.sibling;return null}function o(j,tt){for(j=new Map;tt!==null;)tt.key!==null?j.set(tt.key,tt):j.set(tt.index,tt),tt=tt.sibling;return j}function a(j,tt){return j=Pg(j,tt),j.index=0,j.sibling=null,j}function c(j,tt,ot){return j.index=ot,e?(ot=j.alternate,ot!==null?(ot=ot.index,ot<tt?(j.flags|=2,tt):ot):(j.flags|=2,tt)):(j.flags|=1048576,tt)}function d(j){return e&&j.alternate===null&&(j.flags|=2),j}function h(j,tt,ot,lt){return tt===null||tt.tag!==6?(tt=Qg(ot,j.mode,lt),tt.return=j,tt):(tt=a(tt,ot),tt.return=j,tt)}function g(j,tt,ot,lt){var rt=ot.type;return rt===ya?_(j,tt,ot.props.children,lt,ot.key):tt!==null&&(tt.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&Ng(rt)===tt.type)?(lt=a(tt,ot.props),lt.ref=Lg(j,tt,ot),lt.return=j,lt):(lt=Rg(ot.type,ot.key,ot.props,null,j.mode,lt),lt.ref=Lg(j,tt,ot),lt.return=j,lt)}function b(j,tt,ot,lt){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==ot.containerInfo||tt.stateNode.implementation!==ot.implementation?(tt=Sg(ot,j.mode,lt),tt.return=j,tt):(tt=a(tt,ot.children||[]),tt.return=j,tt)}function _(j,tt,ot,lt,rt){return tt===null||tt.tag!==7?(tt=Tg(ot,j.mode,lt,rt),tt.return=j,tt):(tt=a(tt,ot),tt.return=j,tt)}function $(j,tt,ot){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return tt=Qg(""+tt,j.mode,ot),tt.return=j,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case va:return ot=Rg(tt.type,tt.key,tt.props,null,j.mode,ot),ot.ref=Lg(j,null,tt),ot.return=j,ot;case wa:return tt=Sg(tt,j.mode,ot),tt.return=j,tt;case Ha:var lt=tt._init;return $(j,lt(tt._payload),ot)}if(eb(tt)||Ka(tt))return tt=Tg(tt,j.mode,ot,null),tt.return=j,tt;Mg(j,tt)}return null}function et(j,tt,ot,lt){var rt=tt!==null?tt.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number")return rt!==null?null:h(j,tt,""+ot,lt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return ot.key===rt?g(j,tt,ot,lt):null;case wa:return ot.key===rt?b(j,tt,ot,lt):null;case Ha:return rt=ot._init,et(j,tt,rt(ot._payload),lt)}if(eb(ot)||Ka(ot))return rt!==null?null:_(j,tt,ot,lt,null);Mg(j,ot)}return null}function _e(j,tt,ot,lt,rt){if(typeof lt=="string"&&lt!==""||typeof lt=="number")return j=j.get(ot)||null,h(tt,j,""+lt,rt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case va:return j=j.get(lt.key===null?ot:lt.key)||null,g(tt,j,lt,rt);case wa:return j=j.get(lt.key===null?ot:lt.key)||null,b(tt,j,lt,rt);case Ha:var ct=lt._init;return _e(j,tt,ot,ct(lt._payload),rt)}if(eb(lt)||Ka(lt))return j=j.get(ot)||null,_(tt,j,lt,rt,null);Mg(tt,lt)}return null}function st(j,tt,ot,lt){for(var rt=null,ct=null,at=tt,ut=tt=0,ft=null;at!==null&&ut<ot.length;ut++){at.index>ut?(ft=at,at=null):ft=at.sibling;var Ct=et(j,at,ot[ut],lt);if(Ct===null){at===null&&(at=ft);break}e&&at&&Ct.alternate===null&&s(j,at),tt=c(Ct,tt,ut),ct===null?rt=Ct:ct.sibling=Ct,ct=Ct,at=ft}if(ut===ot.length)return i(j,at),I&&tg(j,ut),rt;if(at===null){for(;ut<ot.length;ut++)at=$(j,ot[ut],lt),at!==null&&(tt=c(at,tt,ut),ct===null?rt=at:ct.sibling=at,ct=at);return I&&tg(j,ut),rt}for(at=o(j,at);ut<ot.length;ut++)ft=_e(at,j,ut,ot[ut],lt),ft!==null&&(e&&ft.alternate!==null&&at.delete(ft.key===null?ut:ft.key),tt=c(ft,tt,ut),ct===null?rt=ft:ct.sibling=ft,ct=ft);return e&&at.forEach(function(xt){return s(j,xt)}),I&&tg(j,ut),rt}function nt(j,tt,ot,lt){var rt=Ka(ot);if(typeof rt!="function")throw Error(p(150));if(ot=rt.call(ot),ot==null)throw Error(p(151));for(var ct=rt=null,at=tt,ut=tt=0,ft=null,Ct=ot.next();at!==null&&!Ct.done;ut++,Ct=ot.next()){at.index>ut?(ft=at,at=null):ft=at.sibling;var xt=et(j,at,Ct.value,lt);if(xt===null){at===null&&(at=ft);break}e&&at&&xt.alternate===null&&s(j,at),tt=c(xt,tt,ut),ct===null?rt=xt:ct.sibling=xt,ct=xt,at=ft}if(Ct.done)return i(j,at),I&&tg(j,ut),rt;if(at===null){for(;!Ct.done;ut++,Ct=ot.next())Ct=$(j,Ct.value,lt),Ct!==null&&(tt=c(Ct,tt,ut),ct===null?rt=Ct:ct.sibling=Ct,ct=Ct);return I&&tg(j,ut),rt}for(at=o(j,at);!Ct.done;ut++,Ct=ot.next())Ct=_e(at,j,ut,Ct.value,lt),Ct!==null&&(e&&Ct.alternate!==null&&at.delete(Ct.key===null?ut:Ct.key),tt=c(Ct,tt,ut),ct===null?rt=Ct:ct.sibling=Ct,ct=Ct);return e&&at.forEach(function(pt){return s(j,pt)}),I&&tg(j,ut),rt}function it(j,tt,ot,lt){if(typeof ot=="object"&&ot!==null&&ot.type===ya&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:e:{for(var rt=ot.key,ct=tt;ct!==null;){if(ct.key===rt){if(rt=ot.type,rt===ya){if(ct.tag===7){i(j,ct.sibling),tt=a(ct,ot.props.children),tt.return=j,j=tt;break e}}else if(ct.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===Ha&&Ng(rt)===ct.type){i(j,ct.sibling),tt=a(ct,ot.props),tt.ref=Lg(j,ct,ot),tt.return=j,j=tt;break e}i(j,ct);break}else s(j,ct);ct=ct.sibling}ot.type===ya?(tt=Tg(ot.props.children,j.mode,lt,ot.key),tt.return=j,j=tt):(lt=Rg(ot.type,ot.key,ot.props,null,j.mode,lt),lt.ref=Lg(j,tt,ot),lt.return=j,j=lt)}return d(j);case wa:e:{for(ct=ot.key;tt!==null;){if(tt.key===ct)if(tt.tag===4&&tt.stateNode.containerInfo===ot.containerInfo&&tt.stateNode.implementation===ot.implementation){i(j,tt.sibling),tt=a(tt,ot.children||[]),tt.return=j,j=tt;break e}else{i(j,tt);break}else s(j,tt);tt=tt.sibling}tt=Sg(ot,j.mode,lt),tt.return=j,j=tt}return d(j);case Ha:return ct=ot._init,it(j,tt,ct(ot._payload),lt)}if(eb(ot))return st(j,tt,ot,lt);if(Ka(ot))return nt(j,tt,ot,lt);Mg(j,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"?(ot=""+ot,tt!==null&&tt.tag===6?(i(j,tt.sibling),tt=a(tt,ot),tt.return=j,j=tt):(i(j,tt),tt=Qg(ot,j.mode,lt),tt.return=j,j=tt),d(j)):i(j,tt)}return it}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var s=Wg.current;E(Wg),e._currentValue=s}function bh(e,s,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),e===i)break;e=e.return}}function ch(e,s){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(dh=!0),e.firstContext=null)}function eh(e){var s=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return s}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,s,i,o){var a=s.interleaved;return a===null?(i.next=i,gh(s)):(i.next=a.next,a.next=i),s.interleaved=i,ih(e,o)}function ih(e,s){e.lanes|=s;var i=e.alternate;for(i!==null&&(i.lanes|=s),i=e,e=e.return;e!==null;)e.childLanes|=s,i=e.alternate,i!==null&&(i.childLanes|=s),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(e,s,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,K&2){var a=o.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),o.pending=s,ih(e,i)}return a=o.interleaved,a===null?(s.next=s,gh(o)):(s.next=a.next,a.next=s),o.interleaved=s,ih(e,i)}function oh(e,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var o=s.lanes;o&=e.pendingLanes,i|=o,s.lanes=i,Cc(e,i)}}function ph(e,s){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var a=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?a=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?a=c=s:c=c.next=s}else a=c=s;i={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=s:e.next=s,i.lastBaseUpdate=s}function qh(e,s,i,o){var a=e.updateQueue;jh=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var g=h,b=g.next;g.next=null,d===null?c=b:d.next=b,d=g;var _=e.alternate;_!==null&&(_=_.updateQueue,h=_.lastBaseUpdate,h!==d&&(h===null?_.firstBaseUpdate=b:h.next=b,_.lastBaseUpdate=g))}if(c!==null){var $=a.baseState;d=0,_=b=g=null,h=c;do{var et=h.lane,_e=h.eventTime;if((o&et)===et){_!==null&&(_=_.next={eventTime:_e,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var st=e,nt=h;switch(et=s,_e=i,nt.tag){case 1:if(st=nt.payload,typeof st=="function"){$=st.call(_e,$,et);break e}$=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=nt.payload,et=typeof st=="function"?st.call(_e,$,et):st,et==null)break e;$=A({},$,et);break e;case 2:jh=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,et=a.effects,et===null?a.effects=[h]:et.push(h))}else _e={eventTime:_e,lane:et,tag:h.tag,payload:h.payload,callback:h.callback,next:null},_===null?(b=_=_e,g=$):_=_.next=_e,d|=et;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;et=h,h=et.next,et.next=null,a.lastBaseUpdate=et,a.shared.pending=null}}while(!0);if(_===null&&(g=$),a.baseState=g,a.firstBaseUpdate=b,a.lastBaseUpdate=_,s=a.shared.interleaved,s!==null){a=s;do d|=a.lane,a=a.next;while(a!==s)}else c===null&&(a.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=$}}function sh(e,s,i){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var o=e[s],a=o.callback;if(a!==null){if(o.callback=null,o=i,typeof a!="function")throw Error(p(191,a));a.call(o)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,s){switch(G(wh,s),G(vh$1,e),G(uh,th),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=lb(s,e)}E(uh),G(uh,s)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(e){xh(wh.current);var s=xh(uh.current),i=lb(s,e.type);s!==i&&(G(vh$1,e),G(uh,i))}function Bh(e){vh$1.current===e&&(E(uh),E(vh$1))}var L=Uf(0);function Ch(e){for(var s=e;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,s){if(s===null)return!1;for(var i=0;i<s.length&&i<e.length;i++)if(!He(e[i],s[i]))return!1;return!0}function Nh(e,s,i,o,a,c){if(Hh=c,M=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=i(o,a),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,s.updateQueue=null,Fh.current=Qh,e=i(o,a)}while(Jh)}if(Fh.current=Rh,s=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,s)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var s=O===null?M.memoizedState:O.next;if(s!==null)O=s,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,s){return typeof s=="function"?s(e):s}function Wh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var o=N,a=o.baseQueue,c=i.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}o.baseQueue=a=c,i.pending=null}if(a!==null){c=a.next,o=o.baseState;var h=d=null,g=null,b=c;do{var _=b.lane;if((Hh&_)===_)g!==null&&(g=g.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:e(o,b.action);else{var $={lane:_,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};g===null?(h=g=$,d=o):g=g.next=$,M.lanes|=_,rh|=_}b=b.next}while(b!==null&&b!==c);g===null?d=o:g.next=h,He(o,s.memoizedState)||(dh=!0),s.memoizedState=o,s.baseState=d,s.baseQueue=g,i.lastRenderedState=o}if(e=i.interleaved,e!==null){a=e;do c=a.lane,M.lanes|=c,rh|=c,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function Xh(e){var s=Uh(),i=s.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,c=s.memoizedState;if(a!==null){i.pending=null;var d=a=a.next;do c=e(c,d.action),d=d.next;while(d!==a);He(c,s.memoizedState)||(dh=!0),s.memoizedState=c,s.baseQueue===null&&(s.baseState=c),i.lastRenderedState=c}return[c,o]}function Yh(){}function Zh(e,s){var i=M,o=Uh(),a=s(),c=!He(o.memoizedState,a);if(c&&(o.memoizedState=a,dh=!0),o=o.queue,$h(ai.bind(null,i,o,e),[e]),o.getSnapshot!==s||c||O!==null&&O.memoizedState.tag&1){if(i.flags|=2048,bi(9,ci.bind(null,i,o,a,s),void 0,null),Q===null)throw Error(p(349));Hh&30||di(i,s,a)}return a}function di(e,s,i){e.flags|=16384,e={getSnapshot:s,value:i},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.stores=[e]):(i=s.stores,i===null?s.stores=[e]:i.push(e))}function ci(e,s,i,o){s.value=i,s.getSnapshot=o,ei(s)&&fi(e)}function ai(e,s,i){return i(function(){ei(s)&&fi(e)})}function ei(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!He(e,i)}catch{return!0}}function fi(e){var s=ih(e,1);s!==null&&gi(s,e,1,-1)}function hi(e){var s=Th();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},s.queue=e,e=e.dispatch=ii.bind(null,M,e),[s.memoizedState,e]}function bi(e,s,i,o){return e={tag:e,create:s,destroy:i,deps:o,next:null},s=M.updateQueue,s===null?(s={lastEffect:null,stores:null},M.updateQueue=s,s.lastEffect=e.next=e):(i=s.lastEffect,i===null?s.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,s.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,s,i,o){var a=Th();M.flags|=e,a.memoizedState=bi(1|s,i,void 0,o===void 0?null:o)}function li(e,s,i,o){var a=Uh();o=o===void 0?null:o;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,o!==null&&Mh(o,d.deps)){a.memoizedState=bi(s,i,c,o);return}}M.flags|=e,a.memoizedState=bi(1|s,i,c,o)}function mi(e,s){return ki(8390656,8,e,s)}function $h(e,s){return li(2048,8,e,s)}function ni(e,s){return li(4,2,e,s)}function oi(e,s){return li(4,4,e,s)}function pi(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function qi(e,s,i){return i=i!=null?i.concat([e]):null,li(4,4,pi.bind(null,s,e),i)}function ri(){}function si(e,s){var i=Uh();s=s===void 0?null:s;var o=i.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(i.memoizedState=[e,s],e)}function ti(e,s){var i=Uh();s=s===void 0?null:s;var o=i.memoizedState;return o!==null&&s!==null&&Mh(s,o[1])?o[0]:(e=e(),i.memoizedState=[e,s],e)}function ui(e,s,i){return Hh&21?(He(i,s)||(i=yc(),M.lanes|=i,rh|=i,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=i)}function vi(e,s){var i=C;C=i!==0&&4>i?i:4,e(!0);var o=Gh.transition;Gh.transition={};try{e(!1),s()}finally{C=i,Gh.transition=o}}function wi(){return Uh().memoizedState}function xi(e,s,i){var o=yi(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(s,i);else if(i=hh(e,s,i,o),i!==null){var a=R();gi(i,e,o,a),Bi(i,s,o)}}function ii(e,s,i){var o=yi(e),a={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(s,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=s.lastRenderedReducer,c!==null))try{var d=s.lastRenderedState,h=c(d,i);if(a.hasEagerState=!0,a.eagerState=h,He(h,d)){var g=s.interleaved;g===null?(a.next=a,gh(s)):(a.next=g.next,g.next=a),s.interleaved=a;return}}catch{}finally{}i=hh(e,s,a,o),i!==null&&(a=R(),gi(i,e,o,a),Bi(i,s,o))}}function zi(e){var s=e.alternate;return e===M||s!==null&&s===M}function Ai(e,s){Jh=Ih=!0;var i=e.pending;i===null?s.next=s:(s.next=i.next,i.next=s),e.pending=s}function Bi(e,s,i){if(i&4194240){var o=s.lanes;o&=e.pendingLanes,i|=o,s.lanes=i,Cc(e,i)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,s){return Th().memoizedState=[e,s===void 0?null:s],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,s,i){return i=i!=null?i.concat([e]):null,ki(4194308,4,pi.bind(null,s,e),i)},useLayoutEffect:function(e,s){return ki(4194308,4,e,s)},useInsertionEffect:function(e,s){return ki(4,2,e,s)},useMemo:function(e,s){var i=Th();return s=s===void 0?null:s,e=e(),i.memoizedState=[e,s],e},useReducer:function(e,s,i){var o=Th();return s=i!==void 0?i(s):s,o.memoizedState=o.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},o.queue=e,e=e.dispatch=xi.bind(null,M,e),[o.memoizedState,e]},useRef:function(e){var s=Th();return e={current:e},s.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),s=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,i){var o=M,a=Th();if(I){if(i===void 0)throw Error(p(407));i=i()}else{if(i=s(),Q===null)throw Error(p(349));Hh&30||di(o,s,i)}a.memoizedState=i;var c={value:i,getSnapshot:s};return a.queue=c,mi(ai.bind(null,o,c,e),[e]),o.flags|=2048,bi(9,ci.bind(null,o,c,i,s),void 0,null),i},useId:function(){var e=Th(),s=Q.identifierPrefix;if(I){var i=sg,o=rg;i=(o&~(1<<32-oc(o)-1)).toString(32)+i,s=":"+s+"R"+i,i=Kh++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=Lh++,s=":"+s+"r"+i.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return ui(s,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var s=Uh();return N===null?s.memoizedState=e:ui(s,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],s=Uh().memoizedState;return[e,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,s){if(e&&e.defaultProps){s=A({},s),e=e.defaultProps;for(var i in e)s[i]===void 0&&(s[i]=e[i]);return s}return s}function Di(e,s,i,o){s=e.memoizedState,i=i(o,s),i=i==null?s:A({},s,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,s,i){e=e._reactInternals;var o=R(),a=yi(e),c=mh(o,a);c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,a),s!==null&&(gi(s,e,a,o),oh(s,e,a))},enqueueReplaceState:function(e,s,i){e=e._reactInternals;var o=R(),a=yi(e),c=mh(o,a);c.tag=1,c.payload=s,i!=null&&(c.callback=i),s=nh(e,c,a),s!==null&&(gi(s,e,a,o),oh(s,e,a))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var i=R(),o=yi(e),a=mh(i,o);a.tag=2,s!=null&&(a.callback=s),s=nh(e,a,o),s!==null&&(gi(s,e,o,i),oh(s,e,o))}};function Fi(e,s,i,o,a,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,d):s.prototype&&s.prototype.isPureReactComponent?!Ie(i,o)||!Ie(a,c):!0}function Gi(e,s,i){var o=!1,a=Vf,c=s.contextType;return typeof c=="object"&&c!==null?c=eh(c):(a=Zf(s)?Xf:H.current,o=s.contextTypes,c=(o=o!=null)?Yf(e,a):Vf),s=new s(i,c),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei,e.stateNode=s,s._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),s}function Hi(e,s,i,o){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,o),s.state!==e&&Ei.enqueueReplaceState(s,s.state,null)}function Ii(e,s,i,o){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},kh(e);var c=s.contextType;typeof c=="object"&&c!==null?a.context=eh(c):(c=Zf(s)?Xf:H.current,a.context=Yf(e,c)),a.state=e.memoizedState,c=s.getDerivedStateFromProps,typeof c=="function"&&(Di(e,s,c,i),a.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Ei.enqueueReplaceState(a,a.state,null),qh(e,i,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,s){try{var i="",o=s;do i+=Pa(o),o=o.return;while(o);var a=i}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:s,stack:a,digest:null}}function Ki(e,s,i){return{value:e,source:null,stack:i??null,digest:s??null}}function Li(e,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,s,i){i=mh(-1,i),i.tag=3,i.payload={element:null};var o=s.value;return i.callback=function(){Oi||(Oi=!0,Pi=o),Li(e,s)},i}function Qi(e,s,i){i=mh(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=s.value;i.payload=function(){return o(a)},i.callback=function(){Li(e,s)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Li(e,s),typeof o!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=s.stack;this.componentDidCatch(s.value,{componentStack:d!==null?d:""})}),i}function Si(e,s,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Mi;var a=new Set;o.set(s,a)}else a=o.get(s),a===void 0&&(a=new Set,o.set(s,a));a.has(i)||(a.add(i),e=Ti.bind(null,e,s,i),s.then(e,e))}function Ui(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Vi(e,s,i,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===s?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=mh(-1,1),s.tag=2,nh(i,s,1))),i.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,s,i,o){s.child=e===null?Vg(s,null,i,o):Ug(s,e.child,i,o)}function Yi(e,s,i,o,a){i=i.render;var c=s.ref;return ch(s,a),o=Nh(e,s,i,o,c,a),i=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,Zi(e,s,a)):(I&&i&&vg(s),s.flags|=1,Xi(e,s,o,a),s.child)}function $i(e,s,i,o,a){if(e===null){var c=i.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=c,bj(e,s,c,o,a)):(e=Rg(i.type,null,o,s,s.mode,a),e.ref=s.ref,e.return=s,s.child=e)}if(c=e.child,!(e.lanes&a)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(d,o)&&e.ref===s.ref)return Zi(e,s,a)}return s.flags|=1,e=Pg(c,o),e.ref=s.ref,e.return=s,s.child=e}function bj(e,s,i,o,a){if(e!==null){var c=e.memoizedProps;if(Ie(c,o)&&e.ref===s.ref)if(dh=!1,s.pendingProps=o=c,(e.lanes&a)!==0)e.flags&131072&&(dh=!0);else return s.lanes=e.lanes,Zi(e,s,a)}return cj(e,s,i,o,a)}function dj(e,s,i){var o=s.pendingProps,a=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,G(ej,fj),fj|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:i,G(ej,fj),fj|=o}else c!==null?(o=c.baseLanes|i,s.memoizedState=null):o=i,G(ej,fj),fj|=o;return Xi(e,s,a,i),s.child}function gj(e,s){var i=s.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function cj(e,s,i,o,a){var c=Zf(i)?Xf:H.current;return c=Yf(s,c),ch(s,a),i=Nh(e,s,i,o,c,a),o=Sh(),e!==null&&!dh?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,Zi(e,s,a)):(I&&o&&vg(s),s.flags|=1,Xi(e,s,i,a),s.child)}function hj(e,s,i,o,a){if(Zf(i)){var c=!0;cg(s)}else c=!1;if(ch(s,a),s.stateNode===null)ij(e,s),Gi(s,i,o),Ii(s,i,o,a),o=!0;else if(e===null){var d=s.stateNode,h=s.memoizedProps;d.props=h;var g=d.context,b=i.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(i)?Xf:H.current,b=Yf(s,b));var _=i.getDerivedStateFromProps,$=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function";$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==o||g!==b)&&Hi(s,d,o,b),jh=!1;var et=s.memoizedState;d.state=et,qh(s,o,d,a),g=s.memoizedState,h!==o||et!==g||Wf.current||jh?(typeof _=="function"&&(Di(s,i,_,o),g=s.memoizedState),(h=jh||Fi(s,i,h,o,et,g,b))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=g),d.props=o,d.state=g,d.context=b,o=h):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{d=s.stateNode,lh(e,s),h=s.memoizedProps,b=s.type===s.elementType?h:Ci(s.type,h),d.props=b,$=s.pendingProps,et=d.context,g=i.contextType,typeof g=="object"&&g!==null?g=eh(g):(g=Zf(i)?Xf:H.current,g=Yf(s,g));var _e=i.getDerivedStateFromProps;(_=typeof _e=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==$||et!==g)&&Hi(s,d,o,g),jh=!1,et=s.memoizedState,d.state=et,qh(s,o,d,a);var st=s.memoizedState;h!==$||et!==st||Wf.current||jh?(typeof _e=="function"&&(Di(s,i,_e,o),st=s.memoizedState),(b=jh||Fi(s,i,b,o,et,st,g)||!1)?(_||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,st,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,st,g)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&et===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&et===e.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=st),d.props=o,d.state=st,d.context=g,o=b):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&et===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&et===e.memoizedState||(s.flags|=1024),o=!1)}return jj(e,s,i,o,c,a)}function jj(e,s,i,o,a,c){gj(e,s);var d=(s.flags&128)!==0;if(!o&&!d)return a&&dg(s,i,!1),Zi(e,s,c);o=s.stateNode,Wi.current=s;var h=d&&typeof i.getDerivedStateFromError!="function"?null:o.render();return s.flags|=1,e!==null&&d?(s.child=Ug(s,e.child,null,c),s.child=Ug(s,null,h,c)):Xi(e,s,h,c),s.memoizedState=o.state,a&&dg(s,i,!0),s.child}function kj(e){var s=e.stateNode;s.pendingContext?ag(e,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(e,s.context,!1),yh(e,s.containerInfo)}function lj(e,s,i,o,a){return Ig(),Jg(a),s.flags|=256,Xi(e,s,i,o),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,s,i){var o=s.pendingProps,a=L.current,c=!1,d=(s.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(a&2)!==0),h?(c=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(L,a&1),e===null)return Eg(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(d=o.children,e=o.fallback,c?(o=s.mode,c=s.child,d={mode:"hidden",children:d},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,o,0,null),e=Tg(e,o,i,null),c.return=s,e.return=s,c.sibling=e,s.child=c,s.child.memoizedState=nj(i),s.memoizedState=mj,e):qj(s,d));if(a=e.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return rj(e,s,d,o,h,a,i);if(c){c=o.fallback,d=s.mode,a=e.child,h=a.sibling;var g={mode:"hidden",children:o.children};return!(d&1)&&s.child!==a?(o=s.child,o.childLanes=0,o.pendingProps=g,s.deletions=null):(o=Pg(a,g),o.subtreeFlags=a.subtreeFlags&14680064),h!==null?c=Pg(h,c):(c=Tg(c,d,i,null),c.flags|=2),c.return=s,o.return=s,o.sibling=c,s.child=o,o=c,c=s.child,d=e.child.memoizedState,d=d===null?nj(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~i,s.memoizedState=mj,o}return c=e.child,e=c.sibling,o=Pg(c,{mode:"visible",children:o.children}),!(s.mode&1)&&(o.lanes=i),o.return=s,o.sibling=null,e!==null&&(i=s.deletions,i===null?(s.deletions=[e],s.flags|=16):i.push(e)),s.child=o,s.memoizedState=null,o}function qj(e,s){return s=pj({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function sj(e,s,i,o){return o!==null&&Jg(o),Ug(s,e.child,null,i),e=qj(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function rj(e,s,i,o,a,c,d){if(i)return s.flags&256?(s.flags&=-257,o=Ki(Error(p(422))),sj(e,s,d,o)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(c=o.fallback,a=s.mode,o=pj({mode:"visible",children:o.children},a,0,null),c=Tg(c,a,d,null),c.flags|=2,o.return=s,c.return=s,o.sibling=c,s.child=o,s.mode&1&&Ug(s,e.child,null,d),s.child.memoizedState=nj(d),s.memoizedState=mj,c);if(!(s.mode&1))return sj(e,s,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var h=o.dgst;return o=h,c=Error(p(419)),o=Ki(c,o,void 0),sj(e,s,d,o)}if(h=(d&e.childLanes)!==0,dh||h){if(o=Q,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,ih(e,a),gi(o,e,a,-1))}return tj(),o=Ki(Error(p(421))),sj(e,s,d,o)}return a.data==="$?"?(s.flags|=128,s.child=e.child,s=uj.bind(null,e),a._reactRetry=s,null):(e=c.treeContext,yg=Lf(a.nextSibling),xg=s,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=s),s=qj(s,o.children),s.flags|=4096,s)}function vj(e,s,i){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s),bh(e.return,s,i)}function wj(e,s,i,o,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:a}:(c.isBackwards=s,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=i,c.tailMode=a)}function xj(e,s,i){var o=s.pendingProps,a=o.revealOrder,c=o.tail;if(Xi(e,s,o.children,i),o=L.current,o&2)o=o&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,i,s);else if(e.tag===19)vj(e,i,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(G(L,o),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(i=s.child,a=null;i!==null;)e=i.alternate,e!==null&&Ch(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=s.child,s.child=null):(a=i.sibling,i.sibling=null),wj(s,!1,a,i,c);break;case"backwards":for(i=null,a=s.child,s.child=null;a!==null;){if(e=a.alternate,e!==null&&Ch(e)===null){s.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}wj(s,!0,i,null,c);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zi(e,s,i){if(e!==null&&(s.dependencies=e.dependencies),rh|=s.lanes,!(i&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(p(153));if(s.child!==null){for(e=s.child,i=Pg(e,e.pendingProps),s.child=i,i.return=s;e.sibling!==null;)e=e.sibling,i=i.sibling=Pg(e,e.pendingProps),i.return=s;i.sibling=null}return s.child}function yj(e,s,i){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var o=s.type._context,a=s.memoizedProps.value;G(Wg,o._currentValue),o._currentValue=a;break;case 13:if(o=s.memoizedState,o!==null)return o.dehydrated!==null?(G(L,L.current&1),s.flags|=128,null):i&s.child.childLanes?oj(e,s,i):(G(L,L.current&1),e=Zi(e,s,i),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(o=(i&s.childLanes)!==0,e.flags&128){if(o)return xj(e,s,i);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(L,L.current),o)break;return null;case 22:case 23:return s.lanes=0,dj(e,s,i)}return Zi(e,s,i)}var zj,Aj,Bj,Cj;zj=function(e,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Aj=function(){};Bj=function(e,s,i,o){var a=e.memoizedProps;if(a!==o){e=s.stateNode,xh(uh.current);var c=null;switch(i){case"input":a=Ya(e,a),o=Ya(e,o),c=[];break;case"select":a=A({},a,{value:void 0}),o=A({},o,{value:void 0}),c=[];break;case"textarea":a=gb(e,a),o=gb(e,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bf)}ub(i,o);var d;i=null;for(b in a)if(!o.hasOwnProperty(b)&&a.hasOwnProperty(b)&&a[b]!=null)if(b==="style"){var h=a[b];for(d in h)h.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in o){var g=o[b];if(h=a!=null?a[b]:void 0,o.hasOwnProperty(b)&&g!==h&&(g!=null||h!=null))if(b==="style")if(h){for(d in h)!h.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in g)g.hasOwnProperty(d)&&h[d]!==g[d]&&(i||(i={}),i[d]=g[d])}else i||(c||(c=[]),c.push(b,i)),i=g;else b==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(c=c||[]).push(b,g)):b==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(b,""+g):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(g!=null&&b==="onScroll"&&D("scroll",e),c||h===g||(c=[])):(c=c||[]).push(b,g))}i&&(c=c||[]).push("style",i);var b=c;(s.updateQueue=b)&&(s.flags|=4)}};Cj=function(e,s,i,o){i!==o&&(s.flags|=4)};function Dj(e,s){if(!I)switch(e.tailMode){case"hidden":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function S(e){var s=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(s)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=i,s}function Ej(e,s,i){var o=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(s),null;case 1:return Zf(s.type)&&$f(),S(s),null;case 3:return o=s.stateNode,zh(),E(Wf),E(H),Eh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gg(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,s),S(s),null;case 5:Bh(s);var a=xh(wh.current);if(i=s.type,e!==null&&s.stateNode!=null)Bj(e,s,i,o,a),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!o){if(s.stateNode===null)throw Error(p(166));return S(s),null}if(e=xh(uh.current),Gg(s)){o=s.stateNode,i=s.type;var c=s.memoizedProps;switch(o[Of]=s,o[Pf]=c,e=(s.mode&1)!==0,i){case"dialog":D("cancel",o),D("close",o);break;case"iframe":case"object":case"embed":D("load",o);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],o);break;case"source":D("error",o);break;case"img":case"image":case"link":D("error",o),D("load",o);break;case"details":D("toggle",o);break;case"input":Za(o,c),D("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},D("invalid",o);break;case"textarea":hb(o,c),D("invalid",o)}ub(i,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?o.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",h]):typeof h=="number"&&o.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(o.textContent,h,e),a=["children",""+h]):ea.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D("scroll",o)}switch(i){case"input":Va(o),db(o,c,!0);break;case"textarea":Va(o),jb(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bf)}o=a,s.updateQueue=o,o!==null&&(s.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(i,{is:o.is}):(e=d.createElement(i),i==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,i),e[Of]=s,e[Pf]=o,zj(e,s,!1,!1),s.stateNode=e;e:{switch(d=vb(i,o),i){case"dialog":D("cancel",e),D("close",e),a=o;break;case"iframe":case"object":case"embed":D("load",e),a=o;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],e);a=o;break;case"source":D("error",e),a=o;break;case"img":case"image":case"link":D("error",e),D("load",e),a=o;break;case"details":D("toggle",e),a=o;break;case"input":Za(e,o),a=Ya(e,o),D("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=A({},o,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,o),a=gb(e,o),D("invalid",e);break;default:a=o}ub(i,a),h=a;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];c==="style"?sb(e,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):c==="children"?typeof g=="string"?(i!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D("scroll",e):g!=null&&ta(e,c,g,d))}switch(i){case"input":Va(e),db(e,o,!1);break;case"textarea":Va(e),jb(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Sa(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?fb(e,!!o.multiple,c,!1):o.defaultValue!=null&&fb(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S(s),null;case 6:if(e&&s.stateNode!=null)Cj(e,s,e.memoizedProps,o);else{if(typeof o!="string"&&s.stateNode===null)throw Error(p(166));if(i=xh(wh.current),xh(uh.current),Gg(s)){if(o=s.stateNode,i=s.memoizedProps,o[Of]=s,(c=o.nodeValue!==i)&&(e=xg,e!==null))switch(e.tag){case 3:Af(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(o.nodeValue,i,(e.mode&1)!==0)}c&&(s.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Of]=s,s.stateNode=o}return S(s),null;case 13:if(E(L),o=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,c=!1;else if(c=Gg(s),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S(s),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return s.flags&65536?s:null}return s.flags&128?(s.lanes=i,s):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(s.child.flags|=8192,s.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),s.updateQueue!==null&&(s.flags|=4),S(s),null);case 4:return zh(),Aj(e,s),e===null&&sf(s.stateNode.containerInfo),S(s),null;case 10:return ah(s.type._context),S(s),null;case 17:return Zf(s.type)&&$f(),S(s),null;case 19:if(E(L),c=s.memoizedState,c===null)return S(s),null;if(o=(s.flags&128)!==0,d=c.rendering,d===null)if(o)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(d=Ch(e),d!==null){for(s.flags|=128,Dj(c,!1),o=d.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),s.subtreeFlags=0,o=i,i=s.child;i!==null;)c=i,e=o,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return G(L,L.current&1|2),s.child}e=e.sibling}c.tail!==null&&B()>Gj&&(s.flags|=128,o=!0,Dj(c,!1),s.lanes=4194304)}else{if(!o)if(e=Ch(d),e!==null){if(s.flags|=128,o=!0,i=e.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(s),null}else 2*B()-c.renderingStartTime>Gj&&i!==1073741824&&(s.flags|=128,o=!0,Dj(c,!1),s.lanes=4194304);c.isBackwards?(d.sibling=s.child,s.child=d):(i=c.last,i!==null?i.sibling=d:s.child=d,c.last=d)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=B(),s.sibling=null,i=L.current,G(L,o?i&1|2:i&1),s):(S(s),null);case 22:case 23:return Hj(),o=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(s.flags|=8192),o&&s.mode&1?fj&1073741824&&(S(s),s.subtreeFlags&6&&(s.flags|=8192)):S(s),null;case 24:return null;case 25:return null}throw Error(p(156,s.tag))}function Ij(e,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return zh(),E(Wf),E(H),Eh(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E(L),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(p(340));Ig()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,s){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){W(e,s,o)}else i.current=null}function Mj(e,s,i){try{i()}catch(o){W(e,s,o)}}var Nj=!1;function Oj(e,s){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,h=-1,g=-1,b=0,_=0,$=e,et=null;t:for(;;){for(var _e;$!==i||a!==0&&$.nodeType!==3||(h=d+a),$!==c||o!==0&&$.nodeType!==3||(g=d+o),$.nodeType===3&&(d+=$.nodeValue.length),(_e=$.firstChild)!==null;)et=$,$=_e;for(;;){if($===e)break t;if(et===i&&++b===a&&(h=d),et===c&&++_===o&&(g=d),(_e=$.nextSibling)!==null)break;$=et,et=$.parentNode}$=_e}i=h===-1||g===-1?null:{start:h,end:g}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:e,selectionRange:i},dd=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var st=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var nt=st.memoizedProps,it=st.memoizedState,j=s.stateNode,tt=j.getSnapshotBeforeUpdate(s.elementType===s.type?nt:Ci(s.type,nt),it);j.__reactInternalSnapshotBeforeUpdate=tt}break;case 3:var ot=s.stateNode.containerInfo;ot.nodeType===1?ot.textContent="":ot.nodeType===9&&ot.documentElement&&ot.removeChild(ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(lt){W(s,s.return,lt)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return st=Nj,Nj=!1,st}function Pj(e,s,i){var o=s.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&Mj(s,i,c)}a=a.next}while(a!==o)}}function Qj(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==s)}}function Rj(e){var s=e.ref;if(s!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof s=="function"?s(e):s.current=e}}function Sj(e){var s=e.alternate;s!==null&&(e.alternate=null,Sj(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,s,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(e,s):i.insertBefore(e,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(e,i)):(s=i,s.appendChild(e)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Bf));else if(o!==4&&(e=e.child,e!==null))for(Vj(e,s,i),e=e.sibling;e!==null;)Vj(e,s,i),e=e.sibling}function Wj(e,s,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,s?i.insertBefore(e,s):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Wj(e,s,i),e=e.sibling;e!==null;)Wj(e,s,i),e=e.sibling}var X$1=null,Xj=!1;function Yj(e,s,i){for(i=i.child;i!==null;)Zj(e,s,i),i=i.sibling}function Zj(e,s,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Lj(i,s);case 6:var o=X$1,a=Xj;X$1=null,Yj(e,s,i),X$1=o,Xj=a,X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):X$1.removeChild(i.stateNode));break;case 18:X$1!==null&&(Xj?(e=X$1,i=i.stateNode,e.nodeType===8?Kf(e.parentNode,i):e.nodeType===1&&Kf(e,i),bd(e)):Kf(X$1,i.stateNode));break;case 4:o=X$1,a=Xj,X$1=i.stateNode.containerInfo,Xj=!0,Yj(e,s,i),X$1=o,Xj=a;break;case 0:case 11:case 14:case 15:if(!U&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(i,s,d),a=a.next}while(a!==o)}Yj(e,s,i);break;case 1:if(!U&&(Lj(i,s),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(h){W(i,s,h)}Yj(e,s,i);break;case 21:Yj(e,s,i);break;case 22:i.mode&1?(U=(o=U)||i.memoizedState!==null,Yj(e,s,i),U=o):Yj(e,s,i);break;default:Yj(e,s,i)}}function ak(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kj),s.forEach(function(o){var a=bk.bind(null,e,o);i.has(o)||(i.add(o),o.then(a,a))})}}function ck(e,s){var i=s.deletions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];try{var c=e,d=s,h=d;e:for(;h!==null;){switch(h.tag){case 5:X$1=h.stateNode,Xj=!1;break e;case 3:X$1=h.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=h.stateNode.containerInfo,Xj=!0;break e}h=h.return}if(X$1===null)throw Error(p(160));Zj(c,d,a),X$1=null,Xj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(b){W(a,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,e),s=s.sibling}function dk(e,s){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(s,e),ek(e),o&4){try{Pj(3,e,e.return),Qj(3,e)}catch(nt){W(e,e.return,nt)}try{Pj(5,e,e.return)}catch(nt){W(e,e.return,nt)}}break;case 1:ck(s,e),ek(e),o&512&&i!==null&&Lj(i,i.return);break;case 5:if(ck(s,e),ek(e),o&512&&i!==null&&Lj(i,i.return),e.flags&32){var a=e.stateNode;try{ob(a,"")}catch(nt){W(e,e.return,nt)}}if(o&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,d=i!==null?i.memoizedProps:c,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(h,d);var b=vb(h,c);for(d=0;d<g.length;d+=2){var _=g[d],$=g[d+1];_==="style"?sb(a,$):_==="dangerouslySetInnerHTML"?nb(a,$):_==="children"?ob(a,$):ta(a,_,$,b)}switch(h){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var et=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var _e=c.value;_e!=null?fb(a,!!c.multiple,_e,!1):et!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(nt){W(e,e.return,nt)}}break;case 6:if(ck(s,e),ek(e),o&4){if(e.stateNode===null)throw Error(p(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(nt){W(e,e.return,nt)}}break;case 3:if(ck(s,e),ek(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(nt){W(e,e.return,nt)}break;case 4:ck(s,e),ek(e);break;case 13:ck(s,e),ek(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(fk=B())),o&4&&ak(e);break;case 22:if(_=i!==null&&i.memoizedState!==null,e.mode&1?(U=(b=U)||_,ck(s,e),U=b):ck(s,e),ek(e),o&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!_&&e.mode&1)for(V=e,_=e.child;_!==null;){for($=V=_;V!==null;){switch(et=V,_e=et.child,et.tag){case 0:case 11:case 14:case 15:Pj(4,et,et.return);break;case 1:Lj(et,et.return);var st=et.stateNode;if(typeof st.componentWillUnmount=="function"){o=et,i=et.return;try{s=o,st.props=s.memoizedProps,st.state=s.memoizedState,st.componentWillUnmount()}catch(nt){W(o,i,nt)}}break;case 5:Lj(et,et.return);break;case 22:if(et.memoizedState!==null){gk($);continue}}_e!==null?(_e.return=et,V=_e):gk($)}_=_.sibling}e:for(_=null,$=e;;){if($.tag===5){if(_===null){_=$;try{a=$.stateNode,b?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=$.stateNode,g=$.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=rb("display",d))}catch(nt){W(e,e.return,nt)}}}else if($.tag===6){if(_===null)try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(nt){W(e,e.return,nt)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;_===$&&(_=null),$=$.return}_===$&&(_=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:ck(s,e),ek(e),o&4&&ak(e);break;case 21:break;default:ck(s,e),ek(e)}}function ek(e){var s=e.flags;if(s&2){try{e:{for(var i=e.return;i!==null;){if(Tj(i)){var o=i;break e}i=i.return}throw Error(p(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(ob(a,""),o.flags&=-33);var c=Uj(e);Wj(e,c,a);break;case 3:case 4:var d=o.stateNode.containerInfo,h=Uj(e);Vj(e,h,d);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function hk(e,s,i){V=e,ik(e)}function ik(e,s,i){for(var o=(e.mode&1)!==0;V!==null;){var a=V,c=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||Jj;if(!d){var h=a.alternate,g=h!==null&&h.memoizedState!==null||U;h=Jj;var b=U;if(Jj=d,(U=g)&&!b)for(V=a;V!==null;)d=V,g=d.child,d.tag===22&&d.memoizedState!==null?jk(a):g!==null?(g.return=d,V=g):jk(a);for(;c!==null;)V=c,ik(c),c=c.sibling;V=a,Jj=h,U=b}kk(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V=c):kk(e)}}function kk(e){for(;V!==null;){var s=V;if(s.flags&8772){var i=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U||Qj(5,s);break;case 1:var o=s.stateNode;if(s.flags&4&&!U)if(i===null)o.componentDidMount();else{var a=s.elementType===s.type?i.memoizedProps:Ci(s.type,i.memoizedProps);o.componentDidUpdate(a,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=s.updateQueue;c!==null&&sh(s,c,o);break;case 3:var d=s.updateQueue;if(d!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}sh(s,d,i)}break;case 5:var h=s.stateNode;if(i===null&&s.flags&4){i=h;var g=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&i.focus();break;case"img":g.src&&(i.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var _=b.memoizedState;if(_!==null){var $=_.dehydrated;$!==null&&bd($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||s.flags&512&&Rj(s)}catch(et){W(s,s.return,et)}}if(s===e){V=null;break}if(i=s.sibling,i!==null){i.return=s.return,V=i;break}V=s.return}}function gk(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var i=s.sibling;if(i!==null){i.return=s.return,V=i;break}V=s.return}}function jk(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{Qj(4,s)}catch(g){W(s,i,g)}break;case 1:var o=s.stateNode;if(typeof o.componentDidMount=="function"){var a=s.return;try{o.componentDidMount()}catch(g){W(s,a,g)}}var c=s.return;try{Rj(s)}catch(g){W(s,c,g)}break;case 5:var d=s.return;try{Rj(s)}catch(g){W(s,d,g)}}}catch(g){W(s,s.return,g)}if(s===e){V=null;break}var h=s.sibling;if(h!==null){h.return=s.return,V=h;break}V=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,s,i,o){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,i,o),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=i),T===4&&Ck(e,Z)),Dk(e,o),i===1&&K===0&&!(s.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,s){var i=e.callbackNode;wc(e,s);var o=uc(e,e===Q?Z:0);if(o===0)i!==null&&bc(i),e.callbackNode=null,e.callbackPriority=0;else if(s=o&-o,e.callbackPriority!==s){if(i!=null&&bc(i),s===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(o)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Fk(i,Gk.bind(null,e))}e.callbackPriority=s,e.callbackNode=i}}function Gk(e,s){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var i=e.callbackNode;if(Hk()&&e.callbackNode!==i)return null;var o=uc(e,e===Q?Z:0);if(o===0)return null;if(o&30||o&e.expiredLanes||s)s=Ik(e,o);else{s=o;var a=K;K|=2;var c=Jk();(Q!==e||Z!==s)&&(uk=null,Gj=B()+500,Kk(e,s));do try{Lk();break}catch(h){Mk(e,h)}while(!0);$g(),mk.current=c,K=a,Y!==null?s=0:(Q=null,Z=0,s=T)}if(s!==0){if(s===2&&(a=xc(e),a!==0&&(o=a,s=Nk(e,a))),s===1)throw i=pk,Kk(e,0),Ck(e,o),Dk(e,B()),i;if(s===6)Ck(e,o);else{if(a=e.current.alternate,!(o&30)&&!Ok(a)&&(s=Ik(e,o),s===2&&(c=xc(e),c!==0&&(o=c,s=Nk(e,c))),s===1))throw i=pk,Kk(e,0),Ck(e,o),Dk(e,B()),i;switch(e.finishedWork=a,e.finishedLanes=o,s){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,o),(o&130023424)===o&&(s=fk+500-B(),10<s)){if(uc(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){R(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 4:if(Ck(e,o),(o&4194240)===o)break;for(s=e.eventTimes,a=-1;0<o;){var d=31-oc(o);c=1<<d,d=s[d],d>a&&(a=d),o&=~c}if(o=a,o=B()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*lk(o/1960))-o,10<o){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===i?Gk.bind(null,e):null}function Nk(e,s){var i=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,s).flags|=256),e=Ik(e,s),e!==2&&(s=tk,tk=i,s!==null&&Fj(s)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var s=e;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var a=i[o],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(e,s){for(s&=~rk,s&=~qk,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var i=31-oc(s),o=1<<i;e[i]=-1,s&=~o}}function Ek(e){if(K&6)throw Error(p(327));Hk();var s=uc(e,0);if(!(s&1))return Dk(e,B()),null;var i=Ik(e,s);if(e.tag!==0&&i===2){var o=xc(e);o!==0&&(s=o,i=Nk(e,o))}if(i===1)throw i=pk,Kk(e,0),Ck(e,s),Dk(e,B()),i;if(i===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,s){var i=K;K|=1;try{return e(s)}finally{K=i,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var s=K;K|=1;var i=ok.transition,o=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=o,ok.transition=i,K=s,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,s){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var o=i;switch(wg(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(o);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(o.type._context);break;case 22:case 23:Hj()}i=i.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=s,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(i=fh[s],o=i.interleaved,o!==null){i.interleaved=null;var a=o.next,c=i.pending;if(c!==null){var d=c.next;c.next=a,o.next=d}i.pending=o}fh=null}return e}function Mk(e,s){do{var i=Y;try{if($g(),Fh.current=Rh,Ih){for(var o=M.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,i===null||i.return===null){T=1,pk=s,Y=null;break}e:{var c=e,d=i.return,h=i,g=s;if(s=Z,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var b=g,_=h,$=_.tag;if(!(_.mode&1)&&($===0||$===11||$===15)){var et=_.alternate;et?(_.updateQueue=et.updateQueue,_.memoizedState=et.memoizedState,_.lanes=et.lanes):(_.updateQueue=null,_.memoizedState=null)}var _e=Ui(d);if(_e!==null){_e.flags&=-257,Vi(_e,d,h,c,s),_e.mode&1&&Si(c,b,s),s=_e,g=b;var st=s.updateQueue;if(st===null){var nt=new Set;nt.add(g),s.updateQueue=nt}else st.add(g);break e}else{if(!(s&1)){Si(c,b,s),tj();break e}g=Error(p(426))}}else if(I&&h.mode&1){var it=Ui(d);if(it!==null){!(it.flags&65536)&&(it.flags|=256),Vi(it,d,h,c,s),Jg(Ji(g,h));break e}}c=g=Ji(g,h),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,s&=-s,c.lanes|=s;var j=Ni(c,g,s);ph(c,j);break e;case 1:h=g;var tt=c.type,ot=c.stateNode;if(!(c.flags&128)&&(typeof tt.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(ot)))){c.flags|=65536,s&=-s,c.lanes|=s;var lt=Qi(c,h,s);ph(c,lt);break e}}c=c.return}while(c!==null)}Sk(i)}catch(rt){s=rt,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,s){var i=K;K|=2;var o=Jk();(Q!==e||Z!==s)&&(uk=null,Kk(e,s));do try{Tk();break}catch(a){Mk(e,a)}while(!0);if($g(),K=i,mk.current=o,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var s=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,s===null?Sk(e):Y=s,nk.current=null}function Sk(e){var s=e;do{var i=s.alternate;if(e=s.return,s.flags&32768){if(i=Ij(i,s),i!==null){i.flags&=32767,Y=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(i=Ej(i,s,fj),i!==null){Y=i;return}if(s=s.sibling,s!==null){Y=s;return}Y=s=e}while(s!==null);T===0&&(T=5)}function Pk(e,s,i){var o=C,a=ok.transition;try{ok.transition=null,C=1,Wk(e,s,i,o)}finally{ok.transition=a,C=o}return null}function Wk(e,s,i,o){do Hk();while(wk!==null);if(K&6)throw Error(p(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var h=K;K|=4,nk.current=null,Oj(e,i),dk(i,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=i,hk(i),dc(),K=h,C=d,ok.transition=c}else e.current=i;if(vk&&(vk=!1,wk=e,xk=a),c=e.pendingLanes,c===0&&(Ri=null),mc(i.stateNode),Dk(e,B()),s!==null)for(o=e.onRecoverableError,i=0;i<s.length;i++)a=s[i],o(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),s=ok.transition,i=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var o=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V=e.current;V!==null;){var c=V,d=c.child;if(V.flags&16){var h=c.deletions;if(h!==null){for(var g=0;g<h.length;g++){var b=h[g];for(V=b;V!==null;){var _=V;switch(_.tag){case 0:case 11:case 15:Pj(8,_,c)}var $=_.child;if($!==null)$.return=_,V=$;else for(;V!==null;){_=V;var et=_.sibling,_e=_.return;if(Sj(_),_===b){V=null;break}if(et!==null){et.return=_e,V=et;break}V=_e}}}var st=c.alternate;if(st!==null){var nt=st.child;if(nt!==null){st.child=null;do{var it=nt.sibling;nt.sibling=null,nt=it}while(nt!==null)}}V=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V=d;else e:for(;V!==null;){if(c=V,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var j=c.sibling;if(j!==null){j.return=c.return,V=j;break e}V=c.return}}var tt=e.current;for(V=tt;V!==null;){d=V;var ot=d.child;if(d.subtreeFlags&2064&&ot!==null)ot.return=d,V=ot;else e:for(d=tt;V!==null;){if(h=V,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(rt){W(h,h.return,rt)}if(h===d){V=null;break e}var lt=h.sibling;if(lt!==null){lt.return=h.return,V=lt;break e}V=h.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}o=!0}return o}finally{C=i,ok.transition=s}}return!1}function Xk(e,s,i){s=Ji(i,s),s=Ni(e,s,1),e=nh(e,s,1),s=R(),e!==null&&(Ac(e,1,s),Dk(e,s))}function W(e,s,i){if(e.tag===3)Xk(e,e,i);else for(;s!==null;){if(s.tag===3){Xk(s,e,i);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ri===null||!Ri.has(o))){e=Ji(i,e),e=Qi(s,e,1),s=nh(s,e,1),e=R(),s!==null&&(Ac(s,1,e),Dk(s,e));break}}s=s.return}}function Ti(e,s,i){var o=e.pingCache;o!==null&&o.delete(s),s=R(),e.pingedLanes|=e.suspendedLanes&i,Q===e&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=i),Dk(e,s)}function Yk(e,s){s===0&&(e.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var i=R();e=ih(e,s),e!==null&&(Ac(e,s,i),Dk(e,i))}function uj(e){var s=e.memoizedState,i=0;s!==null&&(i=s.retryLane),Yk(e,i)}function bk(e,s){var i=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(p(314))}o!==null&&o.delete(s),Yk(e,i)}var Vk;Vk=function(e,s,i){if(e!==null)if(e.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&i)&&!(s.flags&128))return dh=!1,yj(e,s,i);dh=!!(e.flags&131072)}else dh=!1,I&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var o=s.type;ij(e,s),e=s.pendingProps;var a=Yf(s,H.current);ch(s,i),a=Nh(null,s,o,e,a,i);var c=Sh();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(o)?(c=!0,cg(s)):c=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kh(s),a.updater=Ei,s.stateNode=a,a._reactInternals=s,Ii(s,o,e,i),s=jj(null,s,o,!0,c,i)):(s.tag=0,I&&c&&vg(s),Xi(null,s,a,i),s=s.child),s;case 16:o=s.elementType;e:{switch(ij(e,s),e=s.pendingProps,a=o._init,o=a(o._payload),s.type=o,a=s.tag=Zk(o),e=Ci(o,e),a){case 0:s=cj(null,s,o,e,i);break e;case 1:s=hj(null,s,o,e,i);break e;case 11:s=Yi(null,s,o,e,i);break e;case 14:s=$i(null,s,o,Ci(o.type,e),i);break e}throw Error(p(306,o,""))}return s;case 0:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),cj(e,s,o,a,i);case 1:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),hj(e,s,o,a,i);case 3:e:{if(kj(s),e===null)throw Error(p(387));o=s.pendingProps,c=s.memoizedState,a=c.element,lh(e,s),qh(s,o,null,i);var d=s.memoizedState;if(o=d.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){a=Ji(Error(p(423)),s),s=lj(e,s,o,i,a);break e}else if(o!==a){a=Ji(Error(p(424)),s),s=lj(e,s,o,i,a);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I=!0,zg=null,i=Vg(s,null,o,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),o===a){s=Zi(e,s,i);break e}Xi(e,s,o,i)}s=s.child}return s;case 5:return Ah(s),e===null&&Eg(s),o=s.type,a=s.pendingProps,c=e!==null?e.memoizedProps:null,d=a.children,Ef(o,a)?d=null:c!==null&&Ef(o,c)&&(s.flags|=32),gj(e,s),Xi(e,s,d,i),s.child;case 6:return e===null&&Eg(s),null;case 13:return oj(e,s,i);case 4:return yh(s,s.stateNode.containerInfo),o=s.pendingProps,e===null?s.child=Ug(s,null,o,i):Xi(e,s,o,i),s.child;case 11:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),Yi(e,s,o,a,i);case 7:return Xi(e,s,s.pendingProps,i),s.child;case 8:return Xi(e,s,s.pendingProps.children,i),s.child;case 12:return Xi(e,s,s.pendingProps.children,i),s.child;case 10:e:{if(o=s.type._context,a=s.pendingProps,c=s.memoizedProps,d=a.value,G(Wg,o._currentValue),o._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){s=Zi(e,s,i);break e}}else for(c=s.child,c!==null&&(c.return=s);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var g=h.firstContext;g!==null;){if(g.context===o){if(c.tag===1){g=mh(-1,i&-i),g.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var _=b.pending;_===null?g.next=g:(g.next=_.next,_.next=g),b.pending=g}}c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),bh(c.return,i,s),h.lanes|=i;break}g=g.next}}else if(c.tag===10)d=c.type===s.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=i,h=d.alternate,h!==null&&(h.lanes|=i),bh(d,i,s),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===s){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,s,a.children,i),s=s.child}return s;case 9:return a=s.type,o=s.pendingProps.children,ch(s,i),a=eh(a),o=o(a),s.flags|=1,Xi(e,s,o,i),s.child;case 14:return o=s.type,a=Ci(o,s.pendingProps),a=Ci(o.type,a),$i(e,s,o,a,i);case 15:return bj(e,s,s.type,s.pendingProps,i);case 17:return o=s.type,a=s.pendingProps,a=s.elementType===o?a:Ci(o,a),ij(e,s),s.tag=1,Zf(o)?(e=!0,cg(s)):e=!1,ch(s,i),Gi(s,o,a),Ii(s,o,a,i),jj(null,s,o,!0,e,i);case 19:return xj(e,s,i);case 22:return dj(e,s,i)}throw Error(p(156,s.tag))};function Fk(e,s){return ac(e,s)}function $k(e,s,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,s,i,o){return new $k(e,s,i,o)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,s){var i=e.alternate;return i===null?(i=Bg(e.tag,s,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=s,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,s=e.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rg(e,s,i,o,a,c){var d=2;if(o=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(i.children,a,c,s);case za:d=8,a|=8;break;case Aa:return e=Bg(12,i,s,a|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,i,s,a),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,i,s,a),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(i,a,c,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,o=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return s=Bg(d,i,s,a),s.elementType=e,s.type=o,s.lanes=c,s}function Tg(e,s,i,o){return e=Bg(7,e,o,s),e.lanes=i,e}function pj(e,s,i,o){return e=Bg(22,e,o,s),e.elementType=Ia,e.lanes=i,e.stateNode={isHidden:!1},e}function Qg(e,s,i){return e=Bg(6,e,null,s),e.lanes=i,e}function Sg(e,s,i){return s=Bg(4,e.children!==null?e.children:[],e.key,s),s.lanes=i,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function al(e,s,i,o,a){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bl(e,s,i,o,a,c,d,h,g){return e=new al(e,s,i,h,g),s===1?(s=1,c===!0&&(s|=8)):s=0,c=Bg(3,null,null,s),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,s,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:o==null?null:""+o,children:e,containerInfo:s,implementation:i}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p(171))}if(e.tag===1){var i=e.type;if(Zf(i))return bg(e,i,s)}return s}function el(e,s,i,o,a,c,d,h,g){return e=bl(i,o,!0,e,a,c,d,h,g),e.context=dl(null),i=e.current,o=R(),a=yi(i),c=mh(o,a),c.callback=s??null,nh(i,c,a),e.current.lanes=a,Ac(e,a,o),Dk(e,o),e}function fl(e,s,i,o){var a=s.current,c=R(),d=yi(a);return i=dl(i),s.context===null?s.context=i:s.pendingContext=i,s=mh(c,d),s.payload={element:e},o=o===void 0?null:o,o!==null&&(s.callback=o),e=nh(a,s,d),e!==null&&(gi(e,a,d,c),oh(e,a,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<s?i:s}}function il(e,s){hl(e,s),(e=e.alternate)&&hl(e,s)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(p(409));fl(e,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Rk(function(){fl(null,e,null,null)}),s[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var s=Hc();e={blockedOn:null,target:e,priority:s};for(var i=0;i<Qc.length&&s!==0&&s<Qc[i].priority;i++);Qc.splice(i,0,e),i===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,s,i,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var b=gl(d);c.call(b)}}var d=el(s,o,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var h=o;o=function(){var b=gl(g);h.call(b)}}var g=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(s,g,i,o)}),g}function rl(e,s,i,o,a){var c=i._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var h=a;a=function(){var g=gl(d);h.call(g)}}fl(s,d,e,a)}else d=ql(i,s,e,a,o);return gl(d)}Ec=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var i=tc(s.pendingLanes);i!==0&&(Cc(s,i|1),Dk(s,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var o=ih(e,1);if(o!==null){var a=R();gi(o,e,1,a)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var s=ih(e,134217728);if(s!==null){var i=R();gi(s,e,134217728,i)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var s=yi(e),i=ih(e,s);if(i!==null){var o=R();gi(i,e,s,o)}il(e,s)}};Hc=function(){return C};Ic=function(e,s){var i=C;try{return C=e,s()}finally{C=i}};yb=function(e,s,i){switch(s){case"input":if(bb(e,i),s=i.name,i.type==="radio"&&s!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var o=i[s];if(o!==e&&o.form===e.form){var a=Db(o);if(!a)throw Error(p(90));Wa(o),bb(o,a)}}}break;case"textarea":ib(e,i);break;case"select":s=i.value,s!=null&&fb(e,!!i.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p(200));return cl(e,s,null,i)};reactDom_production_min.createRoot=function(e,s){if(!nl(e))throw Error(p(299));var i=!1,o="",a=kl;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=bl(e,1,!1,null,null,i,!1,o,a),e[uf]=s.current,sf(e.nodeType===8?e.parentNode:e),new ll(s)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(s),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!0,i)};reactDom_production_min.hydrateRoot=function(e,s,i){if(!nl(e))throw Error(p(405));var o=i!=null&&i.hydratedSources||null,a=!1,c="",d=kl;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),s=el(s,null,e,1,i??null,a,!1,c,d),e[uf]=s.current,sf(e),o)for(e=0;e<o.length;e++)i=o[e],a=i._getVersion,a=a(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,a]:s.mutableSourceEagerHydrationData.push(i,a);return new ml(s)};reactDom_production_min.render=function(e,s,i){if(!ol(s))throw Error(p(200));return rl(null,e,s,!1,i)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,s,i,o){if(!ol(i))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,s,i,!1,o)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;function r(e){var s,i,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(s=0;s<a;s++)e[s]&&(i=r(e[s]))&&(o&&(o+=" "),o+=i)}else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}function clsx(){for(var e,s,i=0,o="",a=arguments.length;i<a;i++)(e=arguments[i])&&(s=r(e))&&(o&&(o+=" "),o+=s);return o}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const s=createClassMap(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:d=>{const h=d.split(CLASS_PART_SEPARATOR);return h[0]===""&&h.length!==1&&h.shift(),getGroupRecursive(h,s)||getGroupIdForArbitraryProperty(d)},getConflictingClassGroupIds:(d,h)=>{const g=i[d]||[];return h&&o[d]?[...g,...o[d]]:g}}},getGroupRecursive=(e,s)=>{var d;if(e.length===0)return s.classGroupId;const i=e[0],o=s.nextPart.get(i),a=o?getGroupRecursive(e.slice(1),o):void 0;if(a)return a;if(s.validators.length===0)return;const c=e.join(CLASS_PART_SEPARATOR);return(d=s.validators.find(({validator:h})=>h(c)))==null?void 0:d.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const s=arbitraryPropertyRegex.exec(e)[1],i=s==null?void 0:s.substring(0,s.indexOf(":"));if(i)return"arbitrary.."+i}},createClassMap=e=>{const{theme:s,prefix:i}=e,o={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(e.classGroups),i).forEach(([c,d])=>{processClassesRecursively(d,o,c,s)}),o},processClassesRecursively=(e,s,i,o)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?s:getPart(s,a);c.classGroupId=i;return}if(typeof a=="function"){if(isThemeGetter(a)){processClassesRecursively(a(o),s,i,o);return}s.validators.push({validator:a,classGroupId:i});return}Object.entries(a).forEach(([c,d])=>{processClassesRecursively(d,getPart(s,c),i,o)})})},getPart=(e,s)=>{let i=e;return s.split(CLASS_PART_SEPARATOR).forEach(o=>{i.nextPart.has(o)||i.nextPart.set(o,{nextPart:new Map,validators:[]}),i=i.nextPart.get(o)}),i},isThemeGetter=e=>e.isThemeGetter,getPrefixedClassGroupEntries=(e,s)=>s?e.map(([i,o])=>{const a=o.map(c=>typeof c=="string"?s+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([d,h])=>[s+d,h])):c);return[i,a]}):e,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,i=new Map,o=new Map;const a=(c,d)=>{i.set(c,d),s++,s>e&&(s=0,o=i,i=new Map)};return{get(c){let d=i.get(c);if(d!==void 0)return d;if((d=o.get(c))!==void 0)return a(c,d),d},set(c,d){i.has(c)?i.set(c,d):a(c,d)}}},IMPORTANT_MODIFIER="!",createParseClassName=e=>{const{separator:s,experimentalParseClassName:i}=e,o=s.length===1,a=s[0],c=s.length,d=h=>{const g=[];let b=0,_=0,$;for(let it=0;it<h.length;it++){let j=h[it];if(b===0){if(j===a&&(o||h.slice(it,it+c)===s)){g.push(h.slice(_,it)),_=it+c;continue}if(j==="/"){$=it;continue}}j==="["?b++:j==="]"&&b--}const et=g.length===0?h:h.substring(_),_e=et.startsWith(IMPORTANT_MODIFIER),st=_e?et.substring(1):et,nt=$&&$>_?$-_:void 0;return{modifiers:g,hasImportantModifier:_e,baseClassName:st,maybePostfixModifierPosition:nt}};return i?h=>i({className:h,parseClassName:d}):d},sortModifiers=e=>{if(e.length<=1)return e;const s=[];let i=[];return e.forEach(o=>{o[0]==="["?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,s)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:a}=s,c=[],d=e.trim().split(SPLIT_CLASSES_REGEX);let h="";for(let g=d.length-1;g>=0;g-=1){const b=d[g],{modifiers:_,hasImportantModifier:$,baseClassName:et,maybePostfixModifierPosition:_e}=i(b);let st=!!_e,nt=o(st?et.substring(0,_e):et);if(!nt){if(!st){h=b+(h.length>0?" "+h:h);continue}if(nt=o(et),!nt){h=b+(h.length>0?" "+h:h);continue}st=!1}const it=sortModifiers(_).join(":"),j=$?it+IMPORTANT_MODIFIER:it,tt=j+nt;if(c.includes(tt))continue;c.push(tt);const ot=a(nt,st);for(let lt=0;lt<ot.length;++lt){const rt=ot[lt];c.push(j+rt)}h=b+(h.length>0?" "+h:h)}return h};function twJoin(){let e=0,s,i,o="";for(;e<arguments.length;)(s=arguments[e++])&&(i=toValue(s))&&(o&&(o+=" "),o+=i);return o}const toValue=e=>{if(typeof e=="string")return e;let s,i="";for(let o=0;o<e.length;o++)e[o]&&(s=toValue(e[o]))&&(i&&(i+=" "),i+=s);return i};function createTailwindMerge(e,...s){let i,o,a,c=d;function d(g){const b=s.reduce((_,$)=>$(_),e());return i=createConfigUtils(b),o=i.cache.get,a=i.cache.set,c=h,h(g)}function h(g){const b=o(g);if(b)return b;const _=mergeClassList(g,i);return a(g,_),_}return function(){return c(twJoin.apply(null,arguments))}}const fromTheme=e=>{const s=i=>i[e]||[];return s.isThemeGetter=!0,s},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=e=>isNumber(e)||stringLengths.has(e)||fractionRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,"length",isLengthOnly),isNumber=e=>!!e&&!Number.isNaN(Number(e)),isArbitraryNumber=e=>getIsArbitraryValue(e,"number",isNumber),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isArbitraryValue=e=>arbitraryValueRegex.test(e),isTshirtSize=e=>tshirtUnitRegex.test(e),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=e=>getIsArbitraryValue(e,sizeLabels,isNever),isArbitraryPosition=e=>getIsArbitraryValue(e,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=e=>getIsArbitraryValue(e,imageLabels,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(e,s,i)=>{const o=arbitraryValueRegex.exec(e);return o?o[1]?typeof s=="string"?o[1]===s:s.has(o[1]):i(o[2]):!1},isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),getDefaultConfig=()=>{const e=fromTheme("colors"),s=fromTheme("spacing"),i=fromTheme("blur"),o=fromTheme("brightness"),a=fromTheme("borderColor"),c=fromTheme("borderRadius"),d=fromTheme("borderSpacing"),h=fromTheme("borderWidth"),g=fromTheme("contrast"),b=fromTheme("grayscale"),_=fromTheme("hueRotate"),$=fromTheme("invert"),et=fromTheme("gap"),_e=fromTheme("gradientColorStops"),st=fromTheme("gradientColorStopPositions"),nt=fromTheme("inset"),it=fromTheme("margin"),j=fromTheme("opacity"),tt=fromTheme("padding"),ot=fromTheme("saturate"),lt=fromTheme("scale"),rt=fromTheme("sepia"),ct=fromTheme("skew"),at=fromTheme("space"),ut=fromTheme("translate"),ft=()=>["auto","contain","none"],Ct=()=>["auto","hidden","clip","visible","scroll"],xt=()=>["auto",isArbitraryValue,s],pt=()=>[isArbitraryValue,s],_t=()=>["",isLength,isArbitraryLength],mt=()=>["auto",isNumber,isArbitraryValue],Pt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ut=()=>["solid","dashed","dotted","double","none"],Tt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ot=()=>["start","end","center","between","around","evenly","stretch"],At=()=>["","0",isArbitraryValue],Mt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Rt=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Rt(),borderColor:[e],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:pt(),borderWidth:_t(),contrast:Rt(),grayscale:At(),hueRotate:Rt(),invert:At(),gap:pt(),gradientColorStops:[e],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:xt(),margin:xt(),opacity:Rt(),padding:pt(),saturate:Rt(),scale:Rt(),sepia:At(),skew:Rt(),space:pt(),translate:pt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Mt()}],"break-before":[{"break-before":Mt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Pt(),isArbitraryValue]}],overflow:[{overflow:Ct()}],"overflow-x":[{"overflow-x":Ct()}],"overflow-y":[{"overflow-y":Ct()}],overscroll:[{overscroll:ft()}],"overscroll-x":[{"overscroll-x":ft()}],"overscroll-y":[{"overscroll-y":ft()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[nt]}],"inset-x":[{"inset-x":[nt]}],"inset-y":[{"inset-y":[nt]}],start:[{start:[nt]}],end:[{end:[nt]}],top:[{top:[nt]}],right:[{right:[nt]}],bottom:[{bottom:[nt]}],left:[{left:[nt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:xt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:At()}],shrink:[{shrink:At()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":mt()}],"col-end":[{"col-end":mt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":mt()}],"row-end":[{"row-end":mt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[et]}],"gap-x":[{"gap-x":[et]}],"gap-y":[{"gap-y":[et]}],"justify-content":[{justify:["normal",...Ot()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Ot(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Ot(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[tt]}],px:[{px:[tt]}],py:[{py:[tt]}],ps:[{ps:[tt]}],pe:[{pe:[tt]}],pt:[{pt:[tt]}],pr:[{pr:[tt]}],pb:[{pb:[tt]}],pl:[{pl:[tt]}],m:[{m:[it]}],mx:[{mx:[it]}],my:[{my:[it]}],ms:[{ms:[it]}],me:[{me:[it]}],mt:[{mt:[it]}],mr:[{mr:[it]}],mb:[{mb:[it]}],ml:[{ml:[it]}],"space-x":[{"space-x":[at]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[at]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,s]}],"min-w":[{"min-w":[isArbitraryValue,s,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,s,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,s,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ut(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:pt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Pt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[st]}],"gradient-via-pos":[{via:[st]}],"gradient-to-pos":[{to:[st]}],"gradient-from":[{from:[_e]}],"gradient-via":[{via:[_e]}],"gradient-to":[{to:[_e]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...Ut(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:Ut()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Ut()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_t()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...Tt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Tt()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[o]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[b]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[$]}],saturate:[{saturate:[ot]}],sepia:[{sepia:[rt]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[b]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[$]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[ot]}],"backdrop-sepia":[{"backdrop-sepia":[rt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Rt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Rt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[lt]}],"scale-x":[{"scale-x":[lt]}],"scale-y":[{"scale-y":[lt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[ut]}],"translate-y":[{"translate-y":[ut]}],"skew-x":[{"skew-x":[ct]}],"skew-y":[{"skew-y":[ct]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":pt()}],"scroll-mx":[{"scroll-mx":pt()}],"scroll-my":[{"scroll-my":pt()}],"scroll-ms":[{"scroll-ms":pt()}],"scroll-me":[{"scroll-me":pt()}],"scroll-mt":[{"scroll-mt":pt()}],"scroll-mr":[{"scroll-mr":pt()}],"scroll-mb":[{"scroll-mb":pt()}],"scroll-ml":[{"scroll-ml":pt()}],"scroll-p":[{"scroll-p":pt()}],"scroll-px":[{"scroll-px":pt()}],"scroll-py":[{"scroll-py":pt()}],"scroll-ps":[{"scroll-ps":pt()}],"scroll-pe":[{"scroll-pe":pt()}],"scroll-pt":[{"scroll-pt":pt()}],"scroll-pr":[{"scroll-pr":pt()}],"scroll-pb":[{"scroll-pb":pt()}],"scroll-pl":[{"scroll-pl":pt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}function getContrastColor(e,s="light"){if(!e)return"white";const i=parseInt(e.substr(1,2),16),o=parseInt(e.substr(3,2),16),a=parseInt(e.substr(5,2),16);return(i*299+o*587+a*114)/1e3>=(s==="dark"?128:180)?"black":"white"}function adjustBrightness(i,s){var i=i.replace(/^\s*#|\s*$/g,"");i.length==3&&(i=i.replace(/(.)/g,"$1$1"));var o=parseInt(i.substr(0,2),16),a=parseInt(i.substr(2,2),16),c=parseInt(i.substr(4,2),16);return"#"+(0|256+o+(256-o)*s/100).toString(16).substr(1)+(0|256+a+(256-a)*s/100).toString(16).substr(1)+(0|256+c+(256-c)*s/100).toString(16).substr(1)}const scriptRel="modulepreload",assetsURL=function(e){return"/flashcard_gen/"+e},seen={},__vitePreload=function(s,i,o){let a=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=Promise.allSettled(i.map(g=>{if(g=assetsURL(g),g in seen)return;seen[g]=!0;const b=g.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const $=document.createElement("link");if($.rel=b?"stylesheet":scriptRel,b||($.as="script"),$.crossOrigin="",$.href=g,h&&$.setAttribute("nonce",h),document.head.appendChild($),b)return new Promise((et,_e)=>{$.addEventListener("load",et),$.addEventListener("error",()=>_e(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return a.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return s().catch(c)})},__vite_import_meta_env__$1={},createStoreImpl=e=>{let s;const i=new Set,o=(_,$)=>{const et=typeof _=="function"?_(s):_;if(!Object.is(et,s)){const _e=s;s=$??(typeof et!="object"||et===null)?et:Object.assign({},s,et),i.forEach(st=>st(s,_e))}},a=()=>s,g={setState:o,getState:a,getInitialState:()=>b,subscribe:_=>(i.add(_),()=>i.delete(_)),destroy:()=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},b=s=e(o,a,g);return g},createStore$1=e=>e?createStoreImpl(e):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(e,s){var i=s(),o=useState({inst:{value:i,getSnapshot:s}}),a=o[0].inst,c=o[1];return useLayoutEffect(function(){a.value=i,a.getSnapshot=s,checkIfSnapshotChanged(a)&&c({inst:a})},[e,i,s]),useEffect$1(function(){return checkIfSnapshotChanged(a)&&c({inst:a}),e(function(){checkIfSnapshotChanged(a)&&c({inst:a})})},[e]),useDebugValue$2(i),i}function checkIfSnapshotChanged(e){var s=e.getSnapshot;e=e.value;try{var i=s();return!objectIs$1(e,i)}catch{return!0}}function useSyncExternalStore$1(e,s){return s()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(e,s,i,o,a){var c=useRef(null);if(c.current===null){var d={hasValue:!1,value:null};c.current=d}else d=c.current;c=useMemo(function(){function g(_e){if(!b){if(b=!0,_=_e,_e=o(_e),a!==void 0&&d.hasValue){var st=d.value;if(a(st,_e))return $=st}return $=_e}if(st=$,objectIs(_,_e))return st;var nt=o(_e);return a!==void 0&&a(st,nt)?(_=_e,st):(_=_e,$=nt)}var b=!1,_,$,et=i===void 0?null:i;return[function(){return g(s())},et===null?void 0:function(){return g(et())}]},[s,i,o,a]);var h=useSyncExternalStore(e,c[0],c[1]);return useEffect(function(){d.hasValue=!0,d.value=h},[h]),useDebugValue$1(h),h};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__={},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=e=>e;function useStore(e,s=identity,i){(__vite_import_meta_env__?"production":void 0)!=="production"&&i&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const o=useSyncExternalStoreWithSelector(e.subscribe,e.getState,e.getServerState||e.getInitialState,s,i);return useDebugValue(o),o}const createImpl=e=>{(__vite_import_meta_env__?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof e=="function"?createStore$1(e):e,i=(o,a)=>useStore(s,o,a);return Object.assign(i,s),i},create=e=>e?createImpl(e):createImpl,subscribeWithSelectorImpl=e=>(s,i,o)=>{const a=o.subscribe;return o.subscribe=(d,h,g)=>{let b=d;if(h){const _=(g==null?void 0:g.equalityFn)||Object.is;let $=d(o.getState());b=et=>{const _e=d(et);if(!_($,_e)){const st=$;h($=_e,st)}},g!=null&&g.fireImmediately&&h($,$)}return a(b)},e(s,i,o)},subscribeWithSelector=subscribeWithSelectorImpl;function promisifyRequest(e){return new Promise((s,i)=>{e.oncomplete=e.onsuccess=()=>s(e.result),e.onabort=e.onerror=()=>i(e.error)})}function createStore(e,s){let i;const o=()=>{if(i)return i;const a=indexedDB.open(e);return a.onupgradeneeded=()=>a.result.createObjectStore(s),i=promisifyRequest(a),i.then(c=>{c.onclose=()=>i=void 0},()=>{}),i};return(a,c)=>o().then(d=>c(d.transaction(s,a).objectStore(s)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore("keyval-store","keyval")),defaultGetStoreFunc}function get(e,s=defaultGetStore()){return s("readonly",i=>promisifyRequest(i.get(e)))}function set(e,s,i=defaultGetStore()){return i("readwrite",o=>(o.put(s,e),promisifyRequest(o.transaction)))}function setMany(e,s=defaultGetStore()){return s("readwrite",i=>(e.forEach(o=>i.put(o[1],o[0])),promisifyRequest(i.transaction)))}function getMany(e,s=defaultGetStore()){return s("readonly",i=>Promise.all(e.map(o=>promisifyRequest(i.get(o)))))}function update(e,s,i=defaultGetStore()){return i("readwrite",o=>new Promise((a,c)=>{o.get(e).onsuccess=function(){try{o.put(s(this.result),e),a(promisifyRequest(o.transaction))}catch(d){c(d)}}}))}function del(e,s=defaultGetStore()){return s("readwrite",i=>(i.delete(e),promisifyRequest(i.transaction)))}function delMany(e,s=defaultGetStore()){return s("readwrite",i=>(e.forEach(o=>i.delete(o)),promisifyRequest(i.transaction)))}function clear(e=defaultGetStore()){return e("readwrite",s=>(s.clear(),promisifyRequest(s.transaction)))}function eachCursor(e,s){return e.openCursor().onsuccess=function(){this.result&&(s(this.result),this.result.continue())},promisifyRequest(e.transaction)}function keys(e=defaultGetStore()){return e("readonly",s=>{if(s.getAllKeys)return promisifyRequest(s.getAllKeys());const i=[];return eachCursor(s,o=>i.push(o.key)).then(()=>i)})}function values(e=defaultGetStore()){return e("readonly",s=>{if(s.getAll)return promisifyRequest(s.getAll());const i=[];return eachCursor(s,o=>i.push(o.value)).then(()=>i)})}function entries(e=defaultGetStore()){return e("readonly",s=>{if(s.getAll&&s.getAllKeys)return Promise.all([promisifyRequest(s.getAllKeys()),promisifyRequest(s.getAll())]).then(([o,a])=>o.map((c,d)=>[c,a[d]]));const i=[];return e("readonly",o=>eachCursor(o,a=>i.push([a.key,a.value])).then(()=>i))})}const index=Object.freeze(Object.defineProperty({__proto__:null,clear,createStore,del,delMany,entries,get,getMany,keys,promisifyRequest,set,setMany,update,values},Symbol.toStringTag,{value:"Module"})),PREFIX="flashcards_project_";async function initPersistence(){if(navigator.storage&&navigator.storage.persist){const e=await navigator.storage.persist();console.log(`[Persistence] Storage persisted: ${e}`)}}async function saveProject(e,s){if(!e)return;const i=PREFIX+e,o={version:1,timestamp:Date.now(),...s,pdfName:e};try{await set(i,o),console.log(`[Persistence] Saved: ${e}`)}catch(a){console.error(`[Persistence] Failed to save ${e}`,a)}}async function loadProject(e){if(!e)return null;const s=PREFIX+e;try{return await get(s)||null}catch(i){return console.error(`[Persistence] Failed to load ${e}`,i),null}}async function listProjects(){try{return(await keys()).filter(i=>i.toString().startsWith(PREFIX)).map(i=>i.toString().replace(PREFIX,""))}catch(e){return console.error("Failed to list projects",e),[]}}async function deleteProject(e){if(!e)return;const s=PREFIX+e;try{await __vitePreload(()=>Promise.resolve().then(()=>index),void 0).then(i=>i.del(s)),console.log(`[Persistence] Deleted: ${e}`)}catch(i){console.error(`[Persistence] Failed to delete ${e}`,i)}}const GLOBAL_STATS_KEY="flashcards_global_stats";async function saveGlobalStats(e){try{await set(GLOBAL_STATS_KEY,e)}catch(s){console.error("[Persistence] Failed to save global stats",s)}}async function loadGlobalStats(){try{return await get(GLOBAL_STATS_KEY)}catch(e){return console.error("[Persistence] Failed to load global stats",e),null}}const GLOBAL_SETTINGS_KEY="flashcards_global_settings";async function saveSettings(e){try{await set(GLOBAL_SETTINGS_KEY,e),console.log("[Persistence] Saved settings")}catch(s){console.error("[Persistence] Failed to save settings",s)}}async function loadSettings(){try{return await get(GLOBAL_SETTINGS_KEY)}catch(e){return console.error("[Persistence] Failed to load settings",e),null}}async function trimProjectPdf(e){if(!e)return;const s=PREFIX+e;try{const i=await get(s);if(i&&i.pdfFile){console.log(`[Persistence] Trimming PDF blob for: ${e}`);const{pdfFile:o,...a}=i;await set(s,a)}}catch(i){console.error(`[Persistence] Failed to trim ${e}`,i)}}const persistence=Object.freeze(Object.defineProperty({__proto__:null,deleteProject,initPersistence,listProjects,loadGlobalStats,loadProject,loadSettings,saveGlobalStats,saveProject,saveSettings,trimProjectPdf},Symbol.toStringTag,{value:"Module"}));initPersistence();const STANDARD_PROMPT_TEMPLATE=`
  You are an expert Flashcard Creator. 
  Analyze the provided image of a document page and the extracted text.
  
  EXTRACTED TEXT START:
  {{textContent}}
  EXTRACTED TEXT END

  EXISTING CARDS:
  {{existingContext}}

  Identify the key concepts, definitions, and important facts.
  Ignore any headers, footers, or page numbers.
  
  CRITICAL: Do NOT create cards that duplicate "EXISTING CARDS".
  CRITICAL: Do NOT use phrases like "According to the document".

  For CLOZE cards:
  - The "back" field is for Extra Context. 
  - Do NOT repeat the cloze content or the full sentence here.
  - ONLY include information in "back" if it adds valuable context not already inside the card text.
  - If no additional context is needed, leave "back" empty string.

  Create 3-5 high-quality flashcards.
  
  Return a JSON array of objects. Each object must have:
  - "type": "basic" or "cloze"
  - "front": Question (for basic)
  - "back": Answer (for basic) OR Extra Context (for cloze)
  - "text": Cloze text (e.g. "The {{c1::mitochondria}} is the powerhouse.")
  - "tags": Array of strings

  Do not include markdown formatting like \\\`\\\`\\\`json. Just return the raw JSON array.
`,DEFAULT_PROMPT_OPENAI=STANDARD_PROMPT_TEMPLATE,DEFAULT_PROMPT_GEMINI=STANDARD_PROMPT_TEMPLATE,DEFAULT_PROMPT_CLAUDE=STANDARD_PROMPT_TEMPLATE,DEFAULT_PROMPT_LOCAL=STANDARD_PROMPT_TEMPLATE,DEFAULT_SCHEMA_JSON={name:"flashcards_response",strict:!0,schema:{type:"object",properties:{cards:{type:"array",description:"A list of flashcards generated from the text.",items:{type:"object",properties:{type:{type:"string",enum:["basic","cloze"],description:"The type of flashcard: 'basic' for Q&A, 'cloze' for fill-in-the-blank."},front:{type:"string",description:"The question or front side of the card (for basic type)."},back:{type:"string",description:"The answer (for basic type). For cloze type, this is the Extra Info/Context (optional, max 30 words)."},text:{type:"string",description:"The cloze text with {{c1::hidden}} parts (only for cloze type)."},tags:{type:"array",items:{type:"string"},description:"Tags for categorizing the card."}},required:["type","front","back","text","tags"],additionalProperties:!1}}},required:["cards"],additionalProperties:!1}},useAppStore=create(subscribeWithSelector((e,s)=>({pdfFile:null,setPdfFile:async i=>{if(e({pdfFile:i}),i&&i.name){s().addRecentFile(i);const o=await loadProject(i.name);if(o){console.log(`[Store] Hydrating from persistence: ${i.name}`);const a=s().userSettings.defaultPrompts||{},c={default:DEFAULT_PROMPT_OPENAI,openai:a.openai||DEFAULT_PROMPT_OPENAI,gemini:a.gemini||DEFAULT_PROMPT_GEMINI,anthropic:a.anthropic||DEFAULT_PROMPT_CLAUDE,local:a.local||DEFAULT_PROMPT_LOCAL},d=o.prompts||{};let h=o.promptsModified;const g={...c};if(h)Object.keys(d).forEach(b=>{h[b]&&(g[b]=d[b])});else{h={};const b=_=>_?_.trim()===DEFAULT_PROMPT_OPENAI.trim()||_.trim()===DEFAULT_PROMPT_LOCAL.trim()||_.trim()===(a.openai||"").trim()||_.trim()===(a.gemini||"").trim()||_.trim()===(a.anthropic||"").trim()||_.trim()===(a.local||"").trim():!0;Object.keys(d).forEach(_=>{d[_]&&!b(d[_])?(h[_]=!0,g[_]=d[_]):h[_]=!1})}e({cards:o.cards||[],annotations:o.annotations||{},currentPage:o.currentPage||1,stats:o.stats||s().stats,prompts:g,promptsModified:h})}else{console.log(`[Store] No persistence found for: ${i.name}`);const a=s().userSettings.defaultPrompts||{},c={default:DEFAULT_PROMPT_OPENAI,gemini:a.gemini||DEFAULT_PROMPT_GEMINI,anthropic:a.anthropic||DEFAULT_PROMPT_CLAUDE,openai:a.openai||DEFAULT_PROMPT_OPENAI,local:a.local||DEFAULT_PROMPT_LOCAL};e({cards:[],annotations:{},prompts:c})}}else{console.log("[Store] Closing PDF, resetting state.");const o=s().userSettings.defaultPrompts||{},a={default:DEFAULT_PROMPT_OPENAI,gemini:o.gemini||DEFAULT_PROMPT_GEMINI,anthropic:o.anthropic||DEFAULT_PROMPT_CLAUDE,openai:o.openai||DEFAULT_PROMPT_OPENAI,local:o.local||DEFAULT_PROMPT_LOCAL};e({cards:[],annotations:{},prompts:a,promptsModified:{},currentPage:1,activePage:null,editingCardId:null,selectedCardIds:[]})}},currentPage:1,setCurrentPage:i=>e({currentPage:i}),activePage:null,setActivePage:i=>e({activePage:i}),annotations:{},addAnnotation:(i,o)=>e(a=>({annotations:{...a.annotations,[i]:[...a.annotations[i]||[],o]}})),cards:[],addCard:i=>e(o=>({cards:[...o.cards,i]})),updateCard:(i,o)=>e(a=>({cards:a.cards.map(c=>c.id===i?{...c,...o}:c)})),removeCard:i=>e(o=>({cards:o.cards.filter(a=>a.id!==i)})),editingCardId:null,setEditingCardId:i=>e({editingCardId:i}),selectedCardIds:[],toggleCardSelection:i=>e(o=>o.selectedCardIds.includes(i)?{selectedCardIds:o.selectedCardIds.filter(a=>a!==i)}:{selectedCardIds:[...o.selectedCardIds,i]}),addTagsToCards:(i,o)=>e(a=>({cards:a.cards.map(c=>{if(i.includes(c.id)){const d=Array.from(new Set([...c.tags||[],...o]));return{...c,tags:d}}return c})})),clearSelection:()=>e({selectedCardIds:[]}),selectAll:i=>e({selectedCardIds:i}),importCards:i=>e(o=>{const a=new Set(o.cards.map(d=>d.id)),c=[...o.cards];return i.forEach(d=>{if(a.has(d.id)){const h=c.findIndex(g=>g.id===d.id);c[h]=d}else c.push(d)}),{cards:c}}),hydrateSettings:i=>e(o=>{const a=i.llmConfig||o.llmConfig;return a.localSchema||(a.localSchema=JSON.stringify(DEFAULT_SCHEMA_JSON,null,2)),a.openaiSchema||(a.openaiSchema=JSON.stringify(DEFAULT_SCHEMA_JSON,null,2)),a.defaultBackend||(a.defaultBackend=a.backend||"openai"),{theme:i.theme||"light",llmConfig:a,userSettings:i.userSettings||o.userSettings,recentFiles:i.recentFiles||[]}}),reorderCards:(i,o)=>e(a=>{const c=[...a.cards],[d]=c.splice(i,1);return c.splice(o,0,d),{cards:c}}),isProcessing:!1,setProcessing:i=>e({isProcessing:i}),createManualCard:(i=1,o="basic")=>e(a=>{const c={id:crypto.randomUUID(),type:o,front:"",back:"",text:"",tags:[],pageNumber:i};return{cards:[...a.cards,c],editingCardId:c.id}}),llmConfig:{backend:"mock",defaultBackend:"openai",apiKey:"",models:{gemini:{id:"gemini-3-pro-preview",name:"Gemini 3 Pro (Preview)"},anthropic:{id:"claude-3-5-sonnet-20240620",name:"Claude 3.5 Sonnet"},openai:{id:"gpt-5.1",name:"OpenAI GPT-5.1"},local:{id:"qwen3-vl-30b-a3b-instruct",name:"Local Model"}},geminiKey:null,anthropicKey:null,openaiKey:null,openaiSchema:JSON.stringify(DEFAULT_SCHEMA_JSON,null,2),localUrl:"http://localhost:1234/v1",localSchema:JSON.stringify(DEFAULT_SCHEMA_JSON,null,2),fallbacks:{enabled:!1,retries:1,fallbackModels:["openai"]}},setDefaultBackend:i=>e(o=>{const a=!o.pdfFile&&o.cards.length===0,c={...o.llmConfig,defaultBackend:i};return a&&(c.backend=i),{llmConfig:c}}),setLlmConfig:i=>e(o=>({llmConfig:{...o.llmConfig,...i}})),updateModelConfig:(i,o,a)=>e(c=>({llmConfig:{...c.llmConfig,models:{...c.llmConfig.models,[i]:{...c.llmConfig.models[i],[o]:a}}}})),theme:"light",toggleTheme:()=>e(i=>({theme:i.theme==="light"?"dark":"light"})),activeTab:"dashboard",setActiveTab:i=>e({activeTab:i}),recentFiles:[],storedFiles:[],refreshStoredFiles:async()=>{const i=await listProjects();e({storedFiles:i})},deleteStoredFile:async i=>{await deleteProject(i);const o=await listProjects();e({storedFiles:o})},addRecentFile:i=>e(o=>{const a=o.recentFiles.some(_=>_.name===i.name),c={id:crypto.randomUUID(),name:i.name,path:i.path||i.name,date:new Date().toISOString()},d=o.recentFiles.filter(_=>_.name!==i.name);let h=o.stats;a||(h={...o.stats,totalFiles:o.stats.totalFiles+1},saveGlobalStats(h));const g=[c,...d],b=10;if(g.length>b){const _=g.slice(b);__vitePreload(async()=>{const{trimProjectPdf:$}=await Promise.resolve().then(()=>persistence);return{trimProjectPdf:$}},void 0).then(({trimProjectPdf:$})=>{_.forEach(et=>$(et.name))})}return{recentFiles:g.slice(0,b),stats:h}}),stats:{totalCards:0,totalFiles:0,streakDays:0,studySeconds:0,lastStudyDate:null,activity:{}},loadStats:async()=>{const i=await loadGlobalStats();i&&e({stats:i})},clearGlobalStats:async()=>{const i={totalCards:0,totalFiles:0,streakDays:1,activity:{}};e({stats:i}),await saveGlobalStats(i)},updateStats:(i=0)=>e(o=>{var b;const a=new Date().toISOString().split("T")[0],c=o.stats.lastStudyDate;let d=o.stats.streakDays||0;if(c!==a){const _=new Date;_.setDate(_.getDate()-1);const $=_.toISOString().split("T")[0];c===$?d+=1:d=1}const h=((b=o.stats.activity)==null?void 0:b[a])||0,g={...o.stats,totalCards:o.stats.totalCards+(i||0),streakDays:d,lastStudyDate:a,activity:{...o.stats.activity,[a]:h+(i>0?i:1)}};return saveGlobalStats(g),{stats:g}}),updateStudyTime:i=>e(o=>{const a={...o.stats,studySeconds:(o.stats.studySeconds||0)+i};return Math.random()>.95&&saveGlobalStats(a),{stats:a}}),openProject:async i=>{try{const{loadProject:o}=await __vitePreload(async()=>{const{loadProject:c}=await Promise.resolve().then(()=>persistence);return{loadProject:c}},void 0),a=await o(i);a?(e({cards:a.cards||[],annotations:a.annotations||[],pdfFile:a.pdfFile||null,currentPage:a.currentPage||1,activePage:a.currentPage||1,activeTab:"workspace",isProcessing:!1}),e(c=>{const d={name:i,date:new Date().toISOString()},h=c.recentFiles.find(_=>_.name===i),g={...d,id:(h==null?void 0:h.id)||crypto.randomUUID()},b=c.recentFiles.filter(_=>_.name!==i);return{recentFiles:[g,...b].slice(0,10)}})):(console.warn(`[Store] Project "${i}" not found in persistence.`),alert(`Project "${i}" could not be loaded.`))}catch(o){console.error("Open project failed",o),alert("Failed to open project.")}},userSettings:{snapshotScaleManual:3,snapshotScaleAuto:3,themeColor:"blue",customPresets:[{id:"custom-1",light:"#3b82f6",dark:"#60a5fa"},{id:"custom-2",light:"#facc15",dark:"#eab308"},{id:"custom-3",light:"#a78bfa",dark:"#8b5cf6"}],customColors:{light:"#3b82f6",dark:"#60a5fa"},pdfScale:1,flipLayout:!1,clozePalette:["#3b82f6","#ef4444","#22c55e","#eab308","#a855f7"],defaultPrompts:{gemini:null,anthropic:null,openai:null,local:null}},updateSettings:i=>e(o=>{const a={...o.userSettings,...i};let c={...o.prompts};return i.defaultPrompts&&(console.log("[Store] Default Prompts updating:",i.defaultPrompts),["openai","gemini","anthropic","local"].forEach(h=>{var b;const g=(b=o.promptsModified)==null?void 0:b[h];if(g)console.log(`[Store] Skipping sync for ${h} (Modified=true)`);else{const _=i.defaultPrompts[h];let $;h==="openai"?$=DEFAULT_PROMPT_OPENAI:h==="gemini"?$=DEFAULT_PROMPT_GEMINI:h==="anthropic"?$=DEFAULT_PROMPT_CLAUDE:$=DEFAULT_PROMPT_LOCAL;const et=_||$;console.log(`[Store] Syncing ${h} prompt to default. Modified=${g}, NewValLen=${et==null?void 0:et.length}`),c[h]=et}})),{userSettings:a,prompts:c}}),generateCardsFromPage:i=>{const{setProcessing:o}=s();o(!0),e({snapshotRequest:{page:i,id:crypto.randomUUID()}})},generateCardsFromImage:async(i,o,a="")=>{var _;const{setProcessing:c,addCard:d,llmConfig:h,prompts:g}=s(),b=g[h.backend]||g.default;try{let $=[];const _e=s().cards.filter(rt=>rt.pageNumber===o).map(rt=>rt.type==="basic"?`Q: ${rt.front}`:rt.type==="cloze"?`Cloze: ${rt.text}`:"").join(`
`),st=h.backend,nt=((_=h.models)==null?void 0:_[st])||{},it=nt.id,j=(nt.fallbacks||[]).filter(Boolean),tt=nt.retries??1;if(console.log(`[Store] Generating with ${st}: Primary=${it}, Fallbacks=${j.join(",")}, Retries=${tt}`),st==="gemini"){const{generateCardsGemini:rt}=await __vitePreload(async()=>{const{generateCardsGemini:ct}=await import("./gemini-BjgJfVUS.js");return{generateCardsGemini:ct}},[]);$=await rt(i,h.geminiKey||h.apiKey,a,_e,b,it,j,tt)}else if(st==="anthropic"){const{generateCardsClaude:rt}=await __vitePreload(async()=>{const{generateCardsClaude:ct}=await import("./anthropic-xcmHvWc7.js");return{generateCardsClaude:ct}},[]);$=await rt(i,h.anthropicKey,a,_e,b,it,j,tt)}else if(st==="openai"){const{generateCardsOpenAI:rt}=await __vitePreload(async()=>{const{generateCardsOpenAI:ct}=await import("./openai-D7b0319j.js");return{generateCardsOpenAI:ct}},[]);$=await rt(i,h.openaiKey||h.apiKey,a,_e,b,null,it,!0,j,tt,h.openaiSchema?JSON.parse(h.openaiSchema):null)}else if(st==="local"){const{generateCardsOpenAI:rt}=await __vitePreload(async()=>{const{generateCardsOpenAI:ct}=await import("./openai-D7b0319j.js");return{generateCardsOpenAI:ct}},[]);$=await rt(i,"lm-studio",a,_e,b,h.localUrl||"http://localhost:1234/v1",it,!0,j,tt)}else{const{mockGenerateCards:rt}=await __vitePreload(async()=>{const{mockGenerateCards:ct}=await import("./llm-Cbt13qyS.js");return{mockGenerateCards:ct}},[]);$=await rt("mock content","mock prompt")}const ot=s().pdfFile?s().pdfFile.name:"Unknown File",lt=$.map(rt=>({...rt,id:crypto.randomUUID(),pageNumber:o,fileName:ot}));e(rt=>({cards:[...rt.cards,...lt],activePage:o,snapshotRequest:null})),s().updateStats($.length)}catch($){console.error("Failed to generate cards:",$),alert("Generation failed: "+$.message)}finally{c(!1),e({snapshotRequest:null})}},snapshotRequest:null,prompts:{default:DEFAULT_PROMPT_OPENAI,gemini:DEFAULT_PROMPT_GEMINI,anthropic:DEFAULT_PROMPT_CLAUDE,openai:DEFAULT_PROMPT_OPENAI,local:DEFAULT_PROMPT_LOCAL},promptsModified:{},setPromptTemplate:(i,o="default")=>e(a=>({prompts:{...a.prompts,[o]:i},promptsModified:{...a.promptsModified,[o]:!0}}))})));let saveTimeout;useAppStore.subscribe(e=>({cards:e.cards,annotations:e.annotations,currentPage:e.currentPage,stats:e.stats,pdfFile:e.pdfFile,prompts:e.prompts,promptsModified:e.promptsModified}),e=>{e.pdfFile&&(clearTimeout(saveTimeout),saveTimeout=setTimeout(()=>{saveProject(e.pdfFile.name,{cards:e.cards,annotations:e.annotations,currentPage:e.currentPage,stats:e.stats,prompts:e.prompts,promptsModified:e.promptsModified,pdfFile:e.pdfFile})},2e3))},{equalityFn:(e,s)=>JSON.stringify(e)===JSON.stringify(s)});useAppStore.getState().loadStats();useAppStore.getState().refreshStoredFiles();loadSettings().then(e=>{e&&(console.log("[Store] Hydrating settings"),useAppStore.getState().hydrateSettings(e))});let settingsTimeout;useAppStore.subscribe(e=>({theme:e.theme,llmConfig:e.llmConfig,userSettings:e.userSettings,recentFiles:e.recentFiles}),e=>{clearTimeout(settingsTimeout),settingsTimeout=setTimeout(()=>{saveSettings(e)},1e3)},{equalityFn:(e,s)=>JSON.stringify(e)===JSON.stringify(s)});/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes$1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,s)=>{const i=reactExports.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:h="",children:g,...b},_)=>reactExports.createElement("svg",{ref:_,...defaultAttributes$1,width:a,height:a,stroke:o,strokeWidth:d?Number(c)*24/Number(a):c,className:["lucide",`lucide-${toKebabCase(e)}`,h].join(" "),...b},[...s.map(([$,et])=>reactExports.createElement($,et)),...Array.isArray(g)?g:[g]]));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bookmark=createLucideIcon("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BrainCircuit=createLucideIcon("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FilePlus=createLucideIcon("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileType=createLucideIcon("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileUp=createLucideIcon("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GripVertical=createLucideIcon("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HardDrive=createLucideIcon("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hash=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Highlighter=createLucideIcon("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Key=createLucideIcon("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Layers=createLucideIcon("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutTemplate=createLucideIcon("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Monitor=createLucideIcon("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PanelsTopLeft=createLucideIcon("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenLine=createLucideIcon("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCcw=createLucideIcon("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings$1=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Type=createLucideIcon("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wand2=createLucideIcon("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.316.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),LayoutGroupContext=reactExports.createContext({});function useConstant(e){const s=reactExports.useRef(null);return s.current===null&&(s.current=e()),s.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function usePresence(e=!0){const s=reactExports.useContext(PresenceContext);if(s===null)return[!0,null];const{isPresent:i,onExitComplete:o,register:a}=s,c=reactExports.useId();reactExports.useEffect(()=>{e&&a(c)},[e]);const d=reactExports.useCallback(()=>e&&o&&o(c),[c,o,e]);return!i&&o?[!1,d]:[!0]}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,noop$1=e=>e;let invariant$1=noop$1;function memo(e){let s;return()=>(s===void 0&&(s=e()),s)}const progress=(e,s,i)=>{const o=s-e;return o===0?1:(i-e)/o},secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(e){let s=new Set,i=new Set,o=!1,a=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(b){c.has(b)&&(g.schedule(b),e()),b(d)}const g={schedule:(b,_=!1,$=!1)=>{const _e=$&&o?s:i;return _&&c.add(b),_e.has(b)||_e.add(b),b},cancel:b=>{i.delete(b),c.delete(b)},process:b=>{if(d=b,o){a=!0;return}o=!0,[s,i]=[i,s],s.forEach(h),s.clear(),o=!1,a&&(a=!1,g.process(b))}};return g}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(e,s){let i=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>i=!0,d=stepsOrder.reduce((j,tt)=>(j[tt]=createRenderStep(c),j),{}),{read:h,resolveKeyframes:g,update:b,preRender:_,render:$,postRender:et}=d,_e=()=>{const j=performance.now();i=!1,a.delta=o?1e3/60:Math.max(Math.min(j-a.timestamp,maxElapsed),1),a.timestamp=j,a.isProcessing=!0,h.process(a),g.process(a),b.process(a),_.process(a),$.process(a),et.process(a),a.isProcessing=!1,i&&s&&(o=!1,e(_e))},st=()=>{i=!0,o=!0,a.isProcessing||e(_e)};return{schedule:stepsOrder.reduce((j,tt)=>{const ot=d[tt];return j[tt]=(lt,rt=!1,ct=!1)=>(i||st(),ot.schedule(lt,rt,ct)),j},{}),cancel:j=>{for(let tt=0;tt<stepsOrder.length;tt++)d[stepsOrder[tt]].cancel(j)},state:a,steps:d}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:s=>featureProps[e].some(i=>!!s[i])};function loadFeatures(e){for(const s in e)featureDefinitions[s]={...featureDefinitions[s],...e[s]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){e&&(shouldForward=s=>s.startsWith("on")?!isValidMotionProp(s):e(s))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,s,i){const o={};for(const a in e)a==="values"&&typeof e.values=="object"||(shouldForward(a)||i===!0&&isValidMotionProp(a)||!s&&!isValidMotionProp(a)||e.draggable&&a.startsWith("onDrag"))&&(o[a]=e[a]);return o}function createDOMMotionComponentProxy(e){if(typeof Proxy>"u")return e;const s=new Map,i=(...o)=>e(...o);return new Proxy(i,{get:(o,a)=>a==="create"?e:(s.has(a)||s.set(a,e(a)),s.get(a))})}const MotionContext=reactExports.createContext({});function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(s=>isVariantLabel(e[s]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,s){if(isControllingVariants(e)){const{initial:i,animate:o}=e;return{initial:i===!1||isVariantLabel(i)?i:void 0,animate:isVariantLabel(o)?o:void 0}}return e.inherit!==!1?s:{}}function useCreateMotionContext(e){const{initial:s,animate:i}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:s,animate:i}),[variantLabelsAsDependency(s),variantLabelsAsDependency(i)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,s,i){return reactExports.useCallback(o=>{o&&e.onMount&&e.onMount(o),s&&(o?s.mount(o):s.unmount()),i&&(typeof i=="function"?i(o):isRefObject(i)&&(i.current=o))},[s])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,s,i,o,a){var c,d;const{visualElement:h}=reactExports.useContext(MotionContext),g=reactExports.useContext(LazyContext),b=reactExports.useContext(PresenceContext),_=reactExports.useContext(MotionConfigContext).reducedMotion,$=reactExports.useRef(null);o=o||g.renderer,!$.current&&o&&($.current=o(e,{visualState:s,parent:h,props:i,presenceContext:b,blockInitialAnimation:b?b.initial===!1:!1,reducedMotionConfig:_}));const et=$.current,_e=reactExports.useContext(SwitchLayoutGroupContext);et&&!et.projection&&a&&(et.type==="html"||et.type==="svg")&&createProjectionNode$1($.current,i,a,_e);const st=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{et&&st.current&&et.update(i,b)});const nt=i[optimizedAppearDataAttribute],it=reactExports.useRef(!!nt&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,nt))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,nt)));return useIsomorphicLayoutEffect$1(()=>{et&&(st.current=!0,window.MotionIsMounted=!0,et.updateFeatures(),microtask.render(et.render),it.current&&et.animationState&&et.animationState.animateChanges())}),reactExports.useEffect(()=>{et&&(!it.current&&et.animationState&&et.animationState.animateChanges(),it.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,nt)}),it.current=!1))}),et}function createProjectionNode$1(e,s,i,o){const{layoutId:a,layout:c,drag:d,dragConstraints:h,layoutScroll:g,layoutRoot:b}=s;e.projection=new i(e.latestValues,s["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!d||h&&isRefObject(h),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:g,layoutRoot:b})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createRendererMotionComponent({preloadedFeatures:e,createVisualElement:s,useRender:i,useVisualState:o,Component:a}){var c,d;e&&loadFeatures(e);function h(b,_){let $;const et={...reactExports.useContext(MotionConfigContext),...b,layoutId:useLayoutId(b)},{isStatic:_e}=et,st=useCreateMotionContext(b),nt=o(b,_e);if(!_e&&isBrowser$1){useStrictMode();const it=getProjectionFunctionality(et);$=it.MeasureLayout,st.visualElement=useVisualElement(a,nt,et,s,it.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:st,children:[$&&st.visualElement?jsxRuntimeExports.jsx($,{visualElement:st.visualElement,...et}):null,i(a,b,useMotionRef(nt,st.visualElement,_),nt,_e,st.visualElement)]})}h.displayName=`motion.${typeof a=="string"?a:`create(${(d=(c=a.displayName)!==null&&c!==void 0?c:a.name)!==null&&d!==void 0?d:""})`}`;const g=reactExports.forwardRef(h);return g[motionComponentSymbol]=a,g}function useLayoutId({layoutId:e}){const s=reactExports.useContext(LayoutGroupContext).id;return s&&e!==void 0?s+"-"+e:e}function useStrictMode(e,s){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:s,layout:i}=featureDefinitions;if(!s&&!i)return{};const o={...s,...i};return{MeasureLayout:s!=null&&s.isEnabled(e)||i!=null&&i.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function getValueState(e){const s=[{},{}];return e==null||e.values.forEach((i,o)=>{s[0][o]=i.get(),s[1][o]=i.getVelocity()}),s}function resolveVariantFromProps(e,s,i,o){if(typeof s=="function"){const[a,c]=getValueState(o);s=s(i!==void 0?i:e.custom,a,c)}if(typeof s=="string"&&(s=e.variants&&e.variants[s]),typeof s=="function"){const[a,c]=getValueState(o);s=s(i!==void 0?i:e.custom,a,c)}return s}const isKeyframesTarget=e=>Array.isArray(e),isCustomValue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),resolveFinalValueInKeyframes=e=>isKeyframesTarget(e)?e[e.length-1]||0:e,isMotionValue=e=>!!(e&&e.getVelocity);function resolveMotionValue(e){const s=isMotionValue(e)?e.get():e;return isCustomValue(s)?s.toValue():s}function makeState({scrapeMotionValuesFromProps:e,createRenderState:s,onUpdate:i},o,a,c){const d={latestValues:makeLatestValues(o,a,c,e),renderState:s()};return i&&(d.onMount=h=>i({props:o,current:h,...d}),d.onUpdate=h=>i(h)),d}const makeUseVisualState=e=>(s,i)=>{const o=reactExports.useContext(MotionContext),a=reactExports.useContext(PresenceContext),c=()=>makeState(e,s,o,a);return i?c():useConstant(c)};function makeLatestValues(e,s,i,o){const a={},c=o(e,{});for(const et in c)a[et]=resolveMotionValue(c[et]);let{initial:d,animate:h}=e;const g=isControllingVariants(e),b=isVariantNode(e);s&&b&&!g&&e.inherit!==!1&&(d===void 0&&(d=s.initial),h===void 0&&(h=s.animate));let _=i?i.initial===!1:!1;_=_||d===!1;const $=_?h:d;if($&&typeof $!="boolean"&&!isAnimationControls($)){const et=Array.isArray($)?$:[$];for(let _e=0;_e<et.length;_e++){const st=resolveVariantFromProps(e,et[_e]);if(st){const{transitionEnd:nt,transition:it,...j}=st;for(const tt in j){let ot=j[tt];if(Array.isArray(ot)){const lt=_?ot.length-1:0;ot=ot[lt]}ot!==null&&(a[tt]=ot)}for(const tt in nt)a[tt]=nt[tt]}}}return a}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=e=>s=>typeof s=="string"&&s.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(e,s)=>s&&typeof e=="number"?s.transform(e):e,clamp=(e,s,i)=>i>s?s:i<e?e:i,number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha={...number,transform:e=>clamp(0,1,e)},scale={...number,default:1},createUnitType=e=>({test:s=>typeof s=="string"&&s.endsWith(e)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,s,i){let o="",a=!0;for(let c=0;c<numTransforms;c++){const d=transformPropOrder[c],h=e[d];if(h===void 0)continue;let g=!0;if(typeof h=="number"?g=h===(d.startsWith("scale")?1:0):g=parseFloat(h)===0,!g||i){const b=getValueAsType(h,numberValueTypes[d]);if(!g){a=!1;const _=translateAlias[d]||d;o+=`${_}(${b}) `}i&&(s[d]=b)}}return o=o.trim(),i?o=i(s,a?"":o):a&&(o="none"),o}function buildHTMLStyles(e,s,i){const{style:o,vars:a,transformOrigin:c}=e;let d=!1,h=!1;for(const g in s){const b=s[g];if(transformProps.has(g)){d=!0;continue}else if(isCSSVariableName(g)){a[g]=b;continue}else{const _=getValueAsType(b,numberValueTypes[g]);g.startsWith("origin")?(h=!0,c[g]=_):o[g]=_}}if(s.transform||(d||i?o.transform=buildTransform(s,e.transform,i):o.transform&&(o.transform="none")),h){const{originX:g="50%",originY:b="50%",originZ:_=0}=c;o.transformOrigin=`${g} ${b} ${_}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,s,i=1,o=0,a=!0){e.pathLength=1;const c=a?dashKeys:camelKeys;e[c.offset]=px.transform(-o);const d=px.transform(s),h=px.transform(i);e[c.array]=`${d} ${h}`}function calcOrigin$1(e,s,i){return typeof e=="string"?e:px.transform(s+i*e)}function calcSVGTransformOrigin(e,s,i){const o=calcOrigin$1(s,e.x,e.width),a=calcOrigin$1(i,e.y,e.height);return`${o} ${a}`}function buildSVGAttrs(e,{attrX:s,attrY:i,attrScale:o,originX:a,originY:c,pathLength:d,pathSpacing:h=1,pathOffset:g=0,...b},_,$){if(buildHTMLStyles(e,b,$),_){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:et,style:_e,dimensions:st}=e;et.transform&&(st&&(_e.transform=et.transform),delete et.transform),st&&(a!==void 0||c!==void 0||_e.transform)&&(_e.transformOrigin=calcSVGTransformOrigin(st,a!==void 0?a:.5,c!==void 0?c:.5)),s!==void 0&&(et.x=s),i!==void 0&&(et.y=i),o!==void 0&&(et.scale=o),d!==void 0&&buildSVGPath(et,d,h,g,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function renderHTML(e,{style:s,vars:i},o,a){Object.assign(e.style,s,a&&a.getProjectionStyles(o));for(const c in i)e.style.setProperty(c,i[c])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,s,i,o){renderHTML(e,s,void 0,o);for(const a in s.attrs)e.setAttribute(camelCaseAttributes.has(a)?a:camelToDash(a),s.attrs[a])}const scaleCorrectors={};function addScaleCorrector(e){Object.assign(scaleCorrectors,e)}function isForcedMotionValue(e,{layout:s,layoutId:i}){return transformProps.has(e)||e.startsWith("origin")||(s||i!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}function scrapeMotionValuesFromProps$1(e,s,i){var o;const{style:a}=e,c={};for(const d in a)(isMotionValue(a[d])||s.style&&isMotionValue(s.style[d])||isForcedMotionValue(d,e)||((o=i==null?void 0:i.getValue(d))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&(c[d]=a[d]);return c}function scrapeMotionValuesFromProps(e,s,i){const o=scrapeMotionValuesFromProps$1(e,s,i);for(const a in e)if(isMotionValue(e[a])||isMotionValue(s[a])){const c=transformPropOrder.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[c]=e[a]}return o}function updateSVGDimensions(e,s){try{s.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:e,prevProps:s,current:i,renderState:o,latestValues:a})=>{if(!i)return;let c=!!e.drag;if(!c){for(const h in a)if(transformProps.has(h)){c=!0;break}}if(!c)return;let d=!s;if(s)for(let h=0;h<layoutProps.length;h++){const g=layoutProps[h];e[g]!==s[g]&&(d=!0)}d&&frame.read(()=>{updateSVGDimensions(i,o),frame.render(()=>{buildSVGAttrs(o,a,isSVGTag(i.tagName),e.transformTemplate),renderSVG(i,o)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(e,s,i){for(const o in s)!isMotionValue(s[o])&&!isForcedMotionValue(o,i)&&(e[o]=s[o])}function useInitialMotionValues({transformTemplate:e},s){return reactExports.useMemo(()=>{const i=createHtmlRenderState();return buildHTMLStyles(i,s,e),Object.assign({},i.vars,i.style)},[s])}function useStyle(e,s){const i=e.style||{},o={};return copyRawValuesOnly(o,i,e),Object.assign(o,useInitialMotionValues(e,s)),o}function useHTMLProps(e,s){const i={},o=useStyle(e,s);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=o,i}function useSVGProps(e,s,i,o){const a=reactExports.useMemo(()=>{const c=createSvgRenderState();return buildSVGAttrs(c,s,isSVGTag(o),e.transformTemplate),{...c.attrs,style:{...c.style}}},[s]);if(e.style){const c={};copyRawValuesOnly(c,e.style,e),a.style={...c,...a.style}}return a}function createUseRender(e=!1){return(i,o,a,{latestValues:c},d)=>{const g=(isSVGComponent(i)?useSVGProps:useHTMLProps)(o,c,d,i),b=filterProps(o,typeof i=="string",e),_=i!==reactExports.Fragment?{...b,...g,ref:a}:{},{children:$}=o,et=reactExports.useMemo(()=>isMotionValue($)?$.get():$,[$]);return reactExports.createElement(i,{..._,children:et})}}function createMotionComponentFactory(e,s){return function(o,{forwardMotionProps:a}={forwardMotionProps:!1}){const d={...isSVGComponent(o)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:e,useRender:createUseRender(a),createVisualElement:s,Component:o};return createRendererMotionComponent(d)}}function shallowCompare(e,s){if(!Array.isArray(s))return!1;const i=s.length;if(i!==e.length)return!1;for(let o=0;o<i;o++)if(s[o]!==e[o])return!1;return!0}function resolveVariant(e,s,i){const o=e.getProps();return resolveVariantFromProps(o,s,i!==void 0?i:o.custom,e)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(s){this.stop=()=>this.runAll("stop"),this.animations=s.filter(Boolean)}get finished(){return Promise.all(this.animations.map(s=>"finished"in s?s.finished:s))}getAll(s){return this.animations[0][s]}setAll(s,i){for(let o=0;o<this.animations.length;o++)this.animations[o][s]=i}attachTimeline(s,i){const o=this.animations.map(a=>{if(supportsScrollTimeline()&&a.attachTimeline)return a.attachTimeline(s);if(typeof i=="function")return i(a)});return()=>{o.forEach((a,c)=>{a&&a(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(s){this.setAll("time",s)}get speed(){return this.getAll("speed")}set speed(s){this.setAll("speed",s)}get startTime(){return this.getAll("startTime")}get duration(){let s=0;for(let i=0;i<this.animations.length;i++)s=Math.max(s,this.animations[i].duration);return s}runAll(s){this.animations.forEach(i=>i[s]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(s,i){return Promise.all(this.animations).then(s).catch(i)}}function getValueTransition(e,s){return e?e[s]||e.default||e:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let s=0;const i=50;let o=e.next(s);for(;!o.done&&s<maxGeneratorDuration;)s+=i,o=e.next(s);return s>=maxGeneratorDuration?1/0:s}function isGenerator(e){return typeof e=="function"}function attachTimeline(e,s){e.timeline=s,e.onfinish=null}const isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(e,s){const i=memo(e);return()=>{var o;return(o=supportsFlags[s])!==null&&o!==void 0?o:i()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(e,s,i=10)=>{let o="";const a=Math.max(Math.round(s/i),2);for(let c=0;c<a;c++)o+=e(progress(0,a-1,c))+", ";return`linear(${o.substring(0,o.length-2)})`};function isWaapiSupportedEasing(e){return!!(typeof e=="function"&&supportsLinearEasing()||!e||typeof e=="string"&&(e in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(e)||Array.isArray(e)&&e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([e,s,i,o])=>`cubic-bezier(${e}, ${s}, ${i}, ${o})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,s){if(e)return typeof e=="function"&&supportsLinearEasing()?generateLinearEasing(e,s):isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(i=>mapEasingToNativeEasing(i,s)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(e,s,i){var o;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const c=(o=void 0)!==null&&o!==void 0?o:a.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}function setupGesture(e,s){const i=resolveElements(e),o=new AbortController,a={passive:!0,...s,signal:o.signal};return[i,a,()=>o.abort()]}function filterEvents$1(e){return s=>{s.pointerType==="touch"||isDragActive()||e(s)}}function hover(e,s,i={}){const[o,a,c]=setupGesture(e,i),d=filterEvents$1(h=>{const{target:g}=h,b=s(h);if(typeof b!="function"||!g)return;const _=filterEvents$1($=>{b($),g.removeEventListener("pointerleave",_)});g.addEventListener("pointerleave",_,a)});return o.forEach(h=>{h.addEventListener("pointerenter",d,a)}),c}const isNodeOrChild=(e,s)=>s?e===s?!0:isNodeOrChild(e,s.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return s=>{s.key==="Enter"&&e(s)}}function firePointerEvent(e,s){e.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,s)=>{const i=e.currentTarget;if(!i)return;const o=filterEvents(()=>{if(isPressing.has(i))return;firePointerEvent(i,"down");const a=filterEvents(()=>{firePointerEvent(i,"up")}),c=()=>firePointerEvent(i,"cancel");i.addEventListener("keyup",a,s),i.addEventListener("blur",c,s)});i.addEventListener("keydown",o,s),i.addEventListener("blur",()=>i.removeEventListener("keydown",o),s)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,s,i={}){const[o,a,c]=setupGesture(e,i),d=h=>{const g=h.currentTarget;if(!isValidPressEvent(h)||isPressing.has(g))return;isPressing.add(g);const b=s(h),_=(_e,st)=>{window.removeEventListener("pointerup",$),window.removeEventListener("pointercancel",et),!(!isValidPressEvent(_e)||!isPressing.has(g))&&(isPressing.delete(g),typeof b=="function"&&b(_e,{success:st}))},$=_e=>{_(_e,i.useGlobalTarget||isNodeOrChild(g,_e.target))},et=_e=>{_(_e,!1)};window.addEventListener("pointerup",$,a),window.addEventListener("pointercancel",et,a)};return o.forEach(h=>{!isElementKeyboardAccessible(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(i.useGlobalTarget?window:h).addEventListener("pointerdown",d,a),h.addEventListener("focus",b=>enableKeyboardPress(b,a),a)}),c}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}};function addUniqueItem(e,s){e.indexOf(s)===-1&&e.push(s)}function removeItem(e,s){const i=e.indexOf(s);i>-1&&e.splice(i,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(s){return addUniqueItem(this.subscriptions,s),()=>removeItem(this.subscriptions,s)}notify(s,i,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](s,i,o);else for(let c=0;c<a;c++){const d=this.subscriptions[c];d&&d(s,i,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(e,s){return s?e*(1e3/s):0}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(s,i={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,a=!0)=>{const c=time.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(s),this.owner=i.owner}setCurrent(s){this.current=s,this.updatedAt=time.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,i){this.events[s]||(this.events[s]=new SubscriptionManager);const o=this.events[s].add(i);return s==="change"?()=>{o(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,i){this.passiveEffect=s,this.stopPassiveEffect=i}set(s,i=!0){!i||!this.passiveEffect?this.updateAndNotify(s,i):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,i,o){this.set(i),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-o}jump(s,i=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(s){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=s(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,s){return new MotionValue(e,s)}function setMotionValue(e,s,i){e.hasValue(s)?e.getValue(s).set(i):e.addValue(s,motionValue(i))}function setTarget(e,s){const i=resolveVariant(e,s);let{transitionEnd:o={},transition:a={},...c}=i||{};c={...c,...o};for(const d in c){const h=resolveFinalValueInKeyframes(c[d]);setMotionValue(e,d,h)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,s){const i=e.getValue("willChange");if(isWillChangeMotionValue(i))return i.add(s)}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const calcBezier=(e,s,i)=>(((1-3*i+3*s)*e+(3*i-6*s))*e+3*s)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,s,i,o,a){let c,d,h=0;do d=s+(i-s)/2,c=calcBezier(d,o,a)-e,c>0?i=d:s=d;while(Math.abs(c)>subdivisionPrecision&&++h<subdivisionMaxIterations);return d}function cubicBezier(e,s,i,o){if(e===s&&i===o)return noop$1;const a=c=>binarySubdivide(c,0,1,e,i);return c=>c===0||c===1?c:calcBezier(a(c),s,o)}const mirrorEasing=e=>s=>s<=.5?e(2*s)/2:(2-e(2*(1-s)))/2,reverseEasing=e=>s=>1-e(1-s),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,s)=>i=>!!(typeof i=="string"&&singleColorRegex.test(i)&&i.startsWith(e)||s&&!isNullish(i)&&Object.prototype.hasOwnProperty.call(i,s)),splitColor=(e,s,i)=>o=>{if(typeof o!="string")return o;const[a,c,d,h]=o.match(floatRegex);return{[e]:parseFloat(a),[s]:parseFloat(c),[i]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number,transform:e=>Math.round(clampRgbUnit(e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:s,blue:i,alpha:o=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(s)+", "+rgbUnit.transform(i)+", "+sanitize(alpha.transform(o))+")"};function parseHex(e){let s="",i="",o="",a="";return e.length>5?(s=e.substring(1,3),i=e.substring(3,5),o=e.substring(5,7),a=e.substring(7,9)):(s=e.substring(1,2),i=e.substring(2,3),o=e.substring(3,4),a=e.substring(4,5),s+=s,i+=i,o+=o,a+=a),{red:parseInt(s,16),green:parseInt(i,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:s,lightness:i,alpha:o=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(s))+", "+percent.transform(sanitize(i))+", "+sanitize(alpha.transform(o))+")"},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){var s,i;return isNaN(e)&&typeof e=="string"&&(((s=e.match(floatRegex))===null||s===void 0?void 0:s.length)||0)+(((i=e.match(colorRegex))===null||i===void 0?void 0:i.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const s=e.toString(),i=[],o={color:[],number:[],var:[]},a=[];let c=0;const h=s.replace(complexRegex,g=>(color.test(g)?(o.color.push(c),a.push(COLOR_TOKEN),i.push(color.parse(g))):g.startsWith(VAR_FUNCTION_TOKEN)?(o.var.push(c),a.push(VAR_TOKEN),i.push(g)):(o.number.push(c),a.push(NUMBER_TOKEN),i.push(parseFloat(g))),++c,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:i,split:h,indexes:o,types:a}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:s,types:i}=analyseComplexValue(e),o=s.length;return a=>{let c="";for(let d=0;d<o;d++)if(c+=s[d],a[d]!==void 0){const h=i[d];h===NUMBER_TOKEN?c+=sanitize(a[d]):h===COLOR_TOKEN?c+=color.transform(a[d]):c+=a[d]}return c}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const s=parseComplexValue(e);return createTransformer(e)(s.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[s,i]=e.slice(0,-1).split("(");if(s==="drop-shadow")return e;const[o]=i.match(floatRegex)||[];if(!o)return e;const a=i.replace(o,"");let c=maxDefaults.has(s)?1:0;return o!==i&&(c*=100),s+"("+c+a+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const s=e.match(functionRegex);return s?s.map(applyDefaultFilter).join(" "):e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,s){let i=getDefaultValueType(e);return i!==filter&&(i=complex),i.getAnimatableNone?i.getAnimatableNone(s):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,s,i){let o=0,a;for(;o<e.length&&!a;){const c=e[o];typeof c=="string"&&!invalidTemplates.has(c)&&analyseComplexValue(c).values.length&&(a=e[o]),o++}if(a&&i)for(const c of s)e[c]=getAnimatableNone(i,a)}const isNumOrPxType=e=>e===number||e===px,getPosFromMatrix=(e,s)=>parseFloat(e.split(", ")[s]),getTranslateFromMatrix=(e,s)=>(i,{transform:o})=>{if(o==="none"||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/u);if(a)return getPosFromMatrix(a[1],s);{const c=o.match(/^matrix\((.+)\)$/u);return c?getPosFromMatrix(c[1],e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const s=[];return nonTranslationalTransformKeys.forEach(i=>{const o=e.getValue(i);o!==void 0&&(s.push([i,o.get()]),o.set(i.startsWith("scale")?1:0))}),s}const positionalValues={width:({x:e},{paddingLeft:s="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),height:({y:e},{paddingTop:s="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(s)-parseFloat(i),top:(e,{top:s})=>parseFloat(s),left:(e,{left:s})=>parseFloat(s),bottom:({y:e},{top:s})=>parseFloat(s)+(e.max-e.min),right:({x:e},{left:s})=>parseFloat(s)+(e.max-e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(o=>o.needsMeasurement),s=new Set(e.map(o=>o.element)),i=new Map;s.forEach(o=>{const a=removeNonTranslationalTransform(o);a.length&&(i.set(o,a),o.render())}),e.forEach(o=>o.measureInitialState()),s.forEach(o=>{o.render();const a=i.get(o);a&&a.forEach(([c,d])=>{var h;(h=o.getValue(c))===null||h===void 0||h.set(d)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(s,i,o,a,c,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...s],this.onComplete=i,this.name=o,this.motionValue=a,this.element=c,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:i,element:o,motionValue:a}=this;for(let c=0;c<s.length;c++)if(s[c]===null)if(c===0){const d=a==null?void 0:a.get(),h=s[s.length-1];if(d!==void 0)s[0]=d;else if(o&&i){const g=o.readValue(i,h);g!=null&&(s[0]=g)}s[0]===void 0&&(s[0]=h),a&&d===void 0&&a.set(s[0])}else s[c]=s[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const s=splitCSSVariableRegex.exec(e);if(!s)return[,];const[,i,o,a]=s;return[`--${i??o}`,a]}function getVariableValue(e,s,i=1){const[o,a]=parseCSSVariable(e);if(!o)return;const c=window.getComputedStyle(s).getPropertyValue(o);if(c){const d=c.trim();return isNumericalString(d)?parseFloat(d):d}return isCSSVariableToken(a)?getVariableValue(a,s,i+1):a}const testValueType=e=>s=>s.test(e),auto={test:e=>e==="auto",parse:e=>e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));class DOMKeyframesResolver extends KeyframeResolver{constructor(s,i,o,a,c){super(s,i,o,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:i,name:o}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<s.length;g++){let b=s[g];if(typeof b=="string"&&(b=b.trim(),isCSSVariableToken(b))){const _=getVariableValue(b,i.current);_!==void 0&&(s[g]=_),g===s.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(o)||s.length!==2)return;const[a,c]=s,d=findDimensionValueType(a),h=findDimensionValueType(c);if(d!==h)if(isNumOrPxType(d)&&isNumOrPxType(h))for(let g=0;g<s.length;g++){const b=s[g];typeof b=="string"&&(s[g]=parseFloat(b))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:i}=this,o=[];for(let a=0;a<s.length;a++)isNone(s[a])&&o.push(a);o.length&&makeNoneKeyframesAnimatable(s,o,i)}measureInitialState(){const{element:s,unresolvedKeyframes:i,name:o}=this;if(!s||!s.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[o](s.measureViewportBox(),window.getComputedStyle(s.current)),i[0]=this.measuredOrigin;const a=i[i.length-1];a!==void 0&&s.getValue(o,a).jump(a,!1)}measureEndState(){var s;const{element:i,name:o,unresolvedKeyframes:a}=this;if(!i||!i.current)return;const c=i.getValue(o);c&&c.jump(this.measuredOrigin,!1);const d=a.length-1,h=a[d];a[d]=positionalValues[o](i.measureViewportBox(),window.getComputedStyle(i.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((s=this.removedTransforms)===null||s===void 0)&&s.length&&this.removedTransforms.forEach(([g,b])=>{i.getValue(g).set(b)}),this.resolveNoneKeyframes()}}const isAnimatable=(e,s)=>s==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const s=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==s)return!0}function canAnimate(e,s,i,o){const a=e[0];if(a===null)return!1;if(s==="display"||s==="visibility")return!0;const c=e[e.length-1],d=isAnimatable(a,s),h=isAnimatable(c,s);return!d||!h?!1:hasKeyframesChanged(e)||(i==="spring"||isGenerator(i))&&o}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:s,repeatType:i="loop"},o){const a=e.filter(isNotNull),c=s&&i!=="loop"&&s%2===1?0:a.length-1;return!c||o===void 0?a[c]:o}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:s=!0,delay:i=0,type:o="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:d="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:s,delay:i,type:o,repeat:a,repeatDelay:c,repeatType:d,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(s,i){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:o,type:a,velocity:c,delay:d,onComplete:h,onUpdate:g,isGenerator:b}=this.options;if(!b&&!canAnimate(s,o,a,c))if(d)this.options.duration=0;else{g&&g(getFinalKeyframe(s,this.options,i)),h&&h(),this.resolveFinishedPromise();return}const _=this.initPlayback(s,i);_!==!1&&(this._resolved={keyframes:s,finalKeyframe:i,..._},this.onPostResolved())}onPostResolved(){}then(s,i){return this.currentFinishedPromise.then(s,i)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(s=>{this.resolveFinishedPromise=s})}}const mixNumber$1=(e,s,i)=>e+(s-e)*i;function hueToRgb(e,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(s-e)*6*i:i<1/2?s:i<2/3?e+(s-e)*(2/3-i)*6:e}function hslaToRgba({hue:e,saturation:s,lightness:i,alpha:o}){e/=360,s/=100,i/=100;let a=0,c=0,d=0;if(!s)a=c=d=i;else{const h=i<.5?i*(1+s):i+s-i*s,g=2*i-h;a=hueToRgb(g,h,e+1/3),c=hueToRgb(g,h,e),d=hueToRgb(g,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:o}}function mixImmediate(e,s){return i=>i>0?s:e}const mixLinearColor=(e,s,i)=>{const o=e*e,a=i*(s*s-o)+o;return a<0?0:Math.sqrt(a)},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(s=>s.test(e));function asRGBA(e){const s=getColorType(e);if(!s)return!1;let i=s.parse(e);return s===hsla&&(i=hslaToRgba(i)),i}const mixColor=(e,s)=>{const i=asRGBA(e),o=asRGBA(s);if(!i||!o)return mixImmediate(e,s);const a={...i};return c=>(a.red=mixLinearColor(i.red,o.red,c),a.green=mixLinearColor(i.green,o.green,c),a.blue=mixLinearColor(i.blue,o.blue,c),a.alpha=mixNumber$1(i.alpha,o.alpha,c),rgba.transform(a))},combineFunctions=(e,s)=>i=>s(e(i)),pipe=(...e)=>e.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,s){return invisibleValues.has(e)?i=>i<=0?e:s:i=>i>=1?s:e}function mixNumber(e,s){return i=>mixNumber$1(e,s,i)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,s){const i=[...e],o=i.length,a=e.map((c,d)=>getMixer(c)(c,s[d]));return c=>{for(let d=0;d<o;d++)i[d]=a[d](c);return i}}function mixObject(e,s){const i={...e,...s},o={};for(const a in i)e[a]!==void 0&&s[a]!==void 0&&(o[a]=getMixer(e[a])(e[a],s[a]));return a=>{for(const c in o)i[c]=o[c](a);return i}}function matchOrder(e,s){var i;const o=[],a={color:0,var:0,number:0};for(let c=0;c<s.values.length;c++){const d=s.types[c],h=e.indexes[d][a[d]],g=(i=e.values[h])!==null&&i!==void 0?i:0;o[c]=g,a[d]++}return o}const mixComplex=(e,s)=>{const i=complex.createTransformer(s),o=analyseComplexValue(e),a=analyseComplexValue(s);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?invisibleValues.has(e)&&!a.values.length||invisibleValues.has(s)&&!o.values.length?mixVisibility(e,s):pipe(mixArray(matchOrder(o,a),a.values),i):mixImmediate(e,s)};function mix(e,s,i){return typeof e=="number"&&typeof s=="number"&&typeof i=="number"?mixNumber$1(e,s,i):getMixer(e)(e,s)}const velocitySampleDuration=5;function calcGeneratorVelocity(e,s,i){const o=Math.max(s-velocitySampleDuration,0);return velocityPerSecond(i-e(o),s-o)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:s=springDefaults.bounce,velocity:i=springDefaults.velocity,mass:o=springDefaults.mass}){let a,c,d=1-s;d=clamp(springDefaults.minDamping,springDefaults.maxDamping,d),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),d<1?(a=b=>{const _=b*d,$=_*e,et=_-i,_e=calcAngularFreq(b,d),st=Math.exp(-$);return safeMin-et/_e*st},c=b=>{const $=b*d*e,et=$*i+i,_e=Math.pow(d,2)*Math.pow(b,2)*e,st=Math.exp(-$),nt=calcAngularFreq(Math.pow(b,2),d);return(-a(b)+safeMin>0?-1:1)*((et-_e)*st)/nt}):(a=b=>{const _=Math.exp(-b*e),$=(b-i)*e+1;return-safeMin+_*$},c=b=>{const _=Math.exp(-b*e),$=(i-b)*(e*e);return _*$});const h=5/e,g=approximateRoot(a,c,h);if(e=secondsToMilliseconds(e),isNaN(g))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const b=Math.pow(g,2)*o;return{stiffness:b,damping:d*2*Math.sqrt(o*b),duration:e}}}const rootIterations=12;function approximateRoot(e,s,i){let o=i;for(let a=1;a<rootIterations;a++)o=o-e(o)/s(o);return o}function calcAngularFreq(e,s){return e*Math.sqrt(1-s*s)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,s){return s.some(i=>e[i]!==void 0)}function getSpringOptions(e){let s={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const i=e.visualDuration,o=2*Math.PI/(i*1.2),a=o*o,c=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(a);s={...s,mass:springDefaults.mass,stiffness:a,damping:c}}else{const i=findSpring(e);s={...s,...i,mass:springDefaults.mass},s.isResolvedFromDuration=!0}return s}function spring(e=springDefaults.visualDuration,s=springDefaults.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:s}:e;let{restSpeed:o,restDelta:a}=i;const c=i.keyframes[0],d=i.keyframes[i.keyframes.length-1],h={done:!1,value:c},{stiffness:g,damping:b,mass:_,duration:$,velocity:et,isResolvedFromDuration:_e}=getSpringOptions({...i,velocity:-millisecondsToSeconds(i.velocity||0)}),st=et||0,nt=b/(2*Math.sqrt(g*_)),it=d-c,j=millisecondsToSeconds(Math.sqrt(g/_)),tt=Math.abs(it)<5;o||(o=tt?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),a||(a=tt?springDefaults.restDelta.granular:springDefaults.restDelta.default);let ot;if(nt<1){const rt=calcAngularFreq(j,nt);ot=ct=>{const at=Math.exp(-nt*j*ct);return d-at*((st+nt*j*it)/rt*Math.sin(rt*ct)+it*Math.cos(rt*ct))}}else if(nt===1)ot=rt=>d-Math.exp(-j*rt)*(it+(st+j*it)*rt);else{const rt=j*Math.sqrt(nt*nt-1);ot=ct=>{const at=Math.exp(-nt*j*ct),ut=Math.min(rt*ct,300);return d-at*((st+nt*j*it)*Math.sinh(ut)+rt*it*Math.cosh(ut))/rt}}const lt={calculatedDuration:_e&&$||null,next:rt=>{const ct=ot(rt);if(_e)h.done=rt>=$;else{let at=0;nt<1&&(at=rt===0?secondsToMilliseconds(st):calcGeneratorVelocity(ot,rt,ct));const ut=Math.abs(at)<=o,ft=Math.abs(d-ct)<=a;h.done=ut&&ft}return h.value=h.done?d:ct,h},toString:()=>{const rt=Math.min(calcGeneratorDuration(lt),maxGeneratorDuration),ct=generateLinearEasing(at=>lt.next(rt*at).value,rt,30);return rt+"ms "+ct}};return lt}function inertia({keyframes:e,velocity:s=0,power:i=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:d,min:h,max:g,restDelta:b=.5,restSpeed:_}){const $=e[0],et={done:!1,value:$},_e=ut=>h!==void 0&&ut<h||g!==void 0&&ut>g,st=ut=>h===void 0?g:g===void 0||Math.abs(h-ut)<Math.abs(g-ut)?h:g;let nt=i*s;const it=$+nt,j=d===void 0?it:d(it);j!==it&&(nt=j-$);const tt=ut=>-nt*Math.exp(-ut/o),ot=ut=>j+tt(ut),lt=ut=>{const ft=tt(ut),Ct=ot(ut);et.done=Math.abs(ft)<=b,et.value=et.done?j:Ct};let rt,ct;const at=ut=>{_e(et.value)&&(rt=ut,ct=spring({keyframes:[et.value,st(et.value)],velocity:calcGeneratorVelocity(ot,ut,et.value),damping:a,stiffness:c,restDelta:b,restSpeed:_}))};return at(0),{calculatedDuration:null,next:ut=>{let ft=!1;return!ct&&rt===void 0&&(ft=!0,lt(ut),at(ut)),rt!==void 0&&ut>=rt?ct.next(ut-rt):(!ft&&lt(ut),et)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant$1(e.length===4);const[s,i,o,a]=e;return cubicBezier(s,i,o,a)}else if(typeof e=="string")return easingLookup[e];return e};function createMixers(e,s,i){const o=[],a=i||mix,c=e.length-1;for(let d=0;d<c;d++){let h=a(e[d],e[d+1]);if(s){const g=Array.isArray(s)?s[d]||noop$1:s;h=pipe(g,h)}o.push(h)}return o}function interpolate(e,s,{clamp:i=!0,ease:o,mixer:a}={}){const c=e.length;if(invariant$1(c===s.length),c===1)return()=>s[0];if(c===2&&s[0]===s[1])return()=>s[1];const d=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),s=[...s].reverse());const h=createMixers(s,o,a),g=h.length,b=_=>{if(d&&_<e[0])return s[0];let $=0;if(g>1)for(;$<e.length-2&&!(_<e[$+1]);$++);const et=progress(e[$],e[$+1],_);return h[$](et)};return i?_=>b(clamp(e[0],e[c-1],_)):b}function fillOffset(e,s){const i=e[e.length-1];for(let o=1;o<=s;o++){const a=progress(0,s,o);e.push(mixNumber$1(i,1,a))}}function defaultOffset(e){const s=[0];return fillOffset(s,e.length-1),s}function convertOffsetToTimes(e,s){return e.map(i=>i*s)}function defaultEasing(e,s){return e.map(()=>s||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:s,times:i,ease:o="easeInOut"}){const a=isEasingArray(o)?o.map(easingDefinitionToFunction):easingDefinitionToFunction(o),c={done:!1,value:s[0]},d=convertOffsetToTimes(i&&i.length===s.length?i:defaultOffset(s),e),h=interpolate(d,s,{ease:Array.isArray(a)?a:defaultEasing(s,a)});return{calculatedDuration:e,next:g=>(c.value=h(g),c.done=g>=e,c)}}const frameloopDriver=e=>{const s=({timestamp:i})=>e(i);return{start:()=>frame.update(s,!0),stop:()=>cancelFrame(s),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=e=>e/100;class MainThreadAnimation extends BaseAnimation{constructor(s){super(s),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:g}=this.options;g&&g()};const{name:i,motionValue:o,element:a,keyframes:c}=this.options,d=(a==null?void 0:a.KeyframeResolver)||KeyframeResolver,h=(g,b)=>this.onKeyframesResolved(g,b);this.resolver=new d(c,h,i,o,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(s){const{type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c,velocity:d=0}=this.options,h=isGenerator(i)?i:generators[i]||keyframes;let g,b;h!==keyframes&&typeof s[0]!="number"&&(g=pipe(percentToProgress,mix(s[0],s[1])),s=[0,100]);const _=h({...this.options,keyframes:s});c==="mirror"&&(b=h({...this.options,keyframes:[...s].reverse(),velocity:-d})),_.calculatedDuration===null&&(_.calculatedDuration=calcGeneratorDuration(_));const{calculatedDuration:$}=_,et=$+a,_e=et*(o+1)-a;return{generator:_,mirroredGenerator:b,mapPercentToKeyframes:g,calculatedDuration:$,resolvedDuration:et,totalDuration:_e}}onPostResolved(){const{autoplay:s=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!s?this.pause():this.state=this.pendingPlayState}tick(s,i=!1){const{resolved:o}=this;if(!o){const{keyframes:ut}=this.options;return{done:!0,value:ut[ut.length-1]}}const{finalKeyframe:a,generator:c,mirroredGenerator:d,mapPercentToKeyframes:h,keyframes:g,calculatedDuration:b,totalDuration:_,resolvedDuration:$}=o;if(this.startTime===null)return c.next(0);const{delay:et,repeat:_e,repeatType:st,repeatDelay:nt,onUpdate:it}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-_/this.speed,this.startTime)),i?this.currentTime=s:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(s-this.startTime)*this.speed;const j=this.currentTime-et*(this.speed>=0?1:-1),tt=this.speed>=0?j<0:j>_;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=_);let ot=this.currentTime,lt=c;if(_e){const ut=Math.min(this.currentTime,_)/$;let ft=Math.floor(ut),Ct=ut%1;!Ct&&ut>=1&&(Ct=1),Ct===1&&ft--,ft=Math.min(ft,_e+1),!!(ft%2)&&(st==="reverse"?(Ct=1-Ct,nt&&(Ct-=nt/$)):st==="mirror"&&(lt=d)),ot=clamp(0,1,Ct)*$}const rt=tt?{done:!1,value:g[0]}:lt.next(ot);h&&(rt.value=h(rt.value));let{done:ct}=rt;!tt&&b!==null&&(ct=this.speed>=0?this.currentTime>=_:this.currentTime<=0);const at=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return at&&a!==void 0&&(rt.value=getFinalKeyframe(g,this.options,a)),it&&it(rt.value),at&&this.finish(),rt}get duration(){const{resolved:s}=this;return s?millisecondsToSeconds(s.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(s){s=secondsToMilliseconds(s),this.currentTime=s,this.holdTime!==null||this.speed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.speed)}get speed(){return this.playbackSpeed}set speed(s){const i=this.playbackSpeed!==s;this.playbackSpeed=s,i&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:s=frameloopDriver,onPlay:i,startTime:o}=this.options;this.driver||(this.driver=s(c=>this.tick(c))),i&&i();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var s;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(s=this.currentTime)!==null&&s!==void 0?s:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:s}=this.options;s&&s()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(e,s,i,{delay:o=0,duration:a=300,repeat:c=0,repeatType:d="loop",ease:h="easeInOut",times:g}={}){const b={[s]:i};g&&(b.offset=g);const _=mapEasingToNativeEasing(h,a);return Array.isArray(_)&&(b.easing=_),e.animate(b,{delay:o,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(e){return isGenerator(e.type)||e.type==="spring"||!isWaapiSupportedEasing(e.ease)}function pregenerateKeyframes(e,s){const i=new MainThreadAnimation({...s,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const a=[];let c=0;for(;!o.done&&c<maxDuration;)o=i.sample(c),a.push(o.value),c+=sampleDelta;return{times:void 0,keyframes:a,duration:c-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(s){super(s);const{name:i,motionValue:o,element:a,keyframes:c}=this.options;this.resolver=new DOMKeyframesResolver(c,(d,h)=>this.onKeyframesResolved(d,h),i,o,a),this.resolver.scheduleResolve()}initPlayback(s,i){let{duration:o=300,times:a,ease:c,type:d,motionValue:h,name:g,startTime:b}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof c=="string"&&supportsLinearEasing()&&isUnsupportedEase(c)&&(c=unsupportedEasingFunctions[c]),requiresPregeneratedKeyframes(this.options)){const{onComplete:$,onUpdate:et,motionValue:_e,element:st,...nt}=this.options,it=pregenerateKeyframes(s,nt);s=it.keyframes,s.length===1&&(s[1]=s[0]),o=it.duration,a=it.times,c=it.ease,d="keyframes"}const _=startWaapiAnimation(h.owner.current,g,s,{...this.options,duration:o,times:a,ease:c});return _.startTime=b??this.calcStartTime(),this.pendingTimeline?(attachTimeline(_,this.pendingTimeline),this.pendingTimeline=void 0):_.onfinish=()=>{const{onComplete:$}=this.options;h.set(getFinalKeyframe(s,this.options,i)),$&&$(),this.cancel(),this.resolveFinishedPromise()},{animation:_,duration:o,times:a,type:d,ease:c,keyframes:s}}get duration(){const{resolved:s}=this;if(!s)return 0;const{duration:i}=s;return millisecondsToSeconds(i)}get time(){const{resolved:s}=this;if(!s)return 0;const{animation:i}=s;return millisecondsToSeconds(i.currentTime||0)}set time(s){const{resolved:i}=this;if(!i)return;const{animation:o}=i;o.currentTime=secondsToMilliseconds(s)}get speed(){const{resolved:s}=this;if(!s)return 1;const{animation:i}=s;return i.playbackRate}set speed(s){const{resolved:i}=this;if(!i)return;const{animation:o}=i;o.playbackRate=s}get state(){const{resolved:s}=this;if(!s)return"idle";const{animation:i}=s;return i.playState}get startTime(){const{resolved:s}=this;if(!s)return null;const{animation:i}=s;return i.startTime}attachTimeline(s){if(!this._resolved)this.pendingTimeline=s;else{const{resolved:i}=this;if(!i)return noop$1;const{animation:o}=i;attachTimeline(o,s)}return noop$1}play(){if(this.isStopped)return;const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:s}=this;if(!s)return;const{animation:i}=s;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:s}=this;if(!s)return;const{animation:i,keyframes:o,duration:a,type:c,ease:d,times:h}=s;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:b,onUpdate:_,onComplete:$,element:et,..._e}=this.options,st=new MainThreadAnimation({..._e,keyframes:o,duration:a,type:c,ease:d,times:h,isGenerator:!0}),nt=secondsToMilliseconds(this.time);b.setWithVelocity(st.sample(nt-sampleDelta).value,st.sample(nt).value,sampleDelta)}const{onStop:g}=this.options;g&&g(),this.cancel()}complete(){const{resolved:s}=this;s&&s.animation.finish()}cancel(){const{resolved:s}=this;s&&s.animation.cancel()}static supports(s){const{motionValue:i,name:o,repeatDelay:a,repeatType:c,damping:d,type:h}=s;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:b}=i.owner.getProps();return supportsWaapi()&&o&&acceleratedValues.has(o)&&!g&&!b&&!a&&c!=="mirror"&&d!==0&&h!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:s})=>s.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(s[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:s,delayChildren:i,staggerChildren:o,staggerDirection:a,repeat:c,repeatType:d,repeatDelay:h,from:g,elapsed:b,..._}){return!!Object.keys(_).length}const animateMotionValue=(e,s,i,o={},a,c)=>d=>{const h=getValueTransition(o,e)||{},g=h.delay||o.delay||0;let{elapsed:b=0}=o;b=b-secondsToMilliseconds(g);let _={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:s.getVelocity(),...h,delay:-b,onUpdate:et=>{s.set(et),h.onUpdate&&h.onUpdate(et)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:e,motionValue:s,element:c?void 0:a};isTransitionDefined(h)||(_={..._,...getDefaultTransition(e,_)}),_.duration&&(_.duration=secondsToMilliseconds(_.duration)),_.repeatDelay&&(_.repeatDelay=secondsToMilliseconds(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let $=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&($=!0)),$&&!c&&s.get()!==void 0){const et=getFinalKeyframe(_.keyframes,h);if(et!==void 0)return frame.update(()=>{_.onUpdate(et),_.onComplete()}),new GroupPlaybackControls([])}return!c&&AcceleratedAnimation.supports(_)?new AcceleratedAnimation(_):new MainThreadAnimation(_)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:s},i){const o=e.hasOwnProperty(i)&&s[i]!==!0;return s[i]=!1,o}function animateTarget(e,s,{delay:i=0,transitionOverride:o,type:a}={}){var c;let{transition:d=e.getDefaultTransition(),transitionEnd:h,...g}=s;o&&(d=o);const b=[],_=a&&e.animationState&&e.animationState.getState()[a];for(const $ in g){const et=e.getValue($,(c=e.latestValues[$])!==null&&c!==void 0?c:null),_e=g[$];if(_e===void 0||_&&shouldBlockAnimation(_,$))continue;const st={delay:i,...getValueTransition(d||{},$)};let nt=!1;if(window.MotionHandoffAnimation){const j=getOptimisedAppearId(e);if(j){const tt=window.MotionHandoffAnimation(j,$,frame);tt!==null&&(st.startTime=tt,nt=!0)}}addValueToWillChange(e,$),et.start(animateMotionValue($,et,_e,e.shouldReduceMotion&&positionalKeys.has($)?{type:!1}:st,e,nt));const it=et.animation;it&&b.push(it)}return h&&Promise.all(b).then(()=>{frame.update(()=>{h&&setTarget(e,h)})}),b}function animateVariant(e,s,i={}){var o;const a=resolveVariant(e,s,i.type==="exit"?(o=e.presenceContext)===null||o===void 0?void 0:o.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(c=i.transitionOverride);const d=a?()=>Promise.all(animateTarget(e,a,i)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(b=0)=>{const{delayChildren:_=0,staggerChildren:$,staggerDirection:et}=c;return animateChildren(e,s,_+b,$,et,i)}:()=>Promise.resolve(),{when:g}=c;if(g){const[b,_]=g==="beforeChildren"?[d,h]:[h,d];return b().then(()=>_())}else return Promise.all([d(),h(i.delay)])}function animateChildren(e,s,i=0,o=0,a=1,c){const d=[],h=(e.variantChildren.size-1)*o,g=a===1?(b=0)=>b*o:(b=0)=>h-b*o;return Array.from(e.variantChildren).sort(sortByTreeOrder).forEach((b,_)=>{b.notify("AnimationStart",s),d.push(animateVariant(b,s,{...c,delay:i+g(_)}).then(()=>b.notify("AnimationComplete",s)))}),Promise.all(d)}function sortByTreeOrder(e,s){return e.sortNodePosition(s)}function animateVisualElement(e,s,i={}){e.notify("AnimationStart",s);let o;if(Array.isArray(s)){const a=s.map(c=>animateVariant(e,c,i));o=Promise.all(a)}else if(typeof s=="string")o=animateVariant(e,s,i);else{const a=typeof s=="function"?resolveVariant(e,s,i.custom):s;o=Promise.all(animateTarget(e,a,i))}return o.then(()=>{e.notify("AnimationComplete",s)})}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const s={};for(let i=0;i<numVariantProps;i++){const o=variantProps[i],a=e.props[o];(isVariantLabel(a)||a===!1)&&(s[o]=a)}return s}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return s=>Promise.all(s.map(({animation:i,options:o})=>animateVisualElement(e,i,o)))}function createAnimationState(e){let s=animateList(e),i=createState(),o=!0;const a=g=>(b,_)=>{var $;const et=resolveVariant(e,_,g==="exit"?($=e.presenceContext)===null||$===void 0?void 0:$.custom:void 0);if(et){const{transition:_e,transitionEnd:st,...nt}=et;b={...b,...nt,...st}}return b};function c(g){s=g(e)}function d(g){const{props:b}=e,_=getVariantContext(e.parent)||{},$=[],et=new Set;let _e={},st=1/0;for(let it=0;it<numAnimationTypes;it++){const j=reversePriorityOrder[it],tt=i[j],ot=b[j]!==void 0?b[j]:_[j],lt=isVariantLabel(ot),rt=j===g?tt.isActive:null;rt===!1&&(st=it);let ct=ot===_[j]&&ot!==b[j]&&lt;if(ct&&o&&e.manuallyAnimateOnMount&&(ct=!1),tt.protectedKeys={..._e},!tt.isActive&&rt===null||!ot&&!tt.prevProp||isAnimationControls(ot)||typeof ot=="boolean")continue;const at=checkVariantsDidChange(tt.prevProp,ot);let ut=at||j===g&&tt.isActive&&!ct&&lt||it>st&&lt,ft=!1;const Ct=Array.isArray(ot)?ot:[ot];let xt=Ct.reduce(a(j),{});rt===!1&&(xt={});const{prevResolvedValues:pt={}}=tt,_t={...pt,...xt},mt=Tt=>{ut=!0,et.has(Tt)&&(ft=!0,et.delete(Tt)),tt.needsAnimating[Tt]=!0;const Ot=e.getValue(Tt);Ot&&(Ot.liveStyle=!1)};for(const Tt in _t){const Ot=xt[Tt],At=pt[Tt];if(_e.hasOwnProperty(Tt))continue;let Mt=!1;isKeyframesTarget(Ot)&&isKeyframesTarget(At)?Mt=!shallowCompare(Ot,At):Mt=Ot!==At,Mt?Ot!=null?mt(Tt):et.add(Tt):Ot!==void 0&&et.has(Tt)?mt(Tt):tt.protectedKeys[Tt]=!0}tt.prevProp=ot,tt.prevResolvedValues=xt,tt.isActive&&(_e={..._e,...xt}),o&&e.blockInitialAnimation&&(ut=!1),ut&&(!(ct&&at)||ft)&&$.push(...Ct.map(Tt=>({animation:Tt,options:{type:j}})))}if(et.size){const it={};et.forEach(j=>{const tt=e.getBaseTarget(j),ot=e.getValue(j);ot&&(ot.liveStyle=!0),it[j]=tt??null}),$.push({animation:it})}let nt=!!$.length;return o&&(b.initial===!1||b.initial===b.animate)&&!e.manuallyAnimateOnMount&&(nt=!1),o=!1,nt?s($):Promise.resolve()}function h(g,b){var _;if(i[g].isActive===b)return Promise.resolve();(_=e.variantChildren)===null||_===void 0||_.forEach(et=>{var _e;return(_e=et.animationState)===null||_e===void 0?void 0:_e.setActive(g,b)}),i[g].isActive=b;const $=d(g);for(const et in i)i[et].protectedKeys={};return $}return{animateChanges:d,setActive:h,setAnimateFunction:c,getState:()=>i,reset:()=>{i=createState(),o=!0}}}function checkVariantsDidChange(e,s){return typeof s=="string"?s!==e:Array.isArray(s)?!shallowCompare(s,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(s){this.isMounted=!1,this.node=s}update(){}}class AnimationFeature extends Feature{constructor(s){super(s),s.animationState||(s.animationState=createAnimationState(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();isAnimationControls(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:i}=this.node.prevProps||{};s!==i&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)===null||s===void 0||s.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===o)return;const a=this.node.animationState.setActive("exit",!s);i&&!s&&a.then(()=>i(this.id))}mount(){const{register:s}=this.node.presenceContext||{};s&&(this.unmount=s(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,s,i,o={passive:!0}){return e.addEventListener(s,i,o),()=>e.removeEventListener(s,i)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>s=>isPrimaryPointer(s)&&e(s,extractEventInfo(s));function addPointerEvent(e,s,i,o){return addDomEvent(e,s,addPointerInfo(i),o)}const distance=(e,s)=>Math.abs(e-s);function distance2D(e,s){const i=distance(e.x,s.x),o=distance(e.y,s.y);return Math.sqrt(i**2+o**2)}class PanSession{constructor(s,i,{transformPagePoint:o,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=getPanInfo(this.lastMoveEventInfo,this.history),et=this.startEvent!==null,_e=distance2D($.offset,{x:0,y:0})>=3;if(!et&&!_e)return;const{point:st}=$,{timestamp:nt}=frameData;this.history.push({...st,timestamp:nt});const{onStart:it,onMove:j}=this.handlers;et||(it&&it(this.lastMoveEvent,$),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,$)},this.handlePointerMove=($,et)=>{this.lastMoveEvent=$,this.lastMoveEventInfo=transformPoint(et,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=($,et)=>{this.end();const{onEnd:_e,onSessionEnd:st,resumeAnimation:nt}=this.handlers;if(this.dragSnapToOrigin&&nt&&nt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const it=getPanInfo($.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(et,this.transformPagePoint),this.history);this.startEvent&&_e&&_e($,it),st&&st($,it)},!isPrimaryPointer(s))return;this.dragSnapToOrigin=c,this.handlers=i,this.transformPagePoint=o,this.contextWindow=a||window;const d=extractEventInfo(s),h=transformPoint(d,this.transformPagePoint),{point:g}=h,{timestamp:b}=frameData;this.history=[{...g,timestamp:b}];const{onSessionStart:_}=i;_&&_(s,getPanInfo(h,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,s){return s?{point:s(e.point)}:e}function subtractPoint(e,s){return{x:e.x-s.x,y:e.y-s.y}}function getPanInfo({point:e},s){return{point:e,delta:subtractPoint(e,lastDevicePoint(s)),offset:subtractPoint(e,startDevicePoint(s)),velocity:getVelocity(s,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,s){if(e.length<2)return{x:0,y:0};let i=e.length-1,o=null;const a=lastDevicePoint(e);for(;i>=0&&(o=e[i],!(a.timestamp-o.timestamp>secondsToMilliseconds(s)));)i--;if(!o)return{x:0,y:0};const c=millisecondsToSeconds(a.timestamp-o.timestamp);if(c===0)return{x:0,y:0};const d={x:(a.x-o.x)/c,y:(a.y-o.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,s,i){return Math.abs(e-s)<=i}function calcAxisDelta(e,s,i,o=.5){e.origin=o,e.originPoint=mixNumber$1(s.min,s.max,e.origin),e.scale=calcLength(i)/calcLength(s),e.translate=mixNumber$1(i.min,i.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,s,i,o){calcAxisDelta(e.x,s.x,i.x,o?o.originX:void 0),calcAxisDelta(e.y,s.y,i.y,o?o.originY:void 0)}function calcRelativeAxis(e,s,i){e.min=i.min+s.min,e.max=e.min+calcLength(s)}function calcRelativeBox(e,s,i){calcRelativeAxis(e.x,s.x,i.x),calcRelativeAxis(e.y,s.y,i.y)}function calcRelativeAxisPosition(e,s,i){e.min=s.min-i.min,e.max=e.min+calcLength(s)}function calcRelativePosition(e,s,i){calcRelativeAxisPosition(e.x,s.x,i.x),calcRelativeAxisPosition(e.y,s.y,i.y)}function applyConstraints(e,{min:s,max:i},o){return s!==void 0&&e<s?e=o?mixNumber$1(s,e,o.min):Math.max(e,s):i!==void 0&&e>i&&(e=o?mixNumber$1(i,e,o.max):Math.min(e,i)),e}function calcRelativeAxisConstraints(e,s,i){return{min:s!==void 0?e.min+s:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:s,left:i,bottom:o,right:a}){return{x:calcRelativeAxisConstraints(e.x,i,a),y:calcRelativeAxisConstraints(e.y,s,o)}}function calcViewportAxisConstraints(e,s){let i=s.min-e.min,o=s.max-e.max;return s.max-s.min<e.max-e.min&&([i,o]=[o,i]),{min:i,max:o}}function calcViewportConstraints(e,s){return{x:calcViewportAxisConstraints(e.x,s.x),y:calcViewportAxisConstraints(e.y,s.y)}}function calcOrigin(e,s){let i=.5;const o=calcLength(e),a=calcLength(s);return a>o?i=progress(s.min,s.max-o,e.min):o>a&&(i=progress(e.min,e.max-a,s.min)),clamp(0,1,i)}function rebaseAxisConstraints(e,s){const i={};return s.min!==void 0&&(i.min=s.min-e.min),s.max!==void 0&&(i.max=s.max-e.min),i}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,s,i){return{min:resolvePointElastic(e,s),max:resolvePointElastic(e,i)}}function resolvePointElastic(e,s){return typeof e=="number"?e:e[s]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(e){return[e("x"),e("y")]}function convertBoundingBoxToBox({top:e,left:s,right:i,bottom:o}){return{x:{min:s,max:i},y:{min:e,max:o}}}function convertBoxToBoundingBox({x:e,y:s}){return{top:s.min,right:e.max,bottom:s.max,left:e.min}}function transformBoxPoints(e,s){if(!s)return e;const i=s({x:e.left,y:e.top}),o=s({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:o.y,right:o.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:s,scaleY:i}){return!isIdentityScale(e)||!isIdentityScale(s)||!isIdentityScale(i)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,s,i){const o=e-i,a=s*o;return i+a}function applyPointDelta(e,s,i,o,a){return a!==void 0&&(e=scalePoint(e,a,o)),scalePoint(e,i,o)+s}function applyAxisDelta(e,s=0,i=1,o,a){e.min=applyPointDelta(e.min,s,i,o,a),e.max=applyPointDelta(e.max,s,i,o,a)}function applyBoxDelta(e,{x:s,y:i}){applyAxisDelta(e.x,s.translate,s.scale,s.originPoint),applyAxisDelta(e.y,i.translate,i.scale,i.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,s,i,o=!1){const a=i.length;if(!a)return;s.x=s.y=1;let c,d;for(let h=0;h<a;h++){c=i[h],d=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&transformBox(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(s.x*=d.x.scale,s.y*=d.y.scale,applyBoxDelta(e,d)),o&&hasTransform(c.latestValues)&&transformBox(e,c.latestValues))}s.x<TREE_SCALE_SNAP_MAX&&s.x>TREE_SCALE_SNAP_MIN&&(s.x=1),s.y<TREE_SCALE_SNAP_MAX&&s.y>TREE_SCALE_SNAP_MIN&&(s.y=1)}function translateAxis(e,s){e.min=e.min+s,e.max=e.max+s}function transformAxis(e,s,i,o,a=.5){const c=mixNumber$1(e.min,e.max,a);applyAxisDelta(e,s,i,c,o)}function transformBox(e,s){transformAxis(e.x,s.x,s.scaleX,s.scale,s.originX),transformAxis(e.y,s.y,s.scaleY,s.scale,s.originY)}function measureViewportBox(e,s){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),s))}function measurePageBox(e,s,i){const o=measureViewportBox(e,i),{scroll:a}=s;return a&&(translateAxis(o.x,a.offset.x),translateAxis(o.y,a.offset.y)),o}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=s}start(s,{snapToCursor:i=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:$}=this.getProps();$?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(extractEventInfo(_).point)},c=(_,$)=>{const{drag:et,dragPropagation:_e,onDragStart:st}=this.getProps();if(et&&!_e&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(et),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(it=>{let j=this.getAxisMotionValue(it).get()||0;if(percent.test(j)){const{projection:tt}=this.visualElement;if(tt&&tt.layout){const ot=tt.layout.layoutBox[it];ot&&(j=calcLength(ot)*(parseFloat(j)/100))}}this.originPoint[it]=j}),st&&frame.postRender(()=>st(_,$)),addValueToWillChange(this.visualElement,"transform");const{animationState:nt}=this.visualElement;nt&&nt.setActive("whileDrag",!0)},d=(_,$)=>{const{dragPropagation:et,dragDirectionLock:_e,onDirectionLock:st,onDrag:nt}=this.getProps();if(!et&&!this.openDragLock)return;const{offset:it}=$;if(_e&&this.currentDirection===null){this.currentDirection=getCurrentDirection(it),this.currentDirection!==null&&st&&st(this.currentDirection);return}this.updateAxis("x",$.point,it),this.updateAxis("y",$.point,it),this.visualElement.render(),nt&&nt(_,$)},h=(_,$)=>this.stop(_,$),g=()=>eachAxis(_=>{var $;return this.getAnimationState(_)==="paused"&&(($=this.getAxisMotionValue(_).animation)===null||$===void 0?void 0:$.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new PanSession(s,{onSessionStart:a,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,contextWindow:getContextWindow(this.visualElement)})}stop(s,i){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&frame.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:s,animationState:i}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(s,i,o){const{drag:a}=this.getProps();if(!o||!shouldDrag(s,a,this.currentDirection))return;const c=this.getAxisMotionValue(s);let d=this.originPoint[s]+o[s];this.constraints&&this.constraints[s]&&(d=applyConstraints(d,this.constraints[s],this.elastic[s])),c.set(d)}resolveConstraints(){var s;const{dragConstraints:i,dragElastic:o}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)===null||s===void 0?void 0:s.layout,c=this.constraints;i&&isRefObject(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&a?this.constraints=calcRelativeConstraints(a.layoutBox,i):this.constraints=!1,this.elastic=resolveDragElastic(o),c!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=rebaseAxisConstraints(a.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:i}=this.getProps();if(!s||!isRefObject(s))return!1;const o=s.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=measurePageBox(o,a.root,this.visualElement.getTransformPagePoint());let d=calcViewportConstraints(a.layout.layoutBox,c);if(i){const h=i(convertBoxToBoundingBox(d));this.hasMutatedConstraints=!!h,h&&(d=convertBoundingBoxToBox(h))}return d}startAnimation(s){const{drag:i,dragMomentum:o,dragElastic:a,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},b=eachAxis(_=>{if(!shouldDrag(_,i,this.currentDirection))return;let $=g&&g[_]||{};d&&($={min:0,max:0});const et=a?200:1e6,_e=a?40:1e7,st={type:"inertia",velocity:o?s[_]:0,bounceStiffness:et,bounceDamping:_e,timeConstant:750,restDelta:1,restSpeed:10,...c,...$};return this.startAxisValueAnimation(_,st)});return Promise.all(b).then(h)}startAxisValueAnimation(s,i){const o=this.getAxisMotionValue(s);return addValueToWillChange(this.visualElement,s),o.start(animateMotionValue(s,o,0,i,this.visualElement,!1))}stopAnimation(){eachAxis(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){eachAxis(s=>{var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(s){var i;return(i=this.getAxisMotionValue(s).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(s){const i=`_drag${s.toUpperCase()}`,o=this.visualElement.getProps(),a=o[i];return a||this.visualElement.getValue(s,(o.initial?o.initial[s]:void 0)||0)}snapToCursor(s){eachAxis(i=>{const{drag:o}=this.getProps();if(!shouldDrag(i,o,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(i);if(a&&a.layout){const{min:d,max:h}=a.layout.layoutBox[i];c.set(s[i]-mixNumber$1(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:i}=this.getProps(),{projection:o}=this.visualElement;if(!isRefObject(i)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};eachAxis(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const g=h.get();a[d]=calcOrigin({min:g,max:g},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),eachAxis(d=>{if(!shouldDrag(d,s,null))return;const h=this.getAxisMotionValue(d),{min:g,max:b}=this.constraints[d];h.set(mixNumber$1(g,b,a[d]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const s=this.visualElement.current,i=addPointerEvent(s,"pointerdown",g=>{const{drag:b,dragListener:_=!0}=this.getProps();b&&_&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();isRefObject(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),frame.read(o);const d=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b})=>{this.isDragging&&b&&(eachAxis(_=>{const $=this.getAxisMotionValue(_);$&&(this.originPoint[_]+=g[_].translate,$.set($.get()+g[_].translate))}),this.visualElement.render())});return()=>{d(),i(),c(),h&&h()}}getProps(){const s=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:d=defaultElastic,dragMomentum:h=!0}=s;return{...s,drag:i,dragDirectionLock:o,dragPropagation:a,dragConstraints:c,dragElastic:d,dragMomentum:h}}}function shouldDrag(e,s,i){return(s===!0||s===e)&&(i===null||i===e)}function getCurrentDirection(e,s=10){let i=null;return Math.abs(e.y)>s?i="y":Math.abs(e.x)>s&&(i="x"),i}class DragGesture extends Feature{constructor(s){super(s),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(s,i)=>{e&&frame.postRender(()=>e(s,i))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(s){this.session=new PanSession(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:i,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:asyncHandler(s),onStart:asyncHandler(i),onMove:o,onEnd:(c,d)=>{delete this.session,a&&frame.postRender(()=>a(c,d))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,s){return s.max===s.min?0:e/(s.max-s.min)*100}const correctBorderRadius={correct:(e,s)=>{if(!s.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const i=pixelsToPercent(e,s.target.x),o=pixelsToPercent(e,s.target.y);return`${i}% ${o}%`}},correctBoxShadow={correct:(e,{treeScale:s,projectionDelta:i})=>{const o=e,a=complex.parse(e);if(a.length>5)return o;const c=complex.createTransformer(e),d=typeof a[0]!="number"?1:0,h=i.x.scale*s.x,g=i.y.scale*s.y;a[0+d]/=h,a[1+d]/=g;const b=mixNumber$1(h,g,.5);return typeof a[2+d]=="number"&&(a[2+d]/=b),typeof a[3+d]=="number"&&(a[3+d]/=b),c(a)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:o,layoutId:a}=this.props,{projection:c}=s;addScaleCorrector(defaultScaleCorrectors),c&&(i.group&&i.group.add(c),o&&o.register&&a&&o.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:i,visualElement:o,drag:a,isPresent:c}=this.props,d=o.projection;return d&&(d.isPresent=c,a||s.layoutDependency!==i||i===void 0?d.willUpdate():this.safeToRemove(),s.isPresent!==c&&(c?d.promote():d.relegate()||frame.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),microtask.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:o}=this.props,{projection:a}=s;a&&(a.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function MeasureLayout(e){const[s,i]=usePresence(),o=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:o,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:s,safeToRemove:i})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(e,s,i){const o=isMotionValue(e)?e:motionValue(e);return o.start(animateMotionValue("",o,s,i)),o.animation}function isSVGElement$1(e){return e instanceof SVGElement&&e.tagName!=="svg"}const compareByDepth=(e,s)=>e.depth-s.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(s){addUniqueItem(this.children,s),this.isDirty=!0}remove(s){removeItem(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(s)}}function delay(e,s){const i=time.now(),o=({timestamp:a})=>{const c=a-i;c>=s&&(cancelFrame(o),e(c-s))};return frame.read(o,!0),()=>cancelFrame(o)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,s,i,o,a,c){a?(e.opacity=mixNumber$1(0,i.opacity!==void 0?i.opacity:1,easeCrossfadeIn(o)),e.opacityExit=mixNumber$1(s.opacity!==void 0?s.opacity:1,0,easeCrossfadeOut(o))):c&&(e.opacity=mixNumber$1(s.opacity!==void 0?s.opacity:1,i.opacity!==void 0?i.opacity:1,o));for(let d=0;d<numBorders;d++){const h=`border${borders[d]}Radius`;let g=getRadius(s,h),b=getRadius(i,h);if(g===void 0&&b===void 0)continue;g||(g=0),b||(b=0),g===0||b===0||isPx(g)===isPx(b)?(e[h]=Math.max(mixNumber$1(asNumber(g),asNumber(b),o),0),(percent.test(b)||percent.test(g))&&(e[h]+="%")):e[h]=b}(s.rotate||i.rotate)&&(e.rotate=mixNumber$1(s.rotate||0,i.rotate||0,o))}function getRadius(e,s){return e[s]!==void 0?e[s]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(e,s,i){return o=>o<e?0:o>s?1:i(progress(e,s,o))}function copyAxisInto(e,s){e.min=s.min,e.max=s.max}function copyBoxInto(e,s){copyAxisInto(e.x,s.x),copyAxisInto(e.y,s.y)}function copyAxisDeltaInto(e,s){e.translate=s.translate,e.scale=s.scale,e.originPoint=s.originPoint,e.origin=s.origin}function removePointDelta(e,s,i,o,a){return e-=s,e=scalePoint(e,1/i,o),a!==void 0&&(e=scalePoint(e,1/a,o)),e}function removeAxisDelta(e,s=0,i=1,o=.5,a,c=e,d=e){if(percent.test(s)&&(s=parseFloat(s),s=mixNumber$1(d.min,d.max,s/100)-d.min),typeof s!="number")return;let h=mixNumber$1(c.min,c.max,o);e===c&&(h-=s),e.min=removePointDelta(e.min,s,i,h,a),e.max=removePointDelta(e.max,s,i,h,a)}function removeAxisTransforms(e,s,[i,o,a],c,d){removeAxisDelta(e,s[i],s[o],s[a],s.scale,c,d)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,s,i,o){removeAxisTransforms(e.x,s,xKeys,i?i.x:void 0,o?o.x:void 0),removeAxisTransforms(e.y,s,yKeys,i?i.y:void 0,o?o.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,s){return e.min===s.min&&e.max===s.max}function boxEquals(e,s){return axisEquals(e.x,s.x)&&axisEquals(e.y,s.y)}function axisEqualsRounded(e,s){return Math.round(e.min)===Math.round(s.min)&&Math.round(e.max)===Math.round(s.max)}function boxEqualsRounded(e,s){return axisEqualsRounded(e.x,s.x)&&axisEqualsRounded(e.y,s.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,s){return e.translate===s.translate&&e.scale===s.scale&&e.originPoint===s.originPoint}class NodeStack{constructor(){this.members=[]}add(s){addUniqueItem(this.members,s),s.scheduleRender()}remove(s){if(removeItem(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(s){const i=this.members.findIndex(a=>s===a);if(i===0)return!1;let o;for(let a=i;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){o=c;break}}return o?(this.promote(o),!0):!1}promote(s,i){const o=this.lead;if(s!==o&&(this.prevLead=o,this.lead=s,s.show(),o)){o.instance&&o.scheduleRender(),s.scheduleRender(),s.resumeFrom=o,i&&(s.resumeFrom.preserveOpacity=!0),o.snapshot&&(s.snapshot=o.snapshot,s.snapshot.latestValues=o.animationValues||o.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:a}=s.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:i,resumingFrom:o}=s;i.onExitComplete&&i.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,s,i){let o="";const a=e.x.translate/s.x,c=e.y.translate/s.y,d=(i==null?void 0:i.z)||0;if((a||c||d)&&(o=`translate3d(${a}px, ${c}px, ${d}px) `),(s.x!==1||s.y!==1)&&(o+=`scale(${1/s.x}, ${1/s.y}) `),i){const{transformPerspective:b,rotate:_,rotateX:$,rotateY:et,skewX:_e,skewY:st}=i;b&&(o=`perspective(${b}px) ${o}`),_&&(o+=`rotate(${_}deg) `),$&&(o+=`rotateX(${$}deg) `),et&&(o+=`rotateY(${et}deg) `),_e&&(o+=`skewX(${_e}deg) `),st&&(o+=`skewY(${st}deg) `)}const h=e.x.scale*s.x,g=e.y.scale*s.y;return(h!==1||g!==1)&&(o+=`scale(${h}, ${g})`),o||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(e,s,i,o){const{latestValues:a}=s;a[e]&&(i[e]=a[e],s.setStaticValue(e,0),o&&(o[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:s}=e.options;if(!s)return;const i=getOptimisedAppearId(s);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:a,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",frame,!(a||c))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(o)}function createProjectionNode({attachResizeListener:e,defaultParent:s,measureScroll:i,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(d={},h=s==null?void 0:s()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new SubscriptionManager),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const g=this.eventHandlers.get(d);g&&g.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement$1(d),this.instance=d;const{layoutId:g,layout:b,visualElement:_}=this.options;if(_&&!_.current&&_.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(b||g)&&(this.isLayoutDirty=!0),e){let $;const et=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,$&&$(),$=delay(et,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&_&&(g||b)&&this.addEventListener("didUpdate",({delta:$,hasLayoutChanged:et,hasRelativeTargetChanged:_e,layout:st})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const nt=this.options.transition||_.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:it,onLayoutAnimationComplete:j}=_.getProps(),tt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,st)||_e,ot=!et&&_e;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||ot||et&&(tt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin($,ot);const lt={...getValueTransition(nt,"layout"),onPlay:it,onComplete:j};(_.shouldReduceMotion||this.options.layoutRoot)&&(lt.delay=0,lt.type=!1),this.startAnimation(lt)}else et||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=st})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const $=this.path[_];$.shouldResetTransform=!0,$.updateScroll("snapshot"),$.options.layoutRoot&&$.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const b=this.getTransformTemplate();this.prevTransformTemplateValue=b?b(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const h=time.now();frameData.delta=clamp(0,1e3/60,h-frameData.timestamp),frameData.timestamp=h,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h){const g=o(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!isDeltaZero(this.projectionDelta),g=this.getTransformTemplate(),b=g?g(this.latestValues,""):void 0,_=b!==this.prevTransformTemplateValue;d&&(h||hasTransform(this.latestValues)||_)&&(a(this.instance,b),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return d&&(g=this.removeTransform(g)),roundBox(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:h}=this.options;if(!h)return createBox();const g=h.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:_}=this.root;_&&(translateAxis(g.x,_.offset.x),translateAxis(g.y,_.offset.y))}return g}removeElementScroll(d){var h;const g=createBox();if(copyBoxInto(g,d),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return g;for(let b=0;b<this.path.length;b++){const _=this.path[b],{scroll:$,options:et}=_;_!==this.root&&$&&et.layoutScroll&&($.wasRoot&&copyBoxInto(g,d),translateAxis(g.x,$.offset.x),translateAxis(g.y,$.offset.y))}return g}applyTransform(d,h=!1){const g=createBox();copyBoxInto(g,d);for(let b=0;b<this.path.length;b++){const _=this.path[b];!h&&_.options.layoutScroll&&_.scroll&&_!==_.root&&transformBox(g,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),hasTransform(_.latestValues)&&transformBox(g,_.latestValues)}return hasTransform(this.latestValues)&&transformBox(g,this.latestValues),g}removeTransform(d){const h=createBox();copyBoxInto(h,d);for(let g=0;g<this.path.length;g++){const b=this.path[g];if(!b.instance||!hasTransform(b.latestValues))continue;hasScale(b.latestValues)&&b.updateSnapshot();const _=createBox(),$=b.measurePageBox();copyBoxInto(_,$),removeBoxTransforms(h,b.latestValues,b.snapshot?b.snapshot.layoutBox:void 0,_)}return hasTransform(this.latestValues)&&removeBoxTransforms(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var h;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==g;if(!(d||b&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:$,layoutId:et}=this.options;if(!(!this.layout||!($||et))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const _e=this.getClosestProjectingParent();_e&&_e.layout&&this.animationProgress!==1?(this.relativeParent=_e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,_e.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _e=this.getClosestProjectingParent();_e&&!!_e.resumingFrom==!!this.resumingFrom&&!_e.options.layoutScroll&&_e.target&&this.animationProgress!==1?(this.relativeParent=_e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,_e.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const h=this.getLead(),g=!!this.resumingFrom||this!==h;let b=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(b=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(b=!1),b)return;const{layout:_,layoutId:$}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||$))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const et=this.treeScale.x,_e=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,g),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=createBox());const{target:st}=h;if(!st){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,st,this.latestValues),(this.treeScale.x!==et||this.treeScale.y!==_e||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",st)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),d){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(d,h=!1){const g=this.snapshot,b=g?g.latestValues:{},_={...this.latestValues},$=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const et=createBox(),_e=g?g.source:void 0,st=this.layout?this.layout.source:void 0,nt=_e!==st,it=this.getStack(),j=!it||it.members.length<=1,tt=!!(nt&&!j&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let ot;this.mixTargetDelta=lt=>{const rt=lt/1e3;mixAxisDelta($.x,d.x,rt),mixAxisDelta($.y,d.y,rt),this.setTargetDelta($),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(et,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,et,rt),ot&&boxEquals(this.relativeTarget,ot)&&(this.isProjectionDirty=!1),ot||(ot=createBox()),copyBoxInto(ot,this.relativeTarget)),nt&&(this.animationValues=_,mixValues(_,b,this.latestValues,rt,tt,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...d,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:g,layout:b,latestValues:_}=d;if(!(!h||!g||!b)){if(this!==d&&this.layout&&b&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,b.layoutBox)){g=this.target||createBox();const $=calcLength(this.layout.layoutBox.x);g.x.min=d.target.x.min,g.x.max=g.x.min+$;const et=calcLength(this.layout.layoutBox.y);g.y.min=d.target.y.min,g.y.max=g.y.min+et}copyBoxInto(h,g),transformBox(h,_),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,h,_)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new NodeStack),this.sharedNodes.get(d).add(h);const b=h.options.initialPromotionConfig;h.promote({transition:b?b.transition:void 0,preserveFollowOpacity:b&&b.shouldPreserveFollowOpacity?b.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:h}=this.options;return h?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:h}=this.options;return h?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:g}={}){const b=this.getStack();b&&b.promote(this,g),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:g}=d;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(h=!0),!h)return;const b={};g.z&&resetDistortingTransform("z",d,b,this.animationValues);for(let _=0;_<transformAxes.length;_++)resetDistortingTransform(`rotate${transformAxes[_]}`,d,b,this.animationValues),resetDistortingTransform(`skew${transformAxes[_]}`,d,b,this.animationValues);d.render();for(const _ in b)d.setStaticValue(_,b[_]),this.animationValues&&(this.animationValues[_]=b[_]);d.scheduleRender()}getProjectionStyles(d){var h,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const b={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,b.opacity="",b.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||"",b.transform=_?_(this.latestValues,""):"none",b;const $=this.getLead();if(!this.projectionDelta||!this.layout||!$.target){const nt={};return this.options.layoutId&&(nt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,nt.pointerEvents=resolveMotionValue(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(nt.transform=_?_({},""):"none",this.hasProjected=!1),nt}const et=$.animationValues||$.latestValues;this.applyTransformsToTarget(),b.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,et),_&&(b.transform=_(et,b.transform));const{x:_e,y:st}=this.projectionDelta;b.transformOrigin=`${_e.origin*100}% ${st.origin*100}% 0`,$.animationValues?b.opacity=$===this?(g=(h=et.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:et.opacityExit:b.opacity=$===this?et.opacity!==void 0?et.opacity:"":et.opacityExit!==void 0?et.opacityExit:0;for(const nt in scaleCorrectors){if(et[nt]===void 0)continue;const{correct:it,applyTo:j}=scaleCorrectors[nt],tt=b.transform==="none"?et[nt]:it(et[nt],$);if(j){const ot=j.length;for(let lt=0;lt<ot;lt++)b[j[lt]]=tt}else b[nt]=tt}return this.options.layoutId&&(b.pointerEvents=$===this?resolveMotionValue(d==null?void 0:d.pointerEvents)||"":"none"),b}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var h;return(h=d.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var s;const i=((s=e.resumeFrom)===null||s===void 0?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=e.layout,{animationType:c}=e.options,d=i.source!==e.layout.source;c==="size"?eachAxis($=>{const et=d?i.measuredBox[$]:i.layoutBox[$],_e=calcLength(et);et.min=o[$].min,et.max=et.min+_e}):shouldAnimatePositionOnly(c,i.layoutBox,o)&&eachAxis($=>{const et=d?i.measuredBox[$]:i.layoutBox[$],_e=calcLength(o[$]);et.max=et.min+_e,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[$].max=e.relativeTarget[$].min+_e)});const h=createDelta();calcBoxDelta(h,o,i.layoutBox);const g=createDelta();d?calcBoxDelta(g,e.applyTransform(a,!0),i.measuredBox):calcBoxDelta(g,o,i.layoutBox);const b=!isDeltaZero(h);let _=!1;if(!e.resumeFrom){const $=e.getClosestProjectingParent();if($&&!$.resumeFrom){const{snapshot:et,layout:_e}=$;if(et&&_e){const st=createBox();calcRelativePosition(st,i.layoutBox,et.layoutBox);const nt=createBox();calcRelativePosition(nt,o,_e.layoutBox),boxEqualsRounded(st,nt)||(_=!0),$.options.layoutRoot&&(e.relativeTarget=nt,e.relativeTargetOrigin=st,e.relativeParent=$)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:g,layoutDelta:h,hasLayoutChanged:b,hasRelativeTargetChanged:_})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function propagateDirtyNodes(e){isDebug&&metrics.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:s}=e.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,s,i){e.translate=mixNumber$1(s.translate,0,i),e.scale=mixNumber$1(s.scale,1,i),e.origin=s.origin,e.originPoint=s.originPoint}function mixAxis(e,s,i,o){e.min=mixNumber$1(s.min,i.min,o),e.max=mixNumber$1(s.max,i.max,o)}function mixBox(e,s,i,o){mixAxis(e.x,s.x,i.x,o),mixAxis(e.y,s.y,i.y,o)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,s,i){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(s),aspectRatio(i),.2)}function checkNodeWasScrollRoot(e){var s;return e!==e.root&&((s=e.scroll)===null||s===void 0?void 0:s.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,s)=>addDomEvent(e,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,s)=>{e.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,s,i){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",i==="Start");const a="onHover"+i,c=o[a];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class HoverGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=hover(s,i=>(handleHoverEvent(this.node,i,"Start"),o=>handleHoverEvent(this.node,o,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,s,i){const{props:o}=e;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",i==="Start");const a="onTap"+(i==="End"?"":i),c=o[a];c&&frame.postRender(()=>c(s,extractEventInfo(s)))}class PressGesture extends Feature{mount(){const{current:s}=this.node;s&&(this.unmount=press(s,i=>(handlePressEvent(this.node,i,"Start"),(o,{success:a})=>handlePressEvent(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const s=observerCallbacks.get(e.target);s&&s(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...s}){const i=e||document;observers.has(i)||observers.set(i,{});const o=observers.get(i),a=JSON.stringify(s);return o[a]||(o[a]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...s})),o[a]}function observeIntersection(e,s,i){const o=initIntersectionObserver(s);return observerCallbacks.set(e,i),o.observe(e),()=>{observerCallbacks.delete(e),o.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:i,margin:o,amount:a="some",once:c}=s,d={root:i?i.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:thresholdNames[a]},h=g=>{const{isIntersecting:b}=g;if(this.isInView===b||(this.isInView=b,c&&!b&&this.hasEnteredView))return;b&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",b);const{onViewportEnter:_,onViewportLeave:$}=this.node.getProps(),et=b?_:$;et&&et(g)};return observeIntersection(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:i}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(s,i))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:s={}}={}){return i=>e[i]!==s[i]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),s=()=>prefersReducedMotion.current=e.matches;e.addListener(s),s()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=e=>valueTypes.find(testValueType(e)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,s,i){for(const o in s){const a=s[o],c=i[o];if(isMotionValue(a))e.addValue(o,a);else if(isMotionValue(c))e.addValue(o,motionValue(a,{owner:e}));else if(c!==a)if(e.hasValue(o)){const d=e.getValue(o);d.liveStyle===!0?d.jump(a):d.hasAnimated||d.set(a)}else{const d=e.getStaticValue(o);e.addValue(o,motionValue(d!==void 0?d:a,{owner:e}))}}for(const o in i)s[o]===void 0&&e.removeValue(o);return s}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(s,i,o){return{}}constructor({parent:s,props:i,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:c,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _e=time.now();this.renderScheduledAt<_e&&(this.renderScheduledAt=_e,frame.render(this.render,!1,!0))};const{latestValues:g,renderState:b,onUpdate:_}=d;this.onUpdate=_,this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=b,this.parent=s,this.props=i,this.presenceContext=o,this.depth=s?s.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=isControllingVariants(i),this.isVariantNode=isVariantNode(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:$,...et}=this.scrapeMotionValuesFromProps(i,{},this);for(const _e in et){const st=et[_e];g[_e]!==void 0&&isMotionValue(st)&&st.set(g[_e],!1)}}mount(s){this.current=s,visualElementStore.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const i=this.features[s];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(s,i){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const o=transformProps.has(s),a=i.on("change",h=>{this.latestValues[s]=h,this.props.onUpdate&&frame.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),c=i.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,s,i)),this.valueSubscriptions.set(s,()=>{a(),c(),d&&d(),i.owner&&i.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in featureDefinitions){const i=featureDefinitions[s];if(!i)continue;const{isEnabled:o,Feature:a}=i;if(!this.features[s]&&a&&o(this.props)&&(this.features[s]=new a(this)),this.features[s]){const c=this.features[s];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,i){this.latestValues[s]=i}update(s,i){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let o=0;o<propEventHandlers.length;o++){const a=propEventHandlers[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,d=s[c];d&&(this.propEventSubscriptions[a]=this.on(a,d))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(s),()=>i.variantChildren.delete(s)}addValue(s,i){const o=this.values.get(s);i!==o&&(o&&this.removeValue(s),this.bindToMotionValue(s,i),this.values.set(s,i),this.latestValues[s]=i.get())}removeValue(s){this.values.delete(s);const i=this.valueSubscriptions.get(s);i&&(i(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,i){if(this.props.values&&this.props.values[s])return this.props.values[s];let o=this.values.get(s);return o===void 0&&i!==void 0&&(o=motionValue(i===null?void 0:i,{owner:this}),this.addValue(s,o)),o}readValue(s,i){var o;let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:(o=this.getBaseTargetFromProps(this.props,s))!==null&&o!==void 0?o:this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(isNumericalString(a)||isZeroValueString(a))?a=parseFloat(a):!findValueType(a)&&complex.test(i)&&(a=getAnimatableNone(s,i)),this.setBaseTarget(s,isMotionValue(a)?a.get():a)),isMotionValue(a)?a.get():a}setBaseTarget(s,i){this.baseTarget[s]=i}getBaseTarget(s){var i;const{initial:o}=this.props;let a;if(typeof o=="string"||typeof o=="object"){const d=resolveVariantFromProps(this.props,o,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);d&&(a=d[s])}if(o&&a!==void 0)return a;const c=this.getBaseTargetFromProps(this.props,s);return c!==void 0&&!isMotionValue(c)?c:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,i){return this.events[s]||(this.events[s]=new SubscriptionManager),this.events[s].add(i)}notify(s,...i){this.events[s]&&this.events[s].notify(...i)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(s,i){return s.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(s,i){return s.style?s.style[i]:void 0}removeValueFromRenderState(s,{vars:i,style:o}){delete i[s],delete o[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;isMotionValue(s)&&(this.childSubscription=s.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(s,i){if(transformProps.has(i)){const o=getDefaultValueType(i);return o&&o.default||0}else{const o=getComputedStyle$1(s),a=(isCSSVariableName(i)?o.getPropertyValue(i):o[i])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(s,{transformPagePoint:i}){return measureViewportBox(s,i)}build(s,i,o){buildHTMLStyles(s,i,o.transformTemplate)}scrapeMotionValuesFromProps(s,i,o){return scrapeMotionValuesFromProps$1(s,i,o)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(s,i){return s[i]}readValueFromInstance(s,i){if(transformProps.has(i)){const o=getDefaultValueType(i);return o&&o.default||0}return i=camelCaseAttributes.has(i)?i:camelToDash(i),s.getAttribute(i)}scrapeMotionValuesFromProps(s,i,o){return scrapeMotionValuesFromProps(s,i,o)}build(s,i,o){buildSVGAttrs(s,i,this.isSVGTag,o.transformTemplate)}renderInstance(s,i,o,a){renderSVG(s,i,o,a)}mount(s){this.isSVGTag=isSVGTag(s.tagName),super.mount(s)}}const createDomVisualElement=(e,s)=>isSVGComponent(e)?new SVGVisualElement(s):new HTMLVisualElement(s,{allowProjection:e!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function Sidebar(){const{activeTab:e,setActiveTab:s,theme:i,toggleTheme:o,userSettings:a}=useAppStore(),[c,d]=reactExports.useState("white");reactExports.useEffect(()=>{var b;let g="#3b82f6";if(a.themeColor.startsWith("custom-")){const _=(b=a.customPresets)==null?void 0:b.find($=>$.id===a.themeColor);_&&(g=i==="dark"?_.dark:_.light)}else if(a.themeColor==="custom"&&a.customColors)g=i==="dark"?a.customColors.dark:a.customColors.light;else{const _={blue:"#3b82f6",violet:"#8b5cf6",green:"#22c55e",orange:"#f97316"};_[a.themeColor]&&(g=_[a.themeColor])}d(getContrastColor(g))},[a.themeColor,a.customColors,i]);const h=[{id:"dashboard",icon:Home,label:"Home"},{id:"workspace",icon:PanelsTopLeft,label:"Workspace"},{id:"settings",icon:Settings$1,label:"Settings"}];return jsxRuntimeExports.jsxs("div",{className:"w-16 h-full bg-slate-100 dark:bg-slate-900 border-r border-transparent flex flex-col items-center py-3.5 z-50 shrink-0 relative transition-all duration-300",children:[jsxRuntimeExports.jsx("div",{className:"mb-6 flex flex-col items-center justify-center h-10",children:jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:jsxRuntimeExports.jsx(Layers,{size:24})})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col w-full gap-4 text-slate-500 dark:text-slate-400",children:h.map(g=>{const b=e===g.id;return jsxRuntimeExports.jsxs("div",{className:"relative w-full group pl-1.5",children:[b&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-4 bg-primary z-0 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-4 right-0 w-4 h-4 bg-primary",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-slate-100 dark:bg-slate-900 rounded-br-2xl"})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-4 right-0 w-4 h-4 bg-primary",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-slate-100 dark:bg-slate-900 rounded-tr-2xl"})})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>s(g.id),className:cn("relative w-full h-24 flex flex-col items-center justify-center transition-all duration-300 z-10 rounded-l-2xl gap-1",b?"bg-primary shadow-md":"hover:bg-slate-200 dark:hover:bg-slate-800/50"),title:g.label,children:[jsxRuntimeExports.jsx(g.icon,{size:24,className:cn("relative z-20 transition-all duration-300",b?"":"text-slate-500 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-slate-200","group-hover:-translate-y-1"),style:{color:b?"hsl(var(--primary-foreground))":void 0}}),jsxRuntimeExports.jsx("span",{className:cn("relative z-20 text-[10px] font-medium transition-all duration-300 absolute bottom-4","opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0"),style:{color:b?"hsl(var(--primary-foreground))":void 0},children:g.label})]})]},g.id)})}),jsxRuntimeExports.jsx("div",{className:"flex-1"}),jsxRuntimeExports.jsx("button",{onClick:o,className:"w-12 h-12 rounded-2xl bg-white dark:bg-slate-800 shadow-sm border border-slate-200 dark:border-slate-700 hover:border-primary/50 text-slate-500 hover:text-primary transition-all flex items-center justify-center mb-4",title:"Toggle Theme",children:i==="dark"?jsxRuntimeExports.jsx(Moon,{size:20}):jsxRuntimeExports.jsx(Sun,{size:20})})]})}function TopPanel(){var g,b,_,$,et,_e,st,nt;const{llmConfig:e,setLlmConfig:s,prompts:i,setPromptTemplate:o,theme:a,toggleTheme:c}=useAppStore(),[d,h]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-muted-foreground hidden md:inline",children:"Model:"}),jsxRuntimeExports.jsxs("select",{value:e.backend,onChange:it=>{const j=it.target.value;s({backend:j})},className:"h-8 text-xs rounded-md border bg-background px-2 focus:ring-1 focus:ring-primary",children:[jsxRuntimeExports.jsx("option",{value:"mock",children:"Mock Backend (Free)"}),jsxRuntimeExports.jsx("option",{value:"gemini",children:((b=(g=e.models)==null?void 0:g.gemini)==null?void 0:b.name)||"Gemini"}),jsxRuntimeExports.jsx("option",{value:"anthropic",children:(($=(_=e.models)==null?void 0:_.anthropic)==null?void 0:$.name)||"Claude"}),jsxRuntimeExports.jsx("option",{value:"openai",children:((_e=(et=e.models)==null?void 0:et.openai)==null?void 0:_e.name)||"OpenAI"}),jsxRuntimeExports.jsx("option",{value:"local",children:((nt=(st=e.models)==null?void 0:st.local)==null?void 0:nt.name)||"Local LLM"})]})]}),jsxRuntimeExports.jsx("div",{className:"h-4 w-px bg-border/60 mx-2"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>h(!d),className:cn("flex items-center gap-2 px-3 py-1.5 text-xs font-semibold transition-all rounded-full border",d?"bg-primary text-primary-foreground border-primary shadow-sm":"bg-background text-muted-foreground border-border hover:border-primary/50 hover:text-foreground"),children:[jsxRuntimeExports.jsx(PenLine,{size:14}),"Prompt"]}),d&&jsxRuntimeExports.jsxs("div",{className:"absolute top-12 right-0 z-50 w-96 p-4 bg-popover border rounded-lg shadow-xl animate-in fade-in slide-in-from-top-2 flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-sm",children:"System Prompt"}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:["Editing for: ",jsxRuntimeExports.jsx("span",{className:"text-primary font-bold",children:e.backend})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>h(!1),className:"text-muted-foreground hover:text-primary",children:""})]}),jsxRuntimeExports.jsx("textarea",{value:i[e.backend]||i.default,onChange:it=>o(it.target.value,e.backend),className:"w-full h-64 p-3 text-xs font-mono bg-muted/50 rounded-md border focus:ring-1 ring-primary resize-none focus:outline-none",placeholder:"Enter system prompt for card generation..."}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground italic",children:"This prompt is specific to the selected model and saved with this project."})]})]})]})}function MainLayout({children:e}){return jsxRuntimeExports.jsxs("div",{className:"flex h-screen w-screen overflow-hidden bg-background text-foreground",children:[jsxRuntimeExports.jsx(Sidebar,{}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:e})]})}function SplitView({left:e,right:s,className:i,ratio:o="2:3"}){const a=()=>{if(!o)return 40;const[et,_e]=o.split(":").map(Number);return!et||!_e?40:et/(et+_e)*100},[c,d]=reactExports.useState(a()),[h,g]=reactExports.useState(!1);reactExports.useEffect(()=>{d(a())},[o]);const b=reactExports.useCallback(et=>{et.preventDefault(),g(!0)},[]),_=reactExports.useCallback(()=>{g(!1)},[]),$=reactExports.useCallback(et=>{if(h){const _e=window.innerWidth,st=et.clientX/_e*100;st>20&&st<80&&d(st)}},[h]);return reactExports.useEffect(()=>(h?(window.addEventListener("mousemove",$),window.addEventListener("mouseup",_)):(window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",_)),()=>{window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",_)}),[h,$,_]),jsxRuntimeExports.jsxs("div",{className:cn("flex h-full w-full",i),children:[jsxRuntimeExports.jsx("div",{style:{width:`${c}%`},className:"h-full relative overflow-hidden",children:e}),jsxRuntimeExports.jsx("div",{onMouseDown:b,className:cn("w-2 bg-border hover:bg-primary/50 cursor-col-resize flex items-center justify-center z-50 transition-colors",h&&"bg-primary"),children:jsxRuntimeExports.jsx(GripVertical,{size:12,className:"text-muted-foreground"})}),jsxRuntimeExports.jsx("div",{style:{width:`${100-c}%`},className:"h-full relative overflow-hidden bg-secondary/30",children:s}),h&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 cursor-col-resize"})]})}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(s,i){module.exports=s.pdfjsLib=i()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,s)=>{var Mn;Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.TextRenderingMode=s.RenderingIntentFlag=s.PromiseCapability=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.MAX_IMAGE_SIZE_TO_CACHE=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationReplyType=s.AnnotationPrefix=s.AnnotationMode=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=At,s.bytesToString=Yt,s.createValidAbsoluteUrl=Rt,s.getModificationDate=un,s.getUuid=En,s.getVerbosityLevel=Pt,s.info=Ut,s.isArrayBuffer=Vt,s.isArrayEqual=sn,s.isNodeJS=void 0,s.normalizeUnicode=gn,s.objectFromMap=Wt,s.objectSize=ht,s.setVerbosityLevel=mt,s.shadow=Et,s.string32=an,s.stringToBytes=Jt,s.stringToPDFString=It,s.stringToUTF8String=Kt,s.unreachable=Ot,s.utf8StringToString=Zt,s.warn=Tt;const i=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=i;const o=[1,0,0,1,0,0];s.IDENTITY_MATRIX=o;const a=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=a;const c=1e7;s.MAX_IMAGE_SIZE_TO_CACHE=c;const d=1.35;s.LINE_FACTOR=d;const h=.35;s.LINE_DESCENT_FACTOR=h;const g=h/d;s.BASELINE_FACTOR=g;const b={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=b;const _={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=_;const $="pdfjs_internal_editor_";s.AnnotationEditorPrefix=$;const et={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};s.AnnotationEditorType=et;const _e={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};s.AnnotationEditorParamsType=_e;const st={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=st;const nt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=nt;const it={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=it;const j={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=j;const tt={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=tt;const ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=ot;const lt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=lt;const rt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=rt;const ct={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=ct;const at={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=at;const ut={O:"PageOpen",C:"PageClose"};s.PageActionEventType=ut;const ft={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=ft;const Ct={NONE:0,BINARY:1};s.CMapCompressionType=Ct;const xt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=xt;const pt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=pt;let _t=ft.WARNINGS;function mt(hn){Number.isInteger(hn)&&(_t=hn)}function Pt(){return _t}function Ut(hn){_t>=ft.INFOS&&console.log(`Info: ${hn}`)}function Tt(hn){_t>=ft.WARNINGS&&console.log(`Warning: ${hn}`)}function Ot(hn){throw new Error(hn)}function At(hn,Qt){hn||Ot(Qt)}function Mt(hn){switch(hn==null?void 0:hn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Rt(hn,Qt=null,nn=null){if(!hn)return null;try{if(nn&&typeof hn=="string"){if(nn.addDefaultProtocol&&hn.startsWith("www.")){const Ln=hn.match(/\./g);(Ln==null?void 0:Ln.length)>=2&&(hn=`http://${hn}`)}if(nn.tryConvertEncoding)try{hn=Kt(hn)}catch{}}const bn=Qt?new URL(hn,Qt):new URL(hn);if(Mt(bn))return bn}catch{}return null}function Et(hn,Qt,nn,bn=!1){return Object.defineProperty(hn,Qt,{value:nn,enumerable:!bn,configurable:!0,writable:!1}),nn}const yt=function(){function Qt(nn,bn){this.constructor===Qt&&Ot("Cannot initialize BaseException."),this.message=nn,this.name=bn}return Qt.prototype=new Error,Qt.constructor=Qt,Qt}();s.BaseException=yt;class vt extends yt{constructor(Qt,nn){super(Qt,"PasswordException"),this.code=nn}}s.PasswordException=vt;class St extends yt{constructor(Qt,nn){super(Qt,"UnknownErrorException"),this.details=nn}}s.UnknownErrorException=St;class jt extends yt{constructor(Qt){super(Qt,"InvalidPDFException")}}s.InvalidPDFException=jt;class Ft extends yt{constructor(Qt){super(Qt,"MissingPDFException")}}s.MissingPDFException=Ft;class Lt extends yt{constructor(Qt,nn){super(Qt,"UnexpectedResponseException"),this.status=nn}}s.UnexpectedResponseException=Lt;class $t extends yt{constructor(Qt){super(Qt,"FormatError")}}s.FormatError=$t;class Gt extends yt{constructor(Qt){super(Qt,"AbortException")}}s.AbortException=Gt;function Yt(hn){(typeof hn!="object"||(hn==null?void 0:hn.length)===void 0)&&Ot("Invalid argument for bytesToString");const Qt=hn.length,nn=8192;if(Qt<nn)return String.fromCharCode.apply(null,hn);const bn=[];for(let Ln=0;Ln<Qt;Ln+=nn){const jn=Math.min(Ln+nn,Qt),Ht=hn.subarray(Ln,jn);bn.push(String.fromCharCode.apply(null,Ht))}return bn.join("")}function Jt(hn){typeof hn!="string"&&Ot("Invalid argument for stringToBytes");const Qt=hn.length,nn=new Uint8Array(Qt);for(let bn=0;bn<Qt;++bn)nn[bn]=hn.charCodeAt(bn)&255;return nn}function an(hn){return String.fromCharCode(hn>>24&255,hn>>16&255,hn>>8&255,hn&255)}function ht(hn){return Object.keys(hn).length}function Wt(hn){const Qt=Object.create(null);for(const[nn,bn]of hn)Qt[nn]=bn;return Qt}function kt(){const hn=new Uint8Array(4);return hn[0]=1,new Uint32Array(hn.buffer,0,1)[0]===1}function wt(){try{return new Function(""),!0}catch{return!1}}class dt{static get isLittleEndian(){return Et(this,"isLittleEndian",kt())}static get isEvalSupported(){return Et(this,"isEvalSupported",wt())}static get isOffscreenCanvasSupported(){return Et(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Et(this,"platform",{isWin:!1,isMac:!1}):Et(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Qt,nn;return Et(this,"isCSSRoundSupported",(nn=(Qt=globalThis.CSS)==null?void 0:Qt.supports)==null?void 0:nn.call(Qt,"width: round(1.5px, 1px)"))}}s.FeatureTest=dt;const bt=[...Array(256).keys()].map(hn=>hn.toString(16).padStart(2,"0"));class Dt{static makeHexColor(Qt,nn,bn){return`#${bt[Qt]}${bt[nn]}${bt[bn]}`}static scaleMinMax(Qt,nn){let bn;Qt[0]?(Qt[0]<0&&(bn=nn[0],nn[0]=nn[1],nn[1]=bn),nn[0]*=Qt[0],nn[1]*=Qt[0],Qt[3]<0&&(bn=nn[2],nn[2]=nn[3],nn[3]=bn),nn[2]*=Qt[3],nn[3]*=Qt[3]):(bn=nn[0],nn[0]=nn[2],nn[2]=bn,bn=nn[1],nn[1]=nn[3],nn[3]=bn,Qt[1]<0&&(bn=nn[2],nn[2]=nn[3],nn[3]=bn),nn[2]*=Qt[1],nn[3]*=Qt[1],Qt[2]<0&&(bn=nn[0],nn[0]=nn[1],nn[1]=bn),nn[0]*=Qt[2],nn[1]*=Qt[2]),nn[0]+=Qt[4],nn[1]+=Qt[4],nn[2]+=Qt[5],nn[3]+=Qt[5]}static transform(Qt,nn){return[Qt[0]*nn[0]+Qt[2]*nn[1],Qt[1]*nn[0]+Qt[3]*nn[1],Qt[0]*nn[2]+Qt[2]*nn[3],Qt[1]*nn[2]+Qt[3]*nn[3],Qt[0]*nn[4]+Qt[2]*nn[5]+Qt[4],Qt[1]*nn[4]+Qt[3]*nn[5]+Qt[5]]}static applyTransform(Qt,nn){const bn=Qt[0]*nn[0]+Qt[1]*nn[2]+nn[4],Ln=Qt[0]*nn[1]+Qt[1]*nn[3]+nn[5];return[bn,Ln]}static applyInverseTransform(Qt,nn){const bn=nn[0]*nn[3]-nn[1]*nn[2],Ln=(Qt[0]*nn[3]-Qt[1]*nn[2]+nn[2]*nn[5]-nn[4]*nn[3])/bn,jn=(-Qt[0]*nn[1]+Qt[1]*nn[0]+nn[4]*nn[1]-nn[5]*nn[0])/bn;return[Ln,jn]}static getAxialAlignedBoundingBox(Qt,nn){const bn=this.applyTransform(Qt,nn),Ln=this.applyTransform(Qt.slice(2,4),nn),jn=this.applyTransform([Qt[0],Qt[3]],nn),Ht=this.applyTransform([Qt[2],Qt[1]],nn);return[Math.min(bn[0],Ln[0],jn[0],Ht[0]),Math.min(bn[1],Ln[1],jn[1],Ht[1]),Math.max(bn[0],Ln[0],jn[0],Ht[0]),Math.max(bn[1],Ln[1],jn[1],Ht[1])]}static inverseTransform(Qt){const nn=Qt[0]*Qt[3]-Qt[1]*Qt[2];return[Qt[3]/nn,-Qt[1]/nn,-Qt[2]/nn,Qt[0]/nn,(Qt[2]*Qt[5]-Qt[4]*Qt[3])/nn,(Qt[4]*Qt[1]-Qt[5]*Qt[0])/nn]}static singularValueDecompose2dScale(Qt){const nn=[Qt[0],Qt[2],Qt[1],Qt[3]],bn=Qt[0]*nn[0]+Qt[1]*nn[2],Ln=Qt[0]*nn[1]+Qt[1]*nn[3],jn=Qt[2]*nn[0]+Qt[3]*nn[2],Ht=Qt[2]*nn[1]+Qt[3]*nn[3],on=(bn+Ht)/2,pn=Math.sqrt((bn+Ht)**2-4*(bn*Ht-jn*Ln))/2,xn=on+pn||1,An=on-pn||1;return[Math.sqrt(xn),Math.sqrt(An)]}static normalizeRect(Qt){const nn=Qt.slice(0);return Qt[0]>Qt[2]&&(nn[0]=Qt[2],nn[2]=Qt[0]),Qt[1]>Qt[3]&&(nn[1]=Qt[3],nn[3]=Qt[1]),nn}static intersect(Qt,nn){const bn=Math.max(Math.min(Qt[0],Qt[2]),Math.min(nn[0],nn[2])),Ln=Math.min(Math.max(Qt[0],Qt[2]),Math.max(nn[0],nn[2]));if(bn>Ln)return null;const jn=Math.max(Math.min(Qt[1],Qt[3]),Math.min(nn[1],nn[3])),Ht=Math.min(Math.max(Qt[1],Qt[3]),Math.max(nn[1],nn[3]));return jn>Ht?null:[bn,jn,Ln,Ht]}static bezierBoundingBox(Qt,nn,bn,Ln,jn,Ht,on,pn){const xn=[],An=[[],[]];let vn,zt,Nt,Xt,en,ln,dn,fn;for(let Rn=0;Rn<2;++Rn){if(Rn===0?(zt=6*Qt-12*bn+6*jn,vn=-3*Qt+9*bn-9*jn+3*on,Nt=3*bn-3*Qt):(zt=6*nn-12*Ln+6*Ht,vn=-3*nn+9*Ln-9*Ht+3*pn,Nt=3*Ln-3*nn),Math.abs(vn)<1e-12){if(Math.abs(zt)<1e-12)continue;Xt=-Nt/zt,0<Xt&&Xt<1&&xn.push(Xt);continue}dn=zt*zt-4*Nt*vn,fn=Math.sqrt(dn),!(dn<0)&&(en=(-zt+fn)/(2*vn),0<en&&en<1&&xn.push(en),ln=(-zt-fn)/(2*vn),0<ln&&ln<1&&xn.push(ln))}let _n=xn.length,wn;const mn=_n;for(;_n--;)Xt=xn[_n],wn=1-Xt,An[0][_n]=wn*wn*wn*Qt+3*wn*wn*Xt*bn+3*wn*Xt*Xt*jn+Xt*Xt*Xt*on,An[1][_n]=wn*wn*wn*nn+3*wn*wn*Xt*Ln+3*wn*Xt*Xt*Ht+Xt*Xt*Xt*pn;return An[0][mn]=Qt,An[1][mn]=nn,An[0][mn+1]=on,An[1][mn+1]=pn,An[0].length=An[1].length=mn+2,[Math.min(...An[0]),Math.min(...An[1]),Math.max(...An[0]),Math.max(...An[1])]}}s.Util=Dt;const Bt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function It(hn){if(hn[0]>=""){let nn;if(hn[0]===""&&hn[1]===""?nn="utf-16be":hn[0]===""&&hn[1]===""?nn="utf-16le":hn[0]===""&&hn[1]===""&&hn[2]===""&&(nn="utf-8"),nn)try{const bn=new TextDecoder(nn,{fatal:!0}),Ln=Jt(hn);return bn.decode(Ln)}catch(bn){Tt(`stringToPDFString: "${bn}".`)}}const Qt=[];for(let nn=0,bn=hn.length;nn<bn;nn++){const Ln=Bt[hn.charCodeAt(nn)];Qt.push(Ln?String.fromCharCode(Ln):hn.charAt(nn))}return Qt.join("")}function Kt(hn){return decodeURIComponent(escape(hn))}function Zt(hn){return unescape(encodeURIComponent(hn))}function Vt(hn){return typeof hn=="object"&&(hn==null?void 0:hn.byteLength)!==void 0}function sn(hn,Qt){if(hn.length!==Qt.length)return!1;for(let nn=0,bn=hn.length;nn<bn;nn++)if(hn[nn]!==Qt[nn])return!1;return!0}function un(hn=new Date){return[hn.getUTCFullYear().toString(),(hn.getUTCMonth()+1).toString().padStart(2,"0"),hn.getUTCDate().toString().padStart(2,"0"),hn.getUTCHours().toString().padStart(2,"0"),hn.getUTCMinutes().toString().padStart(2,"0"),hn.getUTCSeconds().toString().padStart(2,"0")].join("")}class yn{constructor(){tn(this,Mn,!1);this.promise=new Promise((Qt,nn)=>{this.resolve=bn=>{rn(this,Mn,!0),Qt(bn)},this.reject=bn=>{rn(this,Mn,!0),nn(bn)}})}get settled(){return gt(this,Mn)}}Mn=new WeakMap,s.PromiseCapability=yn;let Sn=null,Dn=null;function gn(hn){return Sn||(Sn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Dn=new Map([["","t"]])),hn.replaceAll(Sn,(Qt,nn,bn)=>nn?nn.normalize("NFKC"):Dn.get(bn))}function En(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const hn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(hn);else for(let Qt=0;Qt<32;Qt++)hn[Qt]=Math.floor(Math.random()*255);return Yt(hn)}const kn="pdfjs_internal_id_";s.AnnotationPrefix=kn},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var e,i,o,a,Kn,or,h,g,b,_,$,et,_e,st,nt,ar,j,tt,Er,lt,rt;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(at){if(typeof at=="string"||at instanceof URL?at={url:at}:(0,_util.isArrayBuffer)(at)&&(at={data:at}),typeof at!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!at.url&&!at.data&&!at.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ut=new PDFDocumentLoadingTask,{docId:ft}=ut,Ct=at.url?getUrlProp(at.url):null,xt=at.data?getDataProp(at.data):null,pt=at.httpHeaders||null,_t=at.withCredentials===!0,mt=at.password??null,Pt=at.range instanceof PDFDataRangeTransport?at.range:null,Ut=Number.isInteger(at.rangeChunkSize)&&at.rangeChunkSize>0?at.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Tt=at.worker instanceof PDFWorker?at.worker:null;const Ot=at.verbosity,At=typeof at.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(at.docBaseUrl)?at.docBaseUrl:null,Mt=typeof at.cMapUrl=="string"?at.cMapUrl:null,Rt=at.cMapPacked!==!1,Et=at.CMapReaderFactory||DefaultCMapReaderFactory,yt=typeof at.standardFontDataUrl=="string"?at.standardFontDataUrl:null,vt=at.StandardFontDataFactory||DefaultStandardFontDataFactory,St=at.stopAtErrors!==!0,jt=Number.isInteger(at.maxImageSize)&&at.maxImageSize>-1?at.maxImageSize:-1,Ft=at.isEvalSupported!==!1,Lt=typeof at.isOffscreenCanvasSupported=="boolean"?at.isOffscreenCanvasSupported:!_util.isNodeJS,$t=Number.isInteger(at.canvasMaxAreaInBytes)?at.canvasMaxAreaInBytes:-1,Gt=typeof at.disableFontFace=="boolean"?at.disableFontFace:_util.isNodeJS,Yt=at.fontExtraProperties===!0,Jt=at.enableXfa===!0,an=at.ownerDocument||globalThis.document,ht=at.disableRange===!0,Wt=at.disableStream===!0,kt=at.disableAutoFetch===!0,wt=at.pdfBug===!0,dt=Pt?Pt.length:at.length??NaN,bt=typeof at.useSystemFonts=="boolean"?at.useSystemFonts:!_util.isNodeJS&&!Gt,Dt=typeof at.useWorkerFetch=="boolean"?at.useWorkerFetch:Et===_display_utils.DOMCMapReaderFactory&&vt===_display_utils.DOMStandardFontDataFactory&&Mt&&yt&&(0,_display_utils.isValidFetchUrl)(Mt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(yt,document.baseURI),Bt=at.canvasFactory||new DefaultCanvasFactory({ownerDocument:an}),It=at.filterFactory||new DefaultFilterFactory({docId:ft,ownerDocument:an}),Kt=null;(0,_util.setVerbosityLevel)(Ot);const Zt={canvasFactory:Bt,filterFactory:It};if(Dt||(Zt.cMapReaderFactory=new Et({baseUrl:Mt,isCompressed:Rt}),Zt.standardFontDataFactory=new vt({baseUrl:yt})),!Tt){const un={verbosity:Ot,port:_worker_options.GlobalWorkerOptions.workerPort};Tt=un.port?PDFWorker.fromPort(un):new PDFWorker(un),ut._worker=Tt}const Vt={docId:ft,apiVersion:"3.11.174",data:xt,password:mt,disableAutoFetch:kt,rangeChunkSize:Ut,length:dt,docBaseUrl:At,enableXfa:Jt,evaluatorOptions:{maxImageSize:jt,disableFontFace:Gt,ignoreErrors:St,isEvalSupported:Ft,isOffscreenCanvasSupported:Lt,canvasMaxAreaInBytes:$t,fontExtraProperties:Yt,useSystemFonts:bt,cMapUrl:Dt?Mt:null,standardFontDataUrl:Dt?yt:null}},sn={ignoreErrors:St,isEvalSupported:Ft,disableFontFace:Gt,fontExtraProperties:Yt,enableXfa:Jt,ownerDocument:an,disableAutoFetch:kt,pdfBug:wt,styleElement:Kt};return Tt.promise.then(function(){if(ut.destroyed)throw new Error("Loading aborted");const un=_fetchDocument(Tt,Vt),yn=new Promise(function(Sn){let Dn;Pt?Dn=new _transport_stream.PDFDataTransportStream({length:dt,initialData:Pt.initialData,progressiveDone:Pt.progressiveDone,contentDispositionFilename:Pt.contentDispositionFilename,disableRange:ht,disableStream:Wt},Pt):xt||(Dn=(En=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(En):(0,_display_utils.isValidFetchUrl)(En.url)?new _displayFetch_stream.PDFFetchStream(En):new _displayNetwork.PDFNetworkStream(En))({url:Ct,length:dt,httpHeaders:pt,withCredentials:_t,rangeChunkSize:Ut,disableRange:ht,disableStream:Wt})),Sn(Dn)});return Promise.all([un,yn]).then(function([Sn,Dn]){if(ut.destroyed)throw new Error("Loading aborted");const gn=new _message_handler.MessageHandler(ft,Sn,Tt.port),En=new WorkerTransport(gn,ut,Dn,sn,Zt);ut._transport=En,gn.send("Ready",null)})}).catch(ut._capability.reject),ut}async function _fetchDocument(at,ut){if(at.destroyed)throw new Error("Worker was destroyed");const ft=await at.messageHandler.sendWithPromise("GetDocRequest",ut,ut.data?[ut.data.buffer]:null);if(at.destroyed)throw new Error("Worker was destroyed");return ft}function getUrlProp(at){if(at instanceof URL)return at.href;try{return new URL(at,window.location).href}catch{if(_util.isNodeJS&&typeof at=="string")return at}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(at){if(_util.isNodeJS&&typeof Buffer<"u"&&at instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(at instanceof Uint8Array&&at.byteLength===at.buffer.byteLength)return at;if(typeof at=="string")return(0,_util.stringToBytes)(at);if(typeof at=="object"&&!isNaN(at==null?void 0:at.length)||(0,_util.isArrayBuffer)(at))return new Uint8Array(at);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const s=class s{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Qn(s,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var ut,ft,Ct;this.destroyed=!0;try{(ut=this._worker)!=null&&ut.port&&(this._worker._pendingDestroy=!0),await((ft=this._transport)==null?void 0:ft.destroy())}catch(xt){throw(Ct=this._worker)!=null&&Ct.port&&delete this._worker._pendingDestroy,xt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,tn(s,e,0);let PDFDocumentLoadingTask=s;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ut,ft,Ct=!1,xt=null){this.length=ut,this.initialData=ft,this.progressiveDone=Ct,this.contentDispositionFilename=xt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(ut){this._rangeListeners.push(ut)}addProgressListener(ut){this._progressListeners.push(ut)}addProgressiveReadListener(ut){this._progressiveReadListeners.push(ut)}addProgressiveDoneListener(ut){this._progressiveDoneListeners.push(ut)}onDataRange(ut,ft){for(const Ct of this._rangeListeners)Ct(ut,ft)}onDataProgress(ut,ft){this._readyCapability.promise.then(()=>{for(const Ct of this._progressListeners)Ct(ut,ft)})}onDataProgressiveRead(ut){this._readyCapability.promise.then(()=>{for(const ft of this._progressiveReadListeners)ft(ut)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ut of this._progressiveDoneListeners)ut()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ut,ft){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ut,ft){this._pdfInfo=ut,this._transport=ft,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Ct=>{if(!Ct)return Ct;const xt=[];for(const pt in Ct)xt.push(...Ct[pt]);return xt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ut){return this._transport.getPage(ut)}getPageIndex(ut){return this._transport.getPageIndex(ut)}getDestinations(){return this._transport.getDestinations()}getDestination(ut){return this._transport.getDestination(ut)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ut=!1){return this._transport.startCleanup(ut||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ut,ft,Ct,xt=!1){tn(this,a);tn(this,i,null);tn(this,o,!1);this._pageIndex=ut,this._pageInfo=ft,this._transport=Ct,this._stats=xt?new _display_utils.StatTimer:null,this._pdfBug=xt,this.commonObjs=Ct.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ut,rotation:ft=this.rotate,offsetX:Ct=0,offsetY:xt=0,dontFlip:pt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ut,rotation:ft,offsetX:Ct,offsetY:xt,dontFlip:pt})}getAnnotations({intent:ut="display"}={}){const ft=this._transport.getRenderingIntent(ut);return this._transport.getAnnotations(this._pageIndex,ft.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var ut;return((ut=this._transport._htmlForXfa)==null?void 0:ut.children[this._pageIndex])||null}render({canvasContext:ut,viewport:ft,intent:Ct="display",annotationMode:xt=_util.AnnotationMode.ENABLE,transform:pt=null,background:_t=null,optionalContentConfigPromise:mt=null,annotationCanvasMap:Pt=null,pageColors:Ut=null,printAnnotationStorage:Tt=null}){var vt,St;(vt=this._stats)==null||vt.time("Overall");const Ot=this._transport.getRenderingIntent(Ct,xt,Tt);rn(this,o,!1),qt(this,a,or).call(this),mt||(mt=this._transport.getOptionalContentConfig());let At=this._intentStates.get(Ot.cacheKey);At||(At=Object.create(null),this._intentStates.set(Ot.cacheKey,At)),At.streamReaderCancelTimeout&&(clearTimeout(At.streamReaderCancelTimeout),At.streamReaderCancelTimeout=null);const Mt=!!(Ot.renderingIntent&_util.RenderingIntentFlag.PRINT);At.displayReadyCapability||(At.displayReadyCapability=new _util.PromiseCapability,At.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(St=this._stats)==null||St.time("Page Request"),this._pumpOperatorList(Ot));const Rt=jt=>{var Ft,Lt;At.renderTasks.delete(Et),(this._maybeCleanupAfterRender||Mt)&&rn(this,o,!0),qt(this,a,Kn).call(this,!Mt),jt?(Et.capability.reject(jt),this._abortOperatorList({intentState:At,reason:jt instanceof Error?jt:new Error(jt)})):Et.capability.resolve(),(Ft=this._stats)==null||Ft.timeEnd("Rendering"),(Lt=this._stats)==null||Lt.timeEnd("Overall")},Et=new InternalRenderTask({callback:Rt,params:{canvasContext:ut,viewport:ft,transform:pt,background:_t},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Pt,operatorList:At.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Mt,pdfBug:this._pdfBug,pageColors:Ut});(At.renderTasks||(At.renderTasks=new Set)).add(Et);const yt=Et.task;return Promise.all([At.displayReadyCapability.promise,mt]).then(([jt,Ft])=>{var Lt;if(this.destroyed){Rt();return}(Lt=this._stats)==null||Lt.time("Rendering"),Et.initializeGraphics({transparency:jt,optionalContentConfig:Ft}),Et.operatorListChanged()}).catch(Rt),yt}getOperatorList({intent:ut="display",annotationMode:ft=_util.AnnotationMode.ENABLE,printAnnotationStorage:Ct=null}={}){var Pt;function xt(){_t.operatorList.lastChunk&&(_t.opListReadCapability.resolve(_t.operatorList),_t.renderTasks.delete(mt))}const pt=this._transport.getRenderingIntent(ut,ft,Ct,!0);let _t=this._intentStates.get(pt.cacheKey);_t||(_t=Object.create(null),this._intentStates.set(pt.cacheKey,_t));let mt;return _t.opListReadCapability||(mt=Object.create(null),mt.operatorListChanged=xt,_t.opListReadCapability=new _util.PromiseCapability,(_t.renderTasks||(_t.renderTasks=new Set)).add(mt),_t.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Pt=this._stats)==null||Pt.time("Page Request"),this._pumpOperatorList(pt)),_t.opListReadCapability.promise}streamTextContent({includeMarkedContent:ut=!1,disableNormalization:ft=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ut===!0,disableNormalization:ft===!0},{highWaterMark:100,size(xt){return xt.items.length}})}getTextContent(ut={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ct=>_xfa_text.XfaText.textContent(Ct));const ft=this.streamTextContent(ut);return new Promise(function(Ct,xt){function pt(){_t.read().then(function({value:Pt,done:Ut}){if(Ut){Ct(mt);return}Object.assign(mt.styles,Pt.styles),mt.items.push(...Pt.items),pt()},xt)}const _t=ft.getReader(),mt={items:[],styles:Object.create(null)};pt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ut=[];for(const ft of this._intentStates.values())if(this._abortOperatorList({intentState:ft,reason:new Error("Page was destroyed."),force:!0}),!ft.opListReadCapability)for(const Ct of ft.renderTasks)ut.push(Ct.completed),Ct.cancel();return this.objs.clear(),rn(this,o,!1),qt(this,a,or).call(this),Promise.all(ut)}cleanup(ut=!1){rn(this,o,!0);const ft=qt(this,a,Kn).call(this,!1);return ut&&ft&&this._stats&&(this._stats=new _display_utils.StatTimer),ft}_startRenderPage(ut,ft){var xt,pt;const Ct=this._intentStates.get(ft);Ct&&((xt=this._stats)==null||xt.timeEnd("Page Request"),(pt=Ct.displayReadyCapability)==null||pt.resolve(ut))}_renderPageChunk(ut,ft){for(let Ct=0,xt=ut.length;Ct<xt;Ct++)ft.operatorList.fnArray.push(ut.fnArray[Ct]),ft.operatorList.argsArray.push(ut.argsArray[Ct]);ft.operatorList.lastChunk=ut.lastChunk,ft.operatorList.separateAnnots=ut.separateAnnots;for(const Ct of ft.renderTasks)Ct.operatorListChanged();ut.lastChunk&&qt(this,a,Kn).call(this,!0)}_pumpOperatorList({renderingIntent:ut,cacheKey:ft,annotationStorageSerializable:Ct}){const{map:xt,transfers:pt}=Ct,mt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ut,cacheKey:ft,annotationStorage:xt},pt).getReader(),Pt=this._intentStates.get(ft);Pt.streamReader=mt;const Ut=()=>{mt.read().then(({value:Tt,done:Ot})=>{if(Ot){Pt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Tt,Pt),Ut())},Tt=>{if(Pt.streamReader=null,!this._transport.destroyed){if(Pt.operatorList){Pt.operatorList.lastChunk=!0;for(const Ot of Pt.renderTasks)Ot.operatorListChanged();qt(this,a,Kn).call(this,!0)}if(Pt.displayReadyCapability)Pt.displayReadyCapability.reject(Tt);else if(Pt.opListReadCapability)Pt.opListReadCapability.reject(Tt);else throw Tt}})};Ut()}_abortOperatorList({intentState:ut,reason:ft,force:Ct=!1}){if(ut.streamReader){if(ut.streamReaderCancelTimeout&&(clearTimeout(ut.streamReaderCancelTimeout),ut.streamReaderCancelTimeout=null),!Ct){if(ut.renderTasks.size>0)return;if(ft instanceof _display_utils.RenderingCancelledException){let xt=RENDERING_CANCELLED_TIMEOUT;ft.extraDelay>0&&ft.extraDelay<1e3&&(xt+=ft.extraDelay),ut.streamReaderCancelTimeout=setTimeout(()=>{ut.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ut,reason:ft,force:!0})},xt);return}}if(ut.streamReader.cancel(new _util.AbortException(ft.message)).catch(()=>{}),ut.streamReader=null,!this._transport.destroyed){for(const[xt,pt]of this._intentStates)if(pt===ut){this._intentStates.delete(xt);break}this.cleanup()}}}get stats(){return this._stats}}i=new WeakMap,o=new WeakMap,a=new WeakSet,Kn=function(ut=!1){if(qt(this,a,or).call(this),!gt(this,o)||this.destroyed)return!1;if(ut)return rn(this,i,setTimeout(()=>{rn(this,i,null),qt(this,a,Kn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ft,operatorList:Ct}of this._intentStates.values())if(ft.size>0||!Ct.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),rn(this,o,!1),!0},or=function(){gt(this,i)&&(clearTimeout(gt(this,i)),rn(this,i,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){tn(this,h,new Set);tn(this,g,Promise.resolve())}postMessage(ut,ft){const Ct={data:structuredClone(ut,ft?{transfer:ft}:null)};gt(this,g).then(()=>{for(const xt of gt(this,h))xt.call(this,Ct)})}addEventListener(ut,ft){gt(this,h).add(ft)}removeEventListener(ut,ft){gt(this,h).delete(ft)}terminate(){gt(this,h).clear()}}h=new WeakMap,g=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const at=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;at&&(PDFWorkerUtil.fallbackWorkerSrc=at.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(at,ut){let ft;try{if(ft=new URL(at),!ft.origin||ft.origin==="null")return!1}catch{return!1}const Ct=new URL(ut,ft);return ft.origin===Ct.origin},PDFWorkerUtil.createCDNWrapper=function(at){const ut=`importScripts("${at}");`;return URL.createObjectURL(new Blob([ut]))}}const _PDFWorker=class _PDFWorker{constructor({name:at=null,port:ut=null,verbosity:ft=(0,_util.getVerbosityLevel)()}={}){var Ct;if(this.name=at,this.destroyed=!1,this.verbosity=ft,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ut){if((Ct=gt(_PDFWorker,_))!=null&&Ct.has(ut))throw new Error("Cannot use more than one PDFWorker per port.");(gt(_PDFWorker,_)||rn(_PDFWorker,_,new WeakMap)).set(ut,this),this._initializeFromPort(ut);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(at){this._port=at,this._messageHandler=new _message_handler.MessageHandler("main","worker",at),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:at}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,at)||(at=PDFWorkerUtil.createCDNWrapper(new URL(at,window.location).href));const ut=new Worker(at),ft=new _message_handler.MessageHandler("main","worker",ut),Ct=()=>{ut.removeEventListener("error",xt),ft.destroy(),ut.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},xt=()=>{this._webWorker||Ct()};ut.addEventListener("error",xt),ft.on("test",_t=>{if(ut.removeEventListener("error",xt),this.destroyed){Ct();return}_t?(this._messageHandler=ft,this._port=ut,this._webWorker=ut,this._readyCapability.resolve(),ft.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ft.destroy(),ut.terminate())}),ft.on("ready",_t=>{if(ut.removeEventListener("error",xt),this.destroyed){Ct();return}try{pt()}catch{this._setupFakeWorker()}});const pt=()=>{const _t=new Uint8Array;ft.send("test",_t,[_t.buffer])};pt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(at=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ut=new LoopbackPort;this._port=ut;const ft=`fake${PDFWorkerUtil.fakeWorkerId++}`,Ct=new _message_handler.MessageHandler(ft+"_worker",ft,ut);at.setup(Ct,ut);const xt=new _message_handler.MessageHandler(ft,ft+"_worker",ut);this._messageHandler=xt,this._readyCapability.resolve(),xt.send("configure",{verbosity:this.verbosity})}).catch(at=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${at.message}".`))})}destroy(){var at;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(at=gt(_PDFWorker,_))==null||at.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(at){var ft;if(!(at!=null&&at.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ut=(ft=gt(this,_))==null?void 0:ft.get(at.port);if(ut){if(ut._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ut}return new _PDFWorker(at)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var at;try{return((at=globalThis.pdfjsWorker)==null?void 0:at.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_=new WeakMap,tn(_PDFWorker,_);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(ut,ft,Ct,xt,pt){tn(this,nt);tn(this,$,new Map);tn(this,et,new Map);tn(this,_e,new Map);tn(this,st,null);this.messageHandler=ut,this.loadingTask=ft,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:xt.ownerDocument,styleElement:xt.styleElement}),this._params=xt,this.canvasFactory=pt.canvasFactory,this.filterFactory=pt.filterFactory,this.cMapReaderFactory=pt.cMapReaderFactory,this.standardFontDataFactory=pt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ct,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(ut,ft=_util.AnnotationMode.ENABLE,Ct=null,xt=!1){let pt=_util.RenderingIntentFlag.DISPLAY,_t=_annotation_storage.SerializableEmpty;switch(ut){case"any":pt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":pt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ut}`)}switch(ft){case _util.AnnotationMode.DISABLE:pt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:pt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:pt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,_t=(pt&_util.RenderingIntentFlag.PRINT&&Ct instanceof _annotation_storage.PrintAnnotationStorage?Ct:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ft}`)}return xt&&(pt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:pt,cacheKey:`${pt}_${_t.hash}`,annotationStorageSerializable:_t}}destroy(){var Ct;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Ct=gt(this,st))==null||Ct.reject(new Error("Worker was destroyed during onPassword callback"));const ut=[];for(const xt of gt(this,et).values())ut.push(xt._destroy());gt(this,et).clear(),gt(this,_e).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ft=this.messageHandler.sendWithPromise("Terminate",null);return ut.push(ft),Promise.all(ut).then(()=>{var xt;this.commonObjs.clear(),this.fontLoader.clear(),gt(this,$).clear(),this.filterFactory.destroy(),(xt=this._networkStream)==null||xt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ut,loadingTask:ft}=this;ut.on("GetReader",(Ct,xt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=pt=>{this._lastProgress={loaded:pt.loaded,total:pt.total}},xt.onPull=()=>{this._fullReader.read().then(function({value:pt,done:_t}){if(_t){xt.close();return}(0,_util.assert)(pt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(pt),1,[pt])}).catch(pt=>{xt.error(pt)})},xt.onCancel=pt=>{this._fullReader.cancel(pt),xt.ready.catch(_t=>{if(!this.destroyed)throw _t})}}),ut.on("ReaderHeadersReady",Ct=>{const xt=new _util.PromiseCapability,pt=this._fullReader;return pt.headersReady.then(()=>{var _t;(!pt.isStreamingSupported||!pt.isRangeSupported)&&(this._lastProgress&&((_t=ft.onProgress)==null||_t.call(ft,this._lastProgress)),pt.onProgress=mt=>{var Pt;(Pt=ft.onProgress)==null||Pt.call(ft,{loaded:mt.loaded,total:mt.total})}),xt.resolve({isStreamingSupported:pt.isStreamingSupported,isRangeSupported:pt.isRangeSupported,contentLength:pt.contentLength})},xt.reject),xt.promise}),ut.on("GetRangeReader",(Ct,xt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const pt=this._networkStream.getRangeReader(Ct.begin,Ct.end);if(!pt){xt.close();return}xt.onPull=()=>{pt.read().then(function({value:_t,done:mt}){if(mt){xt.close();return}(0,_util.assert)(_t instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),xt.enqueue(new Uint8Array(_t),1,[_t])}).catch(_t=>{xt.error(_t)})},xt.onCancel=_t=>{pt.cancel(_t),xt.ready.catch(mt=>{if(!this.destroyed)throw mt})}}),ut.on("GetDoc",({pdfInfo:Ct})=>{this._numPages=Ct.numPages,this._htmlForXfa=Ct.htmlForXfa,delete Ct.htmlForXfa,ft._capability.resolve(new PDFDocumentProxy(Ct,this))}),ut.on("DocException",function(Ct){let xt;switch(Ct.name){case"PasswordException":xt=new _util.PasswordException(Ct.message,Ct.code);break;case"InvalidPDFException":xt=new _util.InvalidPDFException(Ct.message);break;case"MissingPDFException":xt=new _util.MissingPDFException(Ct.message);break;case"UnexpectedResponseException":xt=new _util.UnexpectedResponseException(Ct.message,Ct.status);break;case"UnknownErrorException":xt=new _util.UnknownErrorException(Ct.message,Ct.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ft._capability.reject(xt)}),ut.on("PasswordRequest",Ct=>{if(rn(this,st,new _util.PromiseCapability),ft.onPassword){const xt=pt=>{pt instanceof Error?gt(this,st).reject(pt):gt(this,st).resolve({password:pt})};try{ft.onPassword(xt,Ct.code)}catch(pt){gt(this,st).reject(pt)}}else gt(this,st).reject(new _util.PasswordException(Ct.message,Ct.code));return gt(this,st).promise}),ut.on("DataLoaded",Ct=>{var xt;(xt=ft.onProgress)==null||xt.call(ft,{loaded:Ct.length,total:Ct.length}),this.downloadInfoCapability.resolve(Ct)}),ut.on("StartRenderPage",Ct=>{if(this.destroyed)return;gt(this,et).get(Ct.pageIndex)._startRenderPage(Ct.transparency,Ct.cacheKey)}),ut.on("commonobj",([Ct,xt,pt])=>{var _t;if(!this.destroyed&&!this.commonObjs.has(Ct))switch(xt){case"Font":const mt=this._params;if("error"in pt){const Tt=pt.error;(0,_util.warn)(`Error during font loading: ${Tt}`),this.commonObjs.resolve(Ct,Tt);break}const Pt=mt.pdfBug&&((_t=globalThis.FontInspector)!=null&&_t.enabled)?(Tt,Ot)=>globalThis.FontInspector.fontAdded(Tt,Ot):null,Ut=new _font_loader.FontFaceObject(pt,{isEvalSupported:mt.isEvalSupported,disableFontFace:mt.disableFontFace,ignoreErrors:mt.ignoreErrors,inspectFont:Pt});this.fontLoader.bind(Ut).catch(Tt=>ut.sendWithPromise("FontFallback",{id:Ct})).finally(()=>{!mt.fontExtraProperties&&Ut.data&&(Ut.data=null),this.commonObjs.resolve(Ct,Ut)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ct,pt);break;default:throw new Error(`Got unknown common object type ${xt}`)}}),ut.on("obj",([Ct,xt,pt,_t])=>{var Pt;if(this.destroyed)return;const mt=gt(this,et).get(xt);if(!mt.objs.has(Ct))switch(pt){case"Image":if(mt.objs.resolve(Ct,_t),_t){let Ut;if(_t.bitmap){const{width:Tt,height:Ot}=_t;Ut=Tt*Ot*4}else Ut=((Pt=_t.data)==null?void 0:Pt.length)||0;Ut>_util.MAX_IMAGE_SIZE_TO_CACHE&&(mt._maybeCleanupAfterRender=!0)}break;case"Pattern":mt.objs.resolve(Ct,_t);break;default:throw new Error(`Got unknown object type ${pt}`)}}),ut.on("DocProgress",Ct=>{var xt;this.destroyed||(xt=ft.onProgress)==null||xt.call(ft,{loaded:Ct.loaded,total:Ct.total})}),ut.on("FetchBuiltInCMap",Ct=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Ct):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ut.on("FetchStandardFontData",Ct=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Ct):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ct;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ut,transfers:ft}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ut,filename:((Ct=this._fullReader)==null?void 0:Ct.filename)??null},ft).finally(()=>{this.annotationStorage.resetModified()})}getPage(ut){if(!Number.isInteger(ut)||ut<=0||ut>this._numPages)return Promise.reject(new Error("Invalid page request."));const ft=ut-1,Ct=gt(this,_e).get(ft);if(Ct)return Ct;const xt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ft}).then(pt=>{if(this.destroyed)throw new Error("Transport destroyed");const _t=new PDFPageProxy(ft,pt,this,this._params.pdfBug);return gt(this,et).set(ft,_t),_t});return gt(this,_e).set(ft,xt),xt}getPageIndex(ut){return typeof ut!="object"||ut===null||!Number.isInteger(ut.num)||ut.num<0||!Number.isInteger(ut.gen)||ut.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ut.num,gen:ut.gen})}getAnnotations(ut,ft){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ut,intent:ft})}getFieldObjects(){return qt(this,nt,ar).call(this,"GetFieldObjects")}hasJSActions(){return qt(this,nt,ar).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ut){return typeof ut!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ut})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return qt(this,nt,ar).call(this,"GetDocJSActions")}getPageJSActions(ut){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ut})}getStructTree(ut){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ut})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ut=>new _optional_content_config.OptionalContentConfig(ut))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ut="GetMetadata",ft=gt(this,$).get(ut);if(ft)return ft;const Ct=this.messageHandler.sendWithPromise(ut,null).then(xt=>{var pt,_t;return{info:xt[0],metadata:xt[1]?new _metadata.Metadata(xt[1]):null,contentDispositionFilename:((pt=this._fullReader)==null?void 0:pt.filename)??null,contentLength:((_t=this._fullReader)==null?void 0:_t.contentLength)??null}});return gt(this,$).set(ut,Ct),Ct}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ut=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ft of gt(this,et).values())if(!ft.cleanup())throw new Error(`startCleanup: Page ${ft.pageNumber} is currently rendering.`);this.commonObjs.clear(),ut||this.fontLoader.clear(),gt(this,$).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ut,enableXfa:ft}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ut,enableXfa:ft})}}$=new WeakMap,et=new WeakMap,_e=new WeakMap,st=new WeakMap,nt=new WeakSet,ar=function(ut,ft=null){const Ct=gt(this,$).get(ut);if(Ct)return Ct;const xt=this.messageHandler.sendWithPromise(ut,ft);return gt(this,$).set(ut,xt),xt};class PDFObjects{constructor(){tn(this,tt);tn(this,j,Object.create(null))}get(ut,ft=null){if(ft){const xt=qt(this,tt,Er).call(this,ut);return xt.capability.promise.then(()=>ft(xt.data)),null}const Ct=gt(this,j)[ut];if(!(Ct!=null&&Ct.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ut}.`);return Ct.data}has(ut){const ft=gt(this,j)[ut];return(ft==null?void 0:ft.capability.settled)||!1}resolve(ut,ft=null){const Ct=qt(this,tt,Er).call(this,ut);Ct.data=ft,Ct.capability.resolve()}clear(){var ut;for(const ft in gt(this,j)){const{data:Ct}=gt(this,j)[ft];(ut=Ct==null?void 0:Ct.bitmap)==null||ut.close()}rn(this,j,Object.create(null))}}j=new WeakMap,tt=new WeakSet,Er=function(ut){var ft;return(ft=gt(this,j))[ut]||(ft[ut]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(ut){tn(this,lt,null);rn(this,lt,ut),this.onContinue=null}get promise(){return gt(this,lt).capability.promise}cancel(ut=0){gt(this,lt).cancel(null,ut)}get separateAnnots(){const{separateAnnots:ut}=gt(this,lt).operatorList;if(!ut)return!1;const{annotationCanvasMap:ft}=gt(this,lt);return ut.form||ut.canvas&&(ft==null?void 0:ft.size)>0}}lt=new WeakMap,exports$1.RenderTask=RenderTask;const ct=class ct{constructor({callback:ut,params:ft,objs:Ct,commonObjs:xt,annotationCanvasMap:pt,operatorList:_t,pageIndex:mt,canvasFactory:Pt,filterFactory:Ut,useRequestAnimationFrame:Tt=!1,pdfBug:Ot=!1,pageColors:At=null}){this.callback=ut,this.params=ft,this.objs=Ct,this.commonObjs=xt,this.annotationCanvasMap=pt,this.operatorListIdx=null,this.operatorList=_t,this._pageIndex=mt,this.canvasFactory=Pt,this.filterFactory=Ut,this._pdfBug=Ot,this.pageColors=At,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Tt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ft.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ut=!1,optionalContentConfig:ft}){var mt,Pt;if(this.cancelled)return;if(this._canvas){if(gt(ct,rt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");gt(ct,rt).add(this._canvas)}this._pdfBug&&((mt=globalThis.StepperManager)!=null&&mt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ct,viewport:xt,transform:pt,background:_t}=this.params;this.gfx=new _canvas.CanvasGraphics(Ct,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ft},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:pt,viewport:xt,transparency:ut,background:_t}),this.operatorListIdx=0,this.graphicsReady=!0,(Pt=this.graphicsReadyCallback)==null||Pt.call(this)}cancel(ut=null,ft=0){var Ct;this.running=!1,this.cancelled=!0,(Ct=this.gfx)==null||Ct.endDrawing(),gt(ct,rt).delete(this._canvas),this.callback(ut||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ft))}operatorListChanged(){var ut;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(ut=this.stepper)==null||ut.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),gt(ct,rt).delete(this._canvas),this.callback())))}};rt=new WeakMap,tn(ct,rt,new WeakSet);let InternalRenderTask=ct;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build},(e,s,i)=>{var b,_,$,rs,_e;Object.defineProperty(s,"__esModule",{value:!0}),s.SerializableEmpty=s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var o=i(1),a=i(4),c=i(8);const d=Object.freeze({map:null,hash:"",transfers:void 0});s.SerializableEmpty=d;class h{constructor(){tn(this,$);tn(this,b,!1);tn(this,_,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(nt,it){const j=gt(this,_).get(nt);return j===void 0?it:Object.assign(it,j)}getRawValue(nt){return gt(this,_).get(nt)}remove(nt){if(gt(this,_).delete(nt),gt(this,_).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const it of gt(this,_).values())if(it instanceof a.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(nt,it){const j=gt(this,_).get(nt);let tt=!1;if(j!==void 0)for(const[ot,lt]of Object.entries(it))j[ot]!==lt&&(tt=!0,j[ot]=lt);else tt=!0,gt(this,_).set(nt,it);tt&&qt(this,$,rs).call(this),it instanceof a.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(it.constructor._type)}has(nt){return gt(this,_).has(nt)}getAll(){return gt(this,_).size>0?(0,o.objectFromMap)(gt(this,_)):null}setAll(nt){for(const[it,j]of Object.entries(nt))this.setValue(it,j)}get size(){return gt(this,_).size}resetModified(){gt(this,b)&&(rn(this,b,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new g(this)}get serializable(){if(gt(this,_).size===0)return d;const nt=new Map,it=new c.MurmurHash3_64,j=[],tt=Object.create(null);let ot=!1;for(const[lt,rt]of gt(this,_)){const ct=rt instanceof a.AnnotationEditor?rt.serialize(!1,tt):rt;ct&&(nt.set(lt,ct),it.update(`${lt}:${JSON.stringify(ct)}`),ot||(ot=!!ct.bitmap))}if(ot)for(const lt of nt.values())lt.bitmap&&j.push(lt.bitmap);return nt.size>0?{map:nt,hash:it.hexdigest(),transfers:j}:d}}b=new WeakMap,_=new WeakMap,$=new WeakSet,rs=function(){gt(this,b)||(rn(this,b,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=h;class g extends h{constructor(it){super();tn(this,_e);const{map:j,hash:tt,transfers:ot}=it.serializable,lt=structuredClone(j,ot?{transfer:ot}:null);rn(this,_e,{map:lt,hash:tt,transfers:ot})}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return gt(this,_e)}}_e=new WeakMap,s.PrintAnnotationStorage=g},(e,s,i)=>{var g,b,_,$,et,_e,st,nt,it,j,tt,ot,lt,rt,ct,wr,Sr,ft,_r,Ar,ss,os,as,Cr,ls;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var o=i(5),a=i(1),c=i(6);const Tt=class Tt{constructor(At){tn(this,ct);tn(this,g,"");tn(this,b,!1);tn(this,_,null);tn(this,$,null);tn(this,et,null);tn(this,_e,!1);tn(this,st,null);tn(this,nt,this.focusin.bind(this));tn(this,it,this.focusout.bind(this));tn(this,j,!1);tn(this,tt,!1);tn(this,ot,!1);On(this,"_initialOptions",Object.create(null));On(this,"_uiManager",null);On(this,"_focusEventsAllowed",!0);On(this,"_l10nPromise",null);tn(this,lt,!1);tn(this,rt,Tt._zIndex++);this.constructor===Tt&&(0,a.unreachable)("Cannot initialize AnnotationEditor."),this.parent=At.parent,this.id=At.id,this.width=this.height=null,this.pageIndex=At.parent.pageIndex,this.name=At.name,this.div=null,this._uiManager=At.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=At.isCentered,this._structTreeParentId=null;const{rotation:Mt,rawDims:{pageWidth:Rt,pageHeight:Et,pageX:yt,pageY:vt}}=this.parent.viewport;this.rotation=Mt,this.pageRotation=(360+Mt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Rt,Et],this.pageTranslation=[yt,vt];const[St,jt]=this.parentDimensions;this.x=At.x/St,this.y=At.y/jt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,a.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(At){const Mt=new h({id:At.parent.getNextId(),parent:At.parent,uiManager:At._uiManager});Mt.annotationElementId=At.annotationElementId,Mt.deleted=!0,Mt._uiManager.addToAnnotationStorage(Mt)}static initialize(At,Mt=null){if(Tt._l10nPromise||(Tt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Et=>[Et,At.get(Et)]))),Mt!=null&&Mt.strings)for(const Et of Mt.strings)Tt._l10nPromise.set(Et,At.get(Et));if(Tt._borderLineWidth!==-1)return;const Rt=getComputedStyle(document.documentElement);Tt._borderLineWidth=parseFloat(Rt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(At,Mt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(At){return!1}static paste(At,Mt){(0,a.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return gt(this,lt)}set _isDraggable(At){var Mt;rn(this,lt,At),(Mt=this.div)==null||Mt.classList.toggle("draggable",At)}center(){const[At,Mt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Mt/(At*2),this.y+=this.width*At/(Mt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Mt/(At*2),this.y-=this.width*At/(Mt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(At){this._uiManager.addCommands(At)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=gt(this,rt)}setParent(At){At!==null&&(this.pageIndex=At.pageIndex,this.pageDimensions=At.pageDimensions),this.parent=At}focusin(At){this._focusEventsAllowed&&(gt(this,j)?rn(this,j,!1):this.parent.setSelected(this))}focusout(At){var Rt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Mt=At.relatedTarget;Mt!=null&&Mt.closest(`#${this.id}`)||(At.preventDefault(),(Rt=this.parent)!=null&&Rt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(At,Mt,Rt,Et){const[yt,vt]=this.parentDimensions;[Rt,Et]=this.screenToPageTranslation(Rt,Et),this.x=(At+Rt)/yt,this.y=(Mt+Et)/vt,this.fixAndSetPosition()}translate(At,Mt){qt(this,ct,wr).call(this,this.parentDimensions,At,Mt)}translateInPage(At,Mt){qt(this,ct,wr).call(this,this.pageDimensions,At,Mt),this.div.scrollIntoView({block:"nearest"})}drag(At,Mt){const[Rt,Et]=this.parentDimensions;if(this.x+=At/Rt,this.y+=Mt/Et,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ft,y:Lt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ft,Lt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:yt,y:vt}=this;const[St,jt]=qt(this,ct,Sr).call(this);yt+=St,vt+=jt,this.div.style.left=`${(100*yt).toFixed(2)}%`,this.div.style.top=`${(100*vt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[At,Mt]=this.pageDimensions;let{x:Rt,y:Et,width:yt,height:vt}=this;switch(yt*=At,vt*=Mt,Rt*=At,Et*=Mt,this.rotation){case 0:Rt=Math.max(0,Math.min(At-yt,Rt)),Et=Math.max(0,Math.min(Mt-vt,Et));break;case 90:Rt=Math.max(0,Math.min(At-vt,Rt)),Et=Math.min(Mt,Math.max(yt,Et));break;case 180:Rt=Math.min(At,Math.max(yt,Rt)),Et=Math.min(Mt,Math.max(vt,Et));break;case 270:Rt=Math.min(At,Math.max(vt,Rt)),Et=Math.max(0,Math.min(Mt-yt,Et));break}this.x=Rt/=At,this.y=Et/=Mt;const[St,jt]=qt(this,ct,Sr).call(this);Rt+=St,Et+=jt;const{style:Ft}=this.div;Ft.left=`${(100*Rt).toFixed(2)}%`,Ft.top=`${(100*Et).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(At,Mt){var Rt;return qt(Rt=Tt,ft,_r).call(Rt,At,Mt,this.parentRotation)}pageTranslationToScreen(At,Mt){var Rt;return qt(Rt=Tt,ft,_r).call(Rt,At,Mt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:At,pageDimensions:[Mt,Rt]}=this,Et=Mt*At,yt=Rt*At;return a.FeatureTest.isCSSRoundSupported?[Math.round(Et),Math.round(yt)]:[Et,yt]}setDims(At,Mt){var yt;const[Rt,Et]=this.parentDimensions;this.div.style.width=`${(100*At/Rt).toFixed(2)}%`,gt(this,_e)||(this.div.style.height=`${(100*Mt/Et).toFixed(2)}%`),(yt=gt(this,_))==null||yt.classList.toggle("small",At<Tt.SMALL_EDITOR_SIZE||Mt<Tt.SMALL_EDITOR_SIZE)}fixDims(){const{style:At}=this.div,{height:Mt,width:Rt}=At,Et=Rt.endsWith("%"),yt=!gt(this,_e)&&Mt.endsWith("%");if(Et&&yt)return;const[vt,St]=this.parentDimensions;Et||(At.width=`${(100*parseFloat(Rt)/vt).toFixed(2)}%`),!gt(this,_e)&&!yt&&(At.height=`${(100*parseFloat(Mt)/St).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(gt(this,_))return;const At=rn(this,_,document.createElement("button"));At.className="altText";const Mt=await Tt._l10nPromise.get("editor_alt_text_button_label");At.textContent=Mt,At.setAttribute("aria-label",Mt),At.tabIndex="0",At.addEventListener("contextmenu",c.noContextMenu),At.addEventListener("pointerdown",Rt=>Rt.stopPropagation()),At.addEventListener("click",Rt=>{Rt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),At.addEventListener("keydown",Rt=>{Rt.target===At&&Rt.key==="Enter"&&(Rt.preventDefault(),this._uiManager.editAltText(this))}),qt(this,ct,Cr).call(this),this.div.append(At),Tt.SMALL_EDITOR_SIZE||(Tt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(At.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:gt(this,g),decorative:gt(this,b)}}set altTextData({altText:At,decorative:Mt}){gt(this,g)===At&&gt(this,b)===Mt||(rn(this,g,At),rn(this,b,Mt),qt(this,ct,Cr).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",gt(this,nt)),this.div.addEventListener("focusout",gt(this,it));const[At,Mt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Mt/At).toFixed(2)}%`,this.div.style.maxHeight=`${(100*At/Mt).toFixed(2)}%`);const[Rt,Et]=this.getInitialTranslation();return this.translate(Rt,Et),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(At){const{isMac:Mt}=a.FeatureTest.platform;if(At.button!==0||At.ctrlKey&&Mt){At.preventDefault();return}rn(this,j,!0),qt(this,ct,ls).call(this,At)}moveInDOM(){var At;(At=this.parent)==null||At.moveEditorInDOM(this)}_setParentAndPosition(At,Mt,Rt){At.changeParent(this),this.x=Mt,this.y=Rt,this.fixAndSetPosition()}getRect(At,Mt){const Rt=this.parentScale,[Et,yt]=this.pageDimensions,[vt,St]=this.pageTranslation,jt=At/Rt,Ft=Mt/Rt,Lt=this.x*Et,$t=this.y*yt,Gt=this.width*Et,Yt=this.height*yt;switch(this.rotation){case 0:return[Lt+jt+vt,yt-$t-Ft-Yt+St,Lt+jt+Gt+vt,yt-$t-Ft+St];case 90:return[Lt+Ft+vt,yt-$t+jt+St,Lt+Ft+Yt+vt,yt-$t+jt+Gt+St];case 180:return[Lt-jt-Gt+vt,yt-$t+Ft+St,Lt-jt+vt,yt-$t+Ft+Yt+St];case 270:return[Lt-Ft-Yt+vt,yt-$t-jt-Gt+St,Lt-Ft+vt,yt-$t-jt+St];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(At,Mt){const[Rt,Et,yt,vt]=At,St=yt-Rt,jt=vt-Et;switch(this.rotation){case 0:return[Rt,Mt-vt,St,jt];case 90:return[Rt,Mt-Et,jt,St];case 180:return[yt,Mt-Et,St,jt];case 270:return[yt,Mt-vt,jt,St];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){rn(this,ot,!0)}disableEditMode(){rn(this,ot,!1)}isInEditMode(){return gt(this,ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var At,Mt;(At=this.div)==null||At.addEventListener("focusin",gt(this,nt)),(Mt=this.div)==null||Mt.addEventListener("focusout",gt(this,it))}serialize(At=!1,Mt=null){(0,a.unreachable)("An editor must be serializable")}static deserialize(At,Mt,Rt){const Et=new this.prototype.constructor({parent:Mt,id:Mt.getNextId(),uiManager:Rt});Et.rotation=At.rotation;const[yt,vt]=Et.pageDimensions,[St,jt,Ft,Lt]=Et.getRectInCurrentCoords(At.rect,vt);return Et.x=St/yt,Et.y=jt/vt,Et.width=Ft/yt,Et.height=Lt/vt,Et}remove(){var At;this.div.removeEventListener("focusin",gt(this,nt)),this.div.removeEventListener("focusout",gt(this,it)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(At=gt(this,_))==null||At.remove(),rn(this,_,null),rn(this,$,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(qt(this,ct,ss).call(this),gt(this,st).classList.remove("hidden"))}select(){var At;this.makeResizable(),(At=this.div)==null||At.classList.add("selectedEditor")}unselect(){var At,Mt,Rt;(At=gt(this,st))==null||At.classList.add("hidden"),(Mt=this.div)==null||Mt.classList.remove("selectedEditor"),(Rt=this.div)!=null&&Rt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(At,Mt){}disableEditing(){gt(this,_)&&(gt(this,_).hidden=!0)}enableEditing(){gt(this,_)&&(gt(this,_).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return gt(this,tt)}set isEditing(At){rn(this,tt,At),this.parent&&(At?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(At,Mt){rn(this,_e,!0);const Rt=At/Mt,{style:Et}=this.div;Et.aspectRatio=Rt,Et.height="auto"}static get MIN_SIZE(){return 16}};g=new WeakMap,b=new WeakMap,_=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,st=new WeakMap,nt=new WeakMap,it=new WeakMap,j=new WeakMap,tt=new WeakMap,ot=new WeakMap,lt=new WeakMap,rt=new WeakMap,ct=new WeakSet,wr=function([At,Mt],Rt,Et){[Rt,Et]=this.screenToPageTranslation(Rt,Et),this.x+=Rt/At,this.y+=Et/Mt,this.fixAndSetPosition()},Sr=function(){const[At,Mt]=this.parentDimensions,{_borderLineWidth:Rt}=Tt,Et=Rt/At,yt=Rt/Mt;switch(this.rotation){case 90:return[-Et,yt];case 180:return[Et,yt];case 270:return[Et,-yt];default:return[-Et,-yt]}},ft=new WeakSet,_r=function(At,Mt,Rt){switch(Rt){case 90:return[Mt,-At];case 180:return[-At,-Mt];case 270:return[-Mt,At];default:return[At,Mt]}},Ar=function(At){switch(At){case 90:{const[Mt,Rt]=this.pageDimensions;return[0,-Mt/Rt,Rt/Mt,0]}case 180:return[-1,0,0,-1];case 270:{const[Mt,Rt]=this.pageDimensions;return[0,Mt/Rt,-Rt/Mt,0]}default:return[1,0,0,1]}},ss=function(){if(gt(this,st))return;rn(this,st,document.createElement("div")),gt(this,st).classList.add("resizers");const At=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||At.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Mt of At){const Rt=document.createElement("div");gt(this,st).append(Rt),Rt.classList.add("resizer",Mt),Rt.addEventListener("pointerdown",qt(this,ct,os).bind(this,Mt)),Rt.addEventListener("contextmenu",c.noContextMenu)}this.div.prepend(gt(this,st))},os=function(At,Mt){Mt.preventDefault();const{isMac:Rt}=a.FeatureTest.platform;if(Mt.button!==0||Mt.ctrlKey&&Rt)return;const Et=qt(this,ct,as).bind(this,At),yt=this._isDraggable;this._isDraggable=!1;const vt={passive:!0,capture:!0};window.addEventListener("pointermove",Et,vt);const St=this.x,jt=this.y,Ft=this.width,Lt=this.height,$t=this.parent.div.style.cursor,Gt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Mt.target).cursor;const Yt=()=>{this._isDraggable=yt,window.removeEventListener("pointerup",Yt),window.removeEventListener("blur",Yt),window.removeEventListener("pointermove",Et,vt),this.parent.div.style.cursor=$t,this.div.style.cursor=Gt;const Jt=this.x,an=this.y,ht=this.width,Wt=this.height;Jt===St&&an===jt&&ht===Ft&&Wt===Lt||this.addCommands({cmd:()=>{this.width=ht,this.height=Wt,this.x=Jt,this.y=an;const[kt,wt]=this.parentDimensions;this.setDims(kt*ht,wt*Wt),this.fixAndSetPosition()},undo:()=>{this.width=Ft,this.height=Lt,this.x=St,this.y=jt;const[kt,wt]=this.parentDimensions;this.setDims(kt*Ft,wt*Lt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Yt),window.addEventListener("blur",Yt)},as=function(At,Mt){const[Rt,Et]=this.parentDimensions,yt=this.x,vt=this.y,St=this.width,jt=this.height,Ft=Tt.MIN_SIZE/Rt,Lt=Tt.MIN_SIZE/Et,$t=gn=>Math.round(gn*1e4)/1e4,Gt=qt(this,ct,Ar).call(this,this.rotation),Yt=(gn,En)=>[Gt[0]*gn+Gt[2]*En,Gt[1]*gn+Gt[3]*En],Jt=qt(this,ct,Ar).call(this,360-this.rotation),an=(gn,En)=>[Jt[0]*gn+Jt[2]*En,Jt[1]*gn+Jt[3]*En];let ht,Wt,kt=!1,wt=!1;switch(At){case"topLeft":kt=!0,ht=(gn,En)=>[0,0],Wt=(gn,En)=>[gn,En];break;case"topMiddle":ht=(gn,En)=>[gn/2,0],Wt=(gn,En)=>[gn/2,En];break;case"topRight":kt=!0,ht=(gn,En)=>[gn,0],Wt=(gn,En)=>[0,En];break;case"middleRight":wt=!0,ht=(gn,En)=>[gn,En/2],Wt=(gn,En)=>[0,En/2];break;case"bottomRight":kt=!0,ht=(gn,En)=>[gn,En],Wt=(gn,En)=>[0,0];break;case"bottomMiddle":ht=(gn,En)=>[gn/2,En],Wt=(gn,En)=>[gn/2,0];break;case"bottomLeft":kt=!0,ht=(gn,En)=>[0,En],Wt=(gn,En)=>[gn,0];break;case"middleLeft":wt=!0,ht=(gn,En)=>[0,En/2],Wt=(gn,En)=>[gn,En/2];break}const dt=ht(St,jt),bt=Wt(St,jt);let Dt=Yt(...bt);const Bt=$t(yt+Dt[0]),It=$t(vt+Dt[1]);let Kt=1,Zt=1,[Vt,sn]=this.screenToPageTranslation(Mt.movementX,Mt.movementY);if([Vt,sn]=an(Vt/Rt,sn/Et),kt){const gn=Math.hypot(St,jt);Kt=Zt=Math.max(Math.min(Math.hypot(bt[0]-dt[0]-Vt,bt[1]-dt[1]-sn)/gn,1/St,1/jt),Ft/St,Lt/jt)}else wt?Kt=Math.max(Ft,Math.min(1,Math.abs(bt[0]-dt[0]-Vt)))/St:Zt=Math.max(Lt,Math.min(1,Math.abs(bt[1]-dt[1]-sn)))/jt;const un=$t(St*Kt),yn=$t(jt*Zt);Dt=Yt(...Wt(un,yn));const Sn=Bt-Dt[0],Dn=It-Dt[1];this.width=un,this.height=yn,this.x=Sn,this.y=Dn,this.setDims(Rt*un,Et*yn),this.fixAndSetPosition()},Cr=async function(){var Rt;const At=gt(this,_);if(!At)return;if(!gt(this,g)&&!gt(this,b)){At.classList.remove("done"),(Rt=gt(this,$))==null||Rt.remove();return}Tt._l10nPromise.get("editor_alt_text_edit_button_label").then(Et=>{At.setAttribute("aria-label",Et)});let Mt=gt(this,$);if(!Mt){rn(this,$,Mt=document.createElement("span")),Mt.className="tooltip",Mt.setAttribute("role","tooltip");const Et=Mt.id=`alt-text-tooltip-${this.id}`;At.setAttribute("aria-describedby",Et);const yt=100;At.addEventListener("mouseenter",()=>{rn(this,et,setTimeout(()=>{rn(this,et,null),gt(this,$).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},yt))}),At.addEventListener("mouseleave",()=>{var vt;clearTimeout(gt(this,et)),rn(this,et,null),(vt=gt(this,$))==null||vt.classList.remove("show")})}At.classList.add("done"),Mt.innerText=gt(this,b)?await Tt._l10nPromise.get("editor_alt_text_decorative_tooltip"):gt(this,g),Mt.parentNode||At.append(Mt)},ls=function(At){if(!this._isDraggable)return;const Mt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Rt,Et;Mt&&(Rt={passive:!0,capture:!0},Et=vt=>{const[St,jt]=this.screenToPageTranslation(vt.movementX,vt.movementY);this._uiManager.dragSelectedEditors(St,jt)},window.addEventListener("pointermove",Et,Rt));const yt=()=>{if(window.removeEventListener("pointerup",yt),window.removeEventListener("blur",yt),Mt&&window.removeEventListener("pointermove",Et,Rt),rn(this,j,!1),!this._uiManager.endDragSession()){const{isMac:vt}=a.FeatureTest.platform;At.ctrlKey&&!vt||At.shiftKey||At.metaKey&&vt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",yt),window.addEventListener("blur",yt)},tn(Tt,ft),On(Tt,"_borderLineWidth",-1),On(Tt,"_colorManager",new o.ColorManager),On(Tt,"_zIndex",1),On(Tt,"SMALL_EDITOR_SIZE",0);let d=Tt;s.AnnotationEditor=d;class h extends d{constructor(At){super(At),this.annotationElementId=At.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,s,i)=>{var _e,st,nt,it,j,kr,lt,rt,ct,at,ut,cs,xt,pt,_t,mt,Pt,Ut,Tt,Ot,At,Mt,Rt,Et,yt,vt,St,jt,Ft,Lt,$t,Gt,Yt,Jt,an,ht,Wt,kt,wt,dt,bt,Dt,Bt,It,Kt,Zt,Vt,us,Tr,Rr,lr,Pr,Dr,Vn,Jn,ds,hs,jr,er,Mr;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=c,s.opacityToHex=d;var o=i(1),a=i(6);function c(jn,Ht,on){for(const pn of on)Ht.addEventListener(pn,jn[pn].bind(jn))}function d(jn){return Math.round(Math.min(255,Math.max(1,255*jn))).toString(16).padStart(2,"0")}class h{constructor(){tn(this,_e,0)}getId(){return`${o.AnnotationEditorPrefix}${Qn(this,_e)._++}`}}_e=new WeakMap;const ot=class ot{constructor(){tn(this,j);tn(this,st,(0,o.getUuid)());tn(this,nt,0);tn(this,it,null)}static get _isSVGFittingCanvas(){const Ht='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',pn=new OffscreenCanvas(1,3).getContext("2d"),xn=new Image;xn.src=Ht;const An=xn.decode().then(()=>(pn.drawImage(xn,0,0,1,1,0,0,1,3),new Uint32Array(pn.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",An)}async getFromFile(Ht){const{lastModified:on,name:pn,size:xn,type:An}=Ht;return qt(this,j,kr).call(this,`${on}_${pn}_${xn}_${An}`,Ht)}async getFromUrl(Ht){return qt(this,j,kr).call(this,Ht,Ht)}async getFromId(Ht){gt(this,it)||rn(this,it,new Map);const on=gt(this,it).get(Ht);return on?on.bitmap?(on.refCounter+=1,on):on.file?this.getFromFile(on.file):this.getFromUrl(on.url):null}getSvgUrl(Ht){const on=gt(this,it).get(Ht);return on!=null&&on.isSvg?on.svgUrl:null}deleteId(Ht){gt(this,it)||rn(this,it,new Map);const on=gt(this,it).get(Ht);on&&(on.refCounter-=1,on.refCounter===0&&(on.bitmap=null))}isValidId(Ht){return Ht.startsWith(`image_${gt(this,st)}_`)}};st=new WeakMap,nt=new WeakMap,it=new WeakMap,j=new WeakSet,kr=async function(Ht,on){gt(this,it)||rn(this,it,new Map);let pn=gt(this,it).get(Ht);if(pn===null)return null;if(pn!=null&&pn.bitmap)return pn.refCounter+=1,pn;try{pn||(pn={bitmap:null,id:`image_${gt(this,st)}_${Qn(this,nt)._++}`,refCounter:0,isSvg:!1});let xn;if(typeof on=="string"){pn.url=on;const An=await fetch(on);if(!An.ok)throw new Error(An.statusText);xn=await An.blob()}else xn=pn.file=on;if(xn.type==="image/svg+xml"){const An=ot._isSVGFittingCanvas,vn=new FileReader,zt=new Image,Nt=new Promise((Xt,en)=>{zt.onload=()=>{pn.bitmap=zt,pn.isSvg=!0,Xt()},vn.onload=async()=>{const ln=pn.svgUrl=vn.result;zt.src=await An?`${ln}#svgView(preserveAspectRatio(none))`:ln},zt.onerror=vn.onerror=en});vn.readAsDataURL(xn),await Nt}else pn.bitmap=await createImageBitmap(xn);pn.refCounter=1}catch(xn){console.error(xn),pn=null}return gt(this,it).set(Ht,pn),pn&&gt(this,it).set(pn.id,pn),pn};let g=ot;class b{constructor(Ht=128){tn(this,lt,[]);tn(this,rt,!1);tn(this,ct);tn(this,at,-1);rn(this,ct,Ht)}add({cmd:Ht,undo:on,mustExec:pn,type:xn=NaN,overwriteIfSameType:An=!1,keepUndo:vn=!1}){if(pn&&Ht(),gt(this,rt))return;const zt={cmd:Ht,undo:on,type:xn};if(gt(this,at)===-1){gt(this,lt).length>0&&(gt(this,lt).length=0),rn(this,at,0),gt(this,lt).push(zt);return}if(An&&gt(this,lt)[gt(this,at)].type===xn){vn&&(zt.undo=gt(this,lt)[gt(this,at)].undo),gt(this,lt)[gt(this,at)]=zt;return}const Nt=gt(this,at)+1;Nt===gt(this,ct)?gt(this,lt).splice(0,1):(rn(this,at,Nt),Nt<gt(this,lt).length&&gt(this,lt).splice(Nt)),gt(this,lt).push(zt)}undo(){gt(this,at)!==-1&&(rn(this,rt,!0),gt(this,lt)[gt(this,at)].undo(),rn(this,rt,!1),rn(this,at,gt(this,at)-1))}redo(){gt(this,at)<gt(this,lt).length-1&&(rn(this,at,gt(this,at)+1),rn(this,rt,!0),gt(this,lt)[gt(this,at)].cmd(),rn(this,rt,!1))}hasSomethingToUndo(){return gt(this,at)!==-1}hasSomethingToRedo(){return gt(this,at)<gt(this,lt).length-1}destroy(){rn(this,lt,null)}}lt=new WeakMap,rt=new WeakMap,ct=new WeakMap,at=new WeakMap,s.CommandManager=b;class _{constructor(Ht){tn(this,ut);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:on}=o.FeatureTest.platform;for(const[pn,xn,An={}]of Ht)for(const vn of pn){const zt=vn.startsWith("mac+");on&&zt?(this.callbacks.set(vn.slice(4),{callback:xn,options:An}),this.allKeys.add(vn.split("+").at(-1))):!on&&!zt&&(this.callbacks.set(vn,{callback:xn,options:An}),this.allKeys.add(vn.split("+").at(-1)))}}exec(Ht,on){if(!this.allKeys.has(on.key))return;const pn=this.callbacks.get(qt(this,ut,cs).call(this,on));if(!pn)return;const{callback:xn,options:{bubbles:An=!1,args:vn=[],checker:zt=null}}=pn;zt&&!zt(Ht,on)||(xn.bind(Ht,...vn)(),An||(on.stopPropagation(),on.preventDefault()))}}ut=new WeakSet,cs=function(Ht){Ht.altKey&&this.buffer.push("alt"),Ht.ctrlKey&&this.buffer.push("ctrl"),Ht.metaKey&&this.buffer.push("meta"),Ht.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ht.key);const on=this.buffer.join("+");return this.buffer.length=0,on},s.KeyboardManager=_;const Ct=class Ct{get _colors(){const Ht=new Map([["CanvasText",null],["Canvas",null]]);return(0,a.getColorValues)(Ht),(0,o.shadow)(this,"_colors",Ht)}convert(Ht){const on=(0,a.getRGB)(Ht);if(!window.matchMedia("(forced-colors: active)").matches)return on;for(const[pn,xn]of this._colors)if(xn.every((An,vn)=>An===on[vn]))return Ct._colorsMapping.get(pn);return on}getHexCode(Ht){const on=this._colors.get(Ht);return on?o.Util.makeHexColor(...on):Ht}};On(Ct,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let $=Ct;s.ColorManager=$;const Ln=class Ln{constructor(Ht,on,pn,xn,An,vn){tn(this,Vt);tn(this,xt,null);tn(this,pt,new Map);tn(this,_t,new Map);tn(this,mt,null);tn(this,Pt,null);tn(this,Ut,new b);tn(this,Tt,0);tn(this,Ot,new Set);tn(this,At,null);tn(this,Mt,null);tn(this,Rt,new Set);tn(this,Et,null);tn(this,yt,new h);tn(this,vt,!1);tn(this,St,!1);tn(this,jt,null);tn(this,Ft,o.AnnotationEditorType.NONE);tn(this,Lt,new Set);tn(this,$t,null);tn(this,Gt,this.blur.bind(this));tn(this,Yt,this.focus.bind(this));tn(this,Jt,this.copy.bind(this));tn(this,an,this.cut.bind(this));tn(this,ht,this.paste.bind(this));tn(this,Wt,this.keydown.bind(this));tn(this,kt,this.onEditingAction.bind(this));tn(this,wt,this.onPageChanging.bind(this));tn(this,dt,this.onScaleChanging.bind(this));tn(this,bt,this.onRotationChanging.bind(this));tn(this,Dt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});tn(this,Bt,[0,0]);tn(this,It,null);tn(this,Kt,null);tn(this,Zt,null);rn(this,Kt,Ht),rn(this,Zt,on),rn(this,mt,pn),this._eventBus=xn,this._eventBus._on("editingaction",gt(this,kt)),this._eventBus._on("pagechanging",gt(this,wt)),this._eventBus._on("scalechanging",gt(this,dt)),this._eventBus._on("rotationchanging",gt(this,bt)),rn(this,Pt,An.annotationStorage),rn(this,Et,An.filterFactory),rn(this,$t,vn),this.viewParameters={realScale:a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Ht=Ln.prototype,on=An=>{const{activeElement:vn}=document;return vn&&gt(An,Kt).contains(vn)&&An.hasSomethingToControl()},pn=this.TRANSLATE_SMALL,xn=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new _([[["ctrl+a","mac+meta+a"],Ht.selectAll],[["ctrl+z","mac+meta+z"],Ht.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Ht.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Ht.delete],[["Escape","mac+Escape"],Ht.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Ht.translateSelectedEditors,{args:[-pn,0],checker:on}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ht.translateSelectedEditors,{args:[-xn,0],checker:on}],[["ArrowRight","mac+ArrowRight"],Ht.translateSelectedEditors,{args:[pn,0],checker:on}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ht.translateSelectedEditors,{args:[xn,0],checker:on}],[["ArrowUp","mac+ArrowUp"],Ht.translateSelectedEditors,{args:[0,-pn],checker:on}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ht.translateSelectedEditors,{args:[0,-xn],checker:on}],[["ArrowDown","mac+ArrowDown"],Ht.translateSelectedEditors,{args:[0,pn],checker:on}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ht.translateSelectedEditors,{args:[0,xn],checker:on}]]))}destroy(){qt(this,Vt,lr).call(this),qt(this,Vt,Tr).call(this),this._eventBus._off("editingaction",gt(this,kt)),this._eventBus._off("pagechanging",gt(this,wt)),this._eventBus._off("scalechanging",gt(this,dt)),this._eventBus._off("rotationchanging",gt(this,bt));for(const Ht of gt(this,_t).values())Ht.destroy();gt(this,_t).clear(),gt(this,pt).clear(),gt(this,Rt).clear(),rn(this,xt,null),gt(this,Lt).clear(),gt(this,Ut).destroy(),gt(this,mt).destroy()}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",gt(this,$t)?gt(this,Et).addHCMFilter(gt(this,$t).foreground,gt(this,$t).background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(gt(this,Kt)).direction)}editAltText(Ht){var on;(on=gt(this,mt))==null||on.editAltText(this,Ht)}onPageChanging({pageNumber:Ht}){rn(this,Tt,Ht-1)}focusMainContainer(){gt(this,Kt).focus()}findParent(Ht,on){for(const pn of gt(this,_t).values()){const{x:xn,y:An,width:vn,height:zt}=pn.div.getBoundingClientRect();if(Ht>=xn&&Ht<=xn+vn&&on>=An&&on<=An+zt)return pn}return null}disableUserSelect(Ht=!1){gt(this,Zt).classList.toggle("noUserSelect",Ht)}addShouldRescale(Ht){gt(this,Rt).add(Ht)}removeShouldRescale(Ht){gt(this,Rt).delete(Ht)}onScaleChanging({scale:Ht}){this.commitOrRemove(),this.viewParameters.realScale=Ht*a.PixelsPerInch.PDF_TO_CSS_UNITS;for(const on of gt(this,Rt))on.onScaleChanging()}onRotationChanging({pagesRotation:Ht}){this.commitOrRemove(),this.viewParameters.rotation=Ht}addToAnnotationStorage(Ht){!Ht.isEmpty()&&gt(this,Pt)&&!gt(this,Pt).has(Ht.id)&&gt(this,Pt).setValue(Ht.id,Ht)}blur(){if(!this.hasSelection)return;const{activeElement:Ht}=document;for(const on of gt(this,Lt))if(on.div.contains(Ht)){rn(this,jt,[on,Ht]),on._focusEventsAllowed=!1;break}}focus(){if(!gt(this,jt))return;const[Ht,on]=gt(this,jt);rn(this,jt,null),on.addEventListener("focusin",()=>{Ht._focusEventsAllowed=!0},{once:!0}),on.focus()}addEditListeners(){qt(this,Vt,Rr).call(this),qt(this,Vt,Pr).call(this)}removeEditListeners(){qt(this,Vt,lr).call(this),qt(this,Vt,Dr).call(this)}copy(Ht){var pn;if(Ht.preventDefault(),(pn=gt(this,xt))==null||pn.commitOrRemove(),!this.hasSelection)return;const on=[];for(const xn of gt(this,Lt)){const An=xn.serialize(!0);An&&on.push(An)}on.length!==0&&Ht.clipboardData.setData("application/pdfjs",JSON.stringify(on))}cut(Ht){this.copy(Ht),this.delete()}paste(Ht){Ht.preventDefault();const{clipboardData:on}=Ht;for(const An of on.items)for(const vn of gt(this,Mt))if(vn.isHandlingMimeForPasting(An.type)){vn.paste(An,this.currentLayer);return}let pn=on.getData("application/pdfjs");if(!pn)return;try{pn=JSON.parse(pn)}catch(An){(0,o.warn)(`paste: "${An.message}".`);return}if(!Array.isArray(pn))return;this.unselectAll();const xn=this.currentLayer;try{const An=[];for(const Nt of pn){const Xt=xn.deserialize(Nt);if(!Xt)return;An.push(Xt)}const vn=()=>{for(const Nt of An)qt(this,Vt,jr).call(this,Nt);qt(this,Vt,Mr).call(this,An)},zt=()=>{for(const Nt of An)Nt.remove()};this.addCommands({cmd:vn,undo:zt,mustExec:!0})}catch(An){(0,o.warn)(`paste: "${An.message}".`)}}keydown(Ht){var on;(on=this.getActive())!=null&&on.shouldGetKeyboardEvents()||Ln._keyboardManager.exec(this,Ht)}onEditingAction(Ht){["undo","redo","delete","selectAll"].includes(Ht.name)&&this[Ht.name]()}setEditingState(Ht){Ht?(qt(this,Vt,us).call(this),qt(this,Vt,Rr).call(this),qt(this,Vt,Pr).call(this),qt(this,Vt,Vn).call(this,{isEditing:gt(this,Ft)!==o.AnnotationEditorType.NONE,isEmpty:qt(this,Vt,er).call(this),hasSomethingToUndo:gt(this,Ut).hasSomethingToUndo(),hasSomethingToRedo:gt(this,Ut).hasSomethingToRedo(),hasSelectedEditor:!1})):(qt(this,Vt,Tr).call(this),qt(this,Vt,lr).call(this),qt(this,Vt,Dr).call(this),qt(this,Vt,Vn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Ht){if(!gt(this,Mt)){rn(this,Mt,Ht);for(const on of gt(this,Mt))qt(this,Vt,Jn).call(this,on.defaultPropertiesToUpdate)}}getId(){return gt(this,yt).getId()}get currentLayer(){return gt(this,_t).get(gt(this,Tt))}getLayer(Ht){return gt(this,_t).get(Ht)}get currentPageIndex(){return gt(this,Tt)}addLayer(Ht){gt(this,_t).set(Ht.pageIndex,Ht),gt(this,vt)?Ht.enable():Ht.disable()}removeLayer(Ht){gt(this,_t).delete(Ht.pageIndex)}updateMode(Ht,on=null){if(gt(this,Ft)!==Ht){if(rn(this,Ft,Ht),Ht===o.AnnotationEditorType.NONE){this.setEditingState(!1),qt(this,Vt,hs).call(this);return}this.setEditingState(!0),qt(this,Vt,ds).call(this),this.unselectAll();for(const pn of gt(this,_t).values())pn.updateMode(Ht);if(on){for(const pn of gt(this,pt).values())if(pn.annotationElementId===on){this.setSelected(pn),pn.enterInEditMode();break}}}}updateToolbar(Ht){Ht!==gt(this,Ft)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Ht})}updateParams(Ht,on){if(gt(this,Mt)){if(Ht===o.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Ht);return}for(const pn of gt(this,Lt))pn.updateParams(Ht,on);for(const pn of gt(this,Mt))pn.updateDefaultParams(Ht,on)}}enableWaiting(Ht=!1){if(gt(this,St)!==Ht){rn(this,St,Ht);for(const on of gt(this,_t).values())Ht?on.disableClick():on.enableClick(),on.div.classList.toggle("waiting",Ht)}}getEditors(Ht){const on=[];for(const pn of gt(this,pt).values())pn.pageIndex===Ht&&on.push(pn);return on}getEditor(Ht){return gt(this,pt).get(Ht)}addEditor(Ht){gt(this,pt).set(Ht.id,Ht)}removeEditor(Ht){var on;gt(this,pt).delete(Ht.id),this.unselect(Ht),(!Ht.annotationElementId||!gt(this,Ot).has(Ht.annotationElementId))&&((on=gt(this,Pt))==null||on.remove(Ht.id))}addDeletedAnnotationElement(Ht){gt(this,Ot).add(Ht.annotationElementId),Ht.deleted=!0}isDeletedAnnotationElement(Ht){return gt(this,Ot).has(Ht)}removeDeletedAnnotationElement(Ht){gt(this,Ot).delete(Ht.annotationElementId),Ht.deleted=!1}setActiveEditor(Ht){gt(this,xt)!==Ht&&(rn(this,xt,Ht),Ht&&qt(this,Vt,Jn).call(this,Ht.propertiesToUpdate))}toggleSelected(Ht){if(gt(this,Lt).has(Ht)){gt(this,Lt).delete(Ht),Ht.unselect(),qt(this,Vt,Vn).call(this,{hasSelectedEditor:this.hasSelection});return}gt(this,Lt).add(Ht),Ht.select(),qt(this,Vt,Jn).call(this,Ht.propertiesToUpdate),qt(this,Vt,Vn).call(this,{hasSelectedEditor:!0})}setSelected(Ht){for(const on of gt(this,Lt))on!==Ht&&on.unselect();gt(this,Lt).clear(),gt(this,Lt).add(Ht),Ht.select(),qt(this,Vt,Jn).call(this,Ht.propertiesToUpdate),qt(this,Vt,Vn).call(this,{hasSelectedEditor:!0})}isSelected(Ht){return gt(this,Lt).has(Ht)}unselect(Ht){Ht.unselect(),gt(this,Lt).delete(Ht),qt(this,Vt,Vn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return gt(this,Lt).size!==0}undo(){gt(this,Ut).undo(),qt(this,Vt,Vn).call(this,{hasSomethingToUndo:gt(this,Ut).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:qt(this,Vt,er).call(this)})}redo(){gt(this,Ut).redo(),qt(this,Vt,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:gt(this,Ut).hasSomethingToRedo(),isEmpty:qt(this,Vt,er).call(this)})}addCommands(Ht){gt(this,Ut).add(Ht),qt(this,Vt,Vn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:qt(this,Vt,er).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ht=[...gt(this,Lt)],on=()=>{for(const xn of Ht)xn.remove()},pn=()=>{for(const xn of Ht)qt(this,Vt,jr).call(this,xn)};this.addCommands({cmd:on,undo:pn,mustExec:!0})}commitOrRemove(){var Ht;(Ht=gt(this,xt))==null||Ht.commitOrRemove()}hasSomethingToControl(){return gt(this,xt)||this.hasSelection}selectAll(){for(const Ht of gt(this,Lt))Ht.commit();qt(this,Vt,Mr).call(this,gt(this,pt).values())}unselectAll(){if(gt(this,xt)){gt(this,xt).commitOrRemove();return}if(this.hasSelection){for(const Ht of gt(this,Lt))Ht.unselect();gt(this,Lt).clear(),qt(this,Vt,Vn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Ht,on,pn=!1){if(pn||this.commitOrRemove(),!this.hasSelection)return;gt(this,Bt)[0]+=Ht,gt(this,Bt)[1]+=on;const[xn,An]=gt(this,Bt),vn=[...gt(this,Lt)],zt=1e3;gt(this,It)&&clearTimeout(gt(this,It)),rn(this,It,setTimeout(()=>{rn(this,It,null),gt(this,Bt)[0]=gt(this,Bt)[1]=0,this.addCommands({cmd:()=>{for(const Nt of vn)gt(this,pt).has(Nt.id)&&Nt.translateInPage(xn,An)},undo:()=>{for(const Nt of vn)gt(this,pt).has(Nt.id)&&Nt.translateInPage(-xn,-An)},mustExec:!1})},zt));for(const Nt of vn)Nt.translateInPage(Ht,on)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),rn(this,At,new Map);for(const Ht of gt(this,Lt))gt(this,At).set(Ht,{savedX:Ht.x,savedY:Ht.y,savedPageIndex:Ht.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!gt(this,At))return!1;this.disableUserSelect(!1);const Ht=gt(this,At);rn(this,At,null);let on=!1;for(const[{x:xn,y:An,pageIndex:vn},zt]of Ht)zt.newX=xn,zt.newY=An,zt.newPageIndex=vn,on||(on=xn!==zt.savedX||An!==zt.savedY||vn!==zt.savedPageIndex);if(!on)return!1;const pn=(xn,An,vn,zt)=>{if(gt(this,pt).has(xn.id)){const Nt=gt(this,_t).get(zt);Nt?xn._setParentAndPosition(Nt,An,vn):(xn.pageIndex=zt,xn.x=An,xn.y=vn)}};return this.addCommands({cmd:()=>{for(const[xn,{newX:An,newY:vn,newPageIndex:zt}]of Ht)pn(xn,An,vn,zt)},undo:()=>{for(const[xn,{savedX:An,savedY:vn,savedPageIndex:zt}]of Ht)pn(xn,An,vn,zt)},mustExec:!0}),!0}dragSelectedEditors(Ht,on){if(gt(this,At))for(const pn of gt(this,At).keys())pn.drag(Ht,on)}rebuild(Ht){if(Ht.parent===null){const on=this.getLayer(Ht.pageIndex);on?(on.changeParent(Ht),on.addOrRebuild(Ht)):(this.addEditor(Ht),this.addToAnnotationStorage(Ht),Ht.rebuild())}else Ht.parent.addOrRebuild(Ht)}isActive(Ht){return gt(this,xt)===Ht}getActive(){return gt(this,xt)}getMode(){return gt(this,Ft)}get imageManager(){return(0,o.shadow)(this,"imageManager",new g)}};xt=new WeakMap,pt=new WeakMap,_t=new WeakMap,mt=new WeakMap,Pt=new WeakMap,Ut=new WeakMap,Tt=new WeakMap,Ot=new WeakMap,At=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,Et=new WeakMap,yt=new WeakMap,vt=new WeakMap,St=new WeakMap,jt=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,$t=new WeakMap,Gt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,an=new WeakMap,ht=new WeakMap,Wt=new WeakMap,kt=new WeakMap,wt=new WeakMap,dt=new WeakMap,bt=new WeakMap,Dt=new WeakMap,Bt=new WeakMap,It=new WeakMap,Kt=new WeakMap,Zt=new WeakMap,Vt=new WeakSet,us=function(){window.addEventListener("focus",gt(this,Yt)),window.addEventListener("blur",gt(this,Gt))},Tr=function(){window.removeEventListener("focus",gt(this,Yt)),window.removeEventListener("blur",gt(this,Gt))},Rr=function(){window.addEventListener("keydown",gt(this,Wt),{capture:!0})},lr=function(){window.removeEventListener("keydown",gt(this,Wt),{capture:!0})},Pr=function(){document.addEventListener("copy",gt(this,Jt)),document.addEventListener("cut",gt(this,an)),document.addEventListener("paste",gt(this,ht))},Dr=function(){document.removeEventListener("copy",gt(this,Jt)),document.removeEventListener("cut",gt(this,an)),document.removeEventListener("paste",gt(this,ht))},Vn=function(Ht){Object.entries(Ht).some(([pn,xn])=>gt(this,Dt)[pn]!==xn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(gt(this,Dt),Ht)})},Jn=function(Ht){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Ht})},ds=function(){if(!gt(this,vt)){rn(this,vt,!0);for(const Ht of gt(this,_t).values())Ht.enable()}},hs=function(){if(this.unselectAll(),gt(this,vt)){rn(this,vt,!1);for(const Ht of gt(this,_t).values())Ht.disable()}},jr=function(Ht){const on=gt(this,_t).get(Ht.pageIndex);on?on.addOrRebuild(Ht):this.addEditor(Ht)},er=function(){if(gt(this,pt).size===0)return!0;if(gt(this,pt).size===1)for(const Ht of gt(this,pt).values())return Ht.isEmpty();return!1},Mr=function(Ht){gt(this,Lt).clear();for(const on of Ht)on.isEmpty()||(gt(this,Lt).add(on),on.select());qt(this,Vt,Vn).call(this,{hasSelectedEditor:!0})},On(Ln,"TRANSLATE_SMALL",1),On(Ln,"TRANSLATE_BIG",10);let et=Ln;s.AnnotationEditorUIManager=et},(e,s,i)=>{var Tt,Ot,At,Mt,Rt,Et,yt,vt,St,jt,Ft,Lt,Xn,qn,Lr,cr,ur,tr,nr;Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMFilterFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=void 0,s.deprecated=at,s.getColorValues=pt,s.getCurrentTransform=_t,s.getCurrentTransformInverse=mt,s.getFilenameFromUrl=j,s.getPdfFilenameFromUrl=tt,s.getRGB=xt,s.getXfaPageViewport=Ct,s.isDataScheme=nt,s.isPdfFile=it,s.isValidFetchUrl=lt,s.loadScript=ct,s.noContextMenu=rt,s.setLayerDimensions=Pt;var o=i(7),a=i(1);const c="http://www.w3.org/2000/svg",Ut=class Ut{};On(Ut,"CSS",96),On(Ut,"PDF",72),On(Ut,"PDF_TO_CSS_UNITS",Ut.CSS/Ut.PDF);let d=Ut;s.PixelsPerInch=d;class h extends o.BaseFilterFactory{constructor({docId:dt,ownerDocument:bt=globalThis.document}={}){super();tn(this,Lt);tn(this,Tt);tn(this,Ot);tn(this,At);tn(this,Mt);tn(this,Rt);tn(this,Et);tn(this,yt);tn(this,vt);tn(this,St);tn(this,jt);tn(this,Ft,0);rn(this,At,dt),rn(this,Mt,bt)}addFilter(dt){if(!dt)return"none";let bt=gt(this,Lt,Xn).get(dt);if(bt)return bt;let Dt,Bt,It,Kt;if(dt.length===1){const un=dt[0],yn=new Array(256);for(let Sn=0;Sn<256;Sn++)yn[Sn]=un[Sn]/255;Kt=Dt=Bt=It=yn.join(",")}else{const[un,yn,Sn]=dt,Dn=new Array(256),gn=new Array(256),En=new Array(256);for(let kn=0;kn<256;kn++)Dn[kn]=un[kn]/255,gn[kn]=yn[kn]/255,En[kn]=Sn[kn]/255;Dt=Dn.join(","),Bt=gn.join(","),It=En.join(","),Kt=`${Dt}${Bt}${It}`}if(bt=gt(this,Lt,Xn).get(Kt),bt)return gt(this,Lt,Xn).set(dt,bt),bt;const Zt=`g_${gt(this,At)}_transfer_map_${Qn(this,Ft)._++}`,Vt=`url(#${Zt})`;gt(this,Lt,Xn).set(dt,Vt),gt(this,Lt,Xn).set(Kt,Vt);const sn=qt(this,Lt,cr).call(this,Zt);return qt(this,Lt,tr).call(this,Dt,Bt,It,sn),Vt}addHCMFilter(dt,bt){var yn;const Dt=`${dt}-${bt}`;if(gt(this,Et)===Dt)return gt(this,yt);if(rn(this,Et,Dt),rn(this,yt,"none"),(yn=gt(this,Rt))==null||yn.remove(),!dt||!bt)return gt(this,yt);const Bt=qt(this,Lt,nr).call(this,dt);dt=a.Util.makeHexColor(...Bt);const It=qt(this,Lt,nr).call(this,bt);if(bt=a.Util.makeHexColor(...It),gt(this,Lt,qn).style.color="",dt==="#000000"&&bt==="#ffffff"||dt===bt)return gt(this,yt);const Kt=new Array(256);for(let Sn=0;Sn<=255;Sn++){const Dn=Sn/255;Kt[Sn]=Dn<=.03928?Dn/12.92:((Dn+.055)/1.055)**2.4}const Zt=Kt.join(","),Vt=`g_${gt(this,At)}_hcm_filter`,sn=rn(this,vt,qt(this,Lt,cr).call(this,Vt));qt(this,Lt,tr).call(this,Zt,Zt,Zt,sn),qt(this,Lt,Lr).call(this,sn);const un=(Sn,Dn)=>{const gn=Bt[Sn]/255,En=It[Sn]/255,kn=new Array(Dn+1);for(let Mn=0;Mn<=Dn;Mn++)kn[Mn]=gn+Mn/Dn*(En-gn);return kn.join(",")};return qt(this,Lt,tr).call(this,un(0,5),un(1,5),un(2,5),sn),rn(this,yt,`url(#${Vt})`),gt(this,yt)}addHighlightHCMFilter(dt,bt,Dt,Bt){var En;const It=`${dt}-${bt}-${Dt}-${Bt}`;if(gt(this,St)===It)return gt(this,jt);if(rn(this,St,It),rn(this,jt,"none"),(En=gt(this,vt))==null||En.remove(),!dt||!bt)return gt(this,jt);const[Kt,Zt]=[dt,bt].map(qt(this,Lt,nr).bind(this));let Vt=Math.round(.2126*Kt[0]+.7152*Kt[1]+.0722*Kt[2]),sn=Math.round(.2126*Zt[0]+.7152*Zt[1]+.0722*Zt[2]),[un,yn]=[Dt,Bt].map(qt(this,Lt,nr).bind(this));sn<Vt&&([Vt,sn,un,yn]=[sn,Vt,yn,un]),gt(this,Lt,qn).style.color="";const Sn=(kn,Mn,hn)=>{const Qt=new Array(256),nn=(sn-Vt)/hn,bn=kn/255,Ln=(Mn-kn)/(255*hn);let jn=0;for(let Ht=0;Ht<=hn;Ht++){const on=Math.round(Vt+Ht*nn),pn=bn+Ht*Ln;for(let xn=jn;xn<=on;xn++)Qt[xn]=pn;jn=on+1}for(let Ht=jn;Ht<256;Ht++)Qt[Ht]=Qt[jn-1];return Qt.join(",")},Dn=`g_${gt(this,At)}_hcm_highlight_filter`,gn=rn(this,vt,qt(this,Lt,cr).call(this,Dn));return qt(this,Lt,Lr).call(this,gn),qt(this,Lt,tr).call(this,Sn(un[0],yn[0],5),Sn(un[1],yn[1],5),Sn(un[2],yn[2],5),gn),rn(this,jt,`url(#${Dn})`),gt(this,jt)}destroy(dt=!1){dt&&(gt(this,yt)||gt(this,jt))||(gt(this,Ot)&&(gt(this,Ot).parentNode.parentNode.remove(),rn(this,Ot,null)),gt(this,Tt)&&(gt(this,Tt).clear(),rn(this,Tt,null)),rn(this,Ft,0))}}Tt=new WeakMap,Ot=new WeakMap,At=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,Et=new WeakMap,yt=new WeakMap,vt=new WeakMap,St=new WeakMap,jt=new WeakMap,Ft=new WeakMap,Lt=new WeakSet,Xn=function(){return gt(this,Tt)||rn(this,Tt,new Map)},qn=function(){if(!gt(this,Ot)){const dt=gt(this,Mt).createElement("div"),{style:bt}=dt;bt.visibility="hidden",bt.contain="strict",bt.width=bt.height=0,bt.position="absolute",bt.top=bt.left=0,bt.zIndex=-1;const Dt=gt(this,Mt).createElementNS(c,"svg");Dt.setAttribute("width",0),Dt.setAttribute("height",0),rn(this,Ot,gt(this,Mt).createElementNS(c,"defs")),dt.append(Dt),Dt.append(gt(this,Ot)),gt(this,Mt).body.append(dt)}return gt(this,Ot)},Lr=function(dt){const bt=gt(this,Mt).createElementNS(c,"feColorMatrix");bt.setAttribute("type","matrix"),bt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),dt.append(bt)},cr=function(dt){const bt=gt(this,Mt).createElementNS(c,"filter");return bt.setAttribute("color-interpolation-filters","sRGB"),bt.setAttribute("id",dt),gt(this,Lt,qn).append(bt),bt},ur=function(dt,bt,Dt){const Bt=gt(this,Mt).createElementNS(c,bt);Bt.setAttribute("type","discrete"),Bt.setAttribute("tableValues",Dt),dt.append(Bt)},tr=function(dt,bt,Dt,Bt){const It=gt(this,Mt).createElementNS(c,"feComponentTransfer");Bt.append(It),qt(this,Lt,ur).call(this,It,"feFuncR",dt),qt(this,Lt,ur).call(this,It,"feFuncG",bt),qt(this,Lt,ur).call(this,It,"feFuncB",Dt)},nr=function(dt){return gt(this,Lt,qn).style.color=dt,xt(getComputedStyle(gt(this,Lt,qn)).getPropertyValue("color"))},s.DOMFilterFactory=h;class g extends o.BaseCanvasFactory{constructor({ownerDocument:wt=globalThis.document}={}){super(),this._document=wt}_createCanvas(wt,dt){const bt=this._document.createElement("canvas");return bt.width=wt,bt.height=dt,bt}}s.DOMCanvasFactory=g;async function b(kt,wt=!1){if(lt(kt,document.baseURI)){const dt=await fetch(kt);if(!dt.ok)throw new Error(dt.statusText);return wt?new Uint8Array(await dt.arrayBuffer()):(0,a.stringToBytes)(await dt.text())}return new Promise((dt,bt)=>{const Dt=new XMLHttpRequest;Dt.open("GET",kt,!0),wt&&(Dt.responseType="arraybuffer"),Dt.onreadystatechange=()=>{if(Dt.readyState===XMLHttpRequest.DONE){if(Dt.status===200||Dt.status===0){let Bt;if(wt&&Dt.response?Bt=new Uint8Array(Dt.response):!wt&&Dt.responseText&&(Bt=(0,a.stringToBytes)(Dt.responseText)),Bt){dt(Bt);return}}bt(new Error(Dt.statusText))}},Dt.send(null)})}class _ extends o.BaseCMapReaderFactory{_fetchData(wt,dt){return b(wt,this.isCompressed).then(bt=>({cMapData:bt,compressionType:dt}))}}s.DOMCMapReaderFactory=_;class $ extends o.BaseStandardFontDataFactory{_fetchData(wt){return b(wt,!0)}}s.DOMStandardFontDataFactory=$;class et extends o.BaseSVGFactory{_createSVG(wt){return document.createElementNS(c,wt)}}s.DOMSVGFactory=et;class _e{constructor({viewBox:wt,scale:dt,rotation:bt,offsetX:Dt=0,offsetY:Bt=0,dontFlip:It=!1}){this.viewBox=wt,this.scale=dt,this.rotation=bt,this.offsetX=Dt,this.offsetY=Bt;const Kt=(wt[2]+wt[0])/2,Zt=(wt[3]+wt[1])/2;let Vt,sn,un,yn;switch(bt%=360,bt<0&&(bt+=360),bt){case 180:Vt=-1,sn=0,un=0,yn=1;break;case 90:Vt=0,sn=1,un=1,yn=0;break;case 270:Vt=0,sn=-1,un=-1,yn=0;break;case 0:Vt=1,sn=0,un=0,yn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}It&&(un=-un,yn=-yn);let Sn,Dn,gn,En;Vt===0?(Sn=Math.abs(Zt-wt[1])*dt+Dt,Dn=Math.abs(Kt-wt[0])*dt+Bt,gn=(wt[3]-wt[1])*dt,En=(wt[2]-wt[0])*dt):(Sn=Math.abs(Kt-wt[0])*dt+Dt,Dn=Math.abs(Zt-wt[1])*dt+Bt,gn=(wt[2]-wt[0])*dt,En=(wt[3]-wt[1])*dt),this.transform=[Vt*dt,sn*dt,un*dt,yn*dt,Sn-Vt*dt*Kt-un*dt*Zt,Dn-sn*dt*Kt-yn*dt*Zt],this.width=gn,this.height=En}get rawDims(){const{viewBox:wt}=this;return(0,a.shadow)(this,"rawDims",{pageWidth:wt[2]-wt[0],pageHeight:wt[3]-wt[1],pageX:wt[0],pageY:wt[1]})}clone({scale:wt=this.scale,rotation:dt=this.rotation,offsetX:bt=this.offsetX,offsetY:Dt=this.offsetY,dontFlip:Bt=!1}={}){return new _e({viewBox:this.viewBox.slice(),scale:wt,rotation:dt,offsetX:bt,offsetY:Dt,dontFlip:Bt})}convertToViewportPoint(wt,dt){return a.Util.applyTransform([wt,dt],this.transform)}convertToViewportRectangle(wt){const dt=a.Util.applyTransform([wt[0],wt[1]],this.transform),bt=a.Util.applyTransform([wt[2],wt[3]],this.transform);return[dt[0],dt[1],bt[0],bt[1]]}convertToPdfPoint(wt,dt){return a.Util.applyInverseTransform([wt,dt],this.transform)}}s.PageViewport=_e;class st extends a.BaseException{constructor(wt,dt=0){super(wt,"RenderingCancelledException"),this.extraDelay=dt}}s.RenderingCancelledException=st;function nt(kt){const wt=kt.length;let dt=0;for(;dt<wt&&kt[dt].trim()==="";)dt++;return kt.substring(dt,dt+5).toLowerCase()==="data:"}function it(kt){return typeof kt=="string"&&/\.pdf$/i.test(kt)}function j(kt,wt=!1){return wt||([kt]=kt.split(/[#?]/,1)),kt.substring(kt.lastIndexOf("/")+1)}function tt(kt,wt="document.pdf"){if(typeof kt!="string")return wt;if(nt(kt))return(0,a.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),wt;const dt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,bt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Dt=dt.exec(kt);let Bt=bt.exec(Dt[1])||bt.exec(Dt[2])||bt.exec(Dt[3]);if(Bt&&(Bt=Bt[0],Bt.includes("%")))try{Bt=bt.exec(decodeURIComponent(Bt))[0]}catch{}return Bt||wt}class ot{constructor(){On(this,"started",Object.create(null));On(this,"times",[])}time(wt){wt in this.started&&(0,a.warn)(`Timer is already running for ${wt}`),this.started[wt]=Date.now()}timeEnd(wt){wt in this.started||(0,a.warn)(`Timer has not been started for ${wt}`),this.times.push({name:wt,start:this.started[wt],end:Date.now()}),delete this.started[wt]}toString(){const wt=[];let dt=0;for(const{name:bt}of this.times)dt=Math.max(bt.length,dt);for(const{name:bt,start:Dt,end:Bt}of this.times)wt.push(`${bt.padEnd(dt)} ${Bt-Dt}ms
`);return wt.join("")}}s.StatTimer=ot;function lt(kt,wt){try{const{protocol:dt}=wt?new URL(kt,wt):new URL(kt);return dt==="http:"||dt==="https:"}catch{return!1}}function rt(kt){kt.preventDefault()}function ct(kt,wt=!1){return new Promise((dt,bt)=>{const Dt=document.createElement("script");Dt.src=kt,Dt.onload=function(Bt){wt&&Dt.remove(),dt(Bt)},Dt.onerror=function(){bt(new Error(`Cannot load script at: ${Dt.src}`))},(document.head||document.documentElement).append(Dt)})}function at(kt){console.log("Deprecated API usage: "+kt)}let ut;class ft{static toDateObject(wt){if(!wt||typeof wt!="string")return null;ut||(ut=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const dt=ut.exec(wt);if(!dt)return null;const bt=parseInt(dt[1],10);let Dt=parseInt(dt[2],10);Dt=Dt>=1&&Dt<=12?Dt-1:0;let Bt=parseInt(dt[3],10);Bt=Bt>=1&&Bt<=31?Bt:1;let It=parseInt(dt[4],10);It=It>=0&&It<=23?It:0;let Kt=parseInt(dt[5],10);Kt=Kt>=0&&Kt<=59?Kt:0;let Zt=parseInt(dt[6],10);Zt=Zt>=0&&Zt<=59?Zt:0;const Vt=dt[7]||"Z";let sn=parseInt(dt[8],10);sn=sn>=0&&sn<=23?sn:0;let un=parseInt(dt[9],10)||0;return un=un>=0&&un<=59?un:0,Vt==="-"?(It+=sn,Kt+=un):Vt==="+"&&(It-=sn,Kt-=un),new Date(Date.UTC(bt,Dt,Bt,It,Kt,Zt))}}s.PDFDateString=ft;function Ct(kt,{scale:wt=1,rotation:dt=0}){const{width:bt,height:Dt}=kt.attributes.style,Bt=[0,0,parseInt(bt),parseInt(Dt)];return new _e({viewBox:Bt,scale:wt,rotation:dt})}function xt(kt){if(kt.startsWith("#")){const wt=parseInt(kt.slice(1),16);return[(wt&16711680)>>16,(wt&65280)>>8,wt&255]}return kt.startsWith("rgb(")?kt.slice(4,-1).split(",").map(wt=>parseInt(wt)):kt.startsWith("rgba(")?kt.slice(5,-1).split(",").map(wt=>parseInt(wt)).slice(0,3):((0,a.warn)(`Not a valid color format: "${kt}"`),[0,0,0])}function pt(kt){const wt=document.createElement("span");wt.style.visibility="hidden",document.body.append(wt);for(const dt of kt.keys()){wt.style.color=dt;const bt=window.getComputedStyle(wt).color;kt.set(dt,xt(bt))}wt.remove()}function _t(kt){const{a:wt,b:dt,c:bt,d:Dt,e:Bt,f:It}=kt.getTransform();return[wt,dt,bt,Dt,Bt,It]}function mt(kt){const{a:wt,b:dt,c:bt,d:Dt,e:Bt,f:It}=kt.getTransform().invertSelf();return[wt,dt,bt,Dt,Bt,It]}function Pt(kt,wt,dt=!1,bt=!0){if(wt instanceof _e){const{pageWidth:Dt,pageHeight:Bt}=wt.rawDims,{style:It}=kt,Kt=a.FeatureTest.isCSSRoundSupported,Zt=`var(--scale-factor) * ${Dt}px`,Vt=`var(--scale-factor) * ${Bt}px`,sn=Kt?`round(${Zt}, 1px)`:`calc(${Zt})`,un=Kt?`round(${Vt}, 1px)`:`calc(${Vt})`;!dt||wt.rotation%180===0?(It.width=sn,It.height=un):(It.width=un,It.height=sn)}bt&&kt.setAttribute("data-main-rotation",wt.rotation)}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseFilterFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var o=i(1);class a{constructor(){this.constructor===a&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(_){return"none"}addHCMFilter(_,$){return"none"}addHighlightHCMFilter(_,$,et,_e){return"none"}destroy(_=!1){}}s.BaseFilterFactory=a;class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(_,$){if(_<=0||$<=0)throw new Error("Invalid canvas size");const et=this._createCanvas(_,$);return{canvas:et,context:et.getContext("2d")}}reset(_,$,et){if(!_.canvas)throw new Error("Canvas is not specified");if($<=0||et<=0)throw new Error("Invalid canvas size");_.canvas.width=$,_.canvas.height=et}destroy(_){if(!_.canvas)throw new Error("Canvas is not specified");_.canvas.width=0,_.canvas.height=0,_.canvas=null,_.context=null}_createCanvas(_,$){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=c;class d{constructor({baseUrl:_=null,isCompressed:$=!0}){this.constructor===d&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=_,this.isCompressed=$}async fetch({name:_}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!_)throw new Error("CMap name must be specified.");const $=this.baseUrl+_+(this.isCompressed?".bcmap":""),et=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData($,et).catch(_e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${$}`)})}_fetchData(_,$){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=d;class h{constructor({baseUrl:_=null}){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=_}async fetch({filename:_}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!_)throw new Error("Font filename must be specified.");const $=`${this.baseUrl}${_}`;return this._fetchData($).catch(et=>{throw new Error(`Unable to load font data at: ${$}`)})}_fetchData(_){(0,o.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=h;class g{constructor(){this.constructor===g&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(_,$,et=!1){if(_<=0||$<=0)throw new Error("Invalid SVG dimensions");const _e=this._createSVG("svg:svg");return _e.setAttribute("version","1.1"),et||(_e.setAttribute("width",`${_}px`),_e.setAttribute("height",`${$}px`)),_e.setAttribute("preserveAspectRatio","none"),_e.setAttribute("viewBox",`0 0 ${_} ${$}`),_e}createElement(_){if(typeof _!="string")throw new Error("Invalid SVG element type");return this._createSVG(_)}_createSVG(_){(0,o.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=g},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var o=i(1);const a=3285377520,c=4294901760,d=65535;class h{constructor(b){this.h1=b?b&4294967295:a,this.h2=b?b&4294967295:a}update(b){let _,$;if(typeof b=="string"){_=new Uint8Array(b.length*2),$=0;for(let at=0,ut=b.length;at<ut;at++){const ft=b.charCodeAt(at);ft<=255?_[$++]=ft:(_[$++]=ft>>>8,_[$++]=ft&255)}}else if((0,o.isArrayBuffer)(b))_=b.slice(),$=_.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const et=$>>2,_e=$-et*4,st=new Uint32Array(_.buffer,0,et);let nt=0,it=0,j=this.h1,tt=this.h2;const ot=3432918353,lt=461845907,rt=ot&d,ct=lt&d;for(let at=0;at<et;at++)at&1?(nt=st[at],nt=nt*ot&c|nt*rt&d,nt=nt<<15|nt>>>17,nt=nt*lt&c|nt*ct&d,j^=nt,j=j<<13|j>>>19,j=j*5+3864292196):(it=st[at],it=it*ot&c|it*rt&d,it=it<<15|it>>>17,it=it*lt&c|it*ct&d,tt^=it,tt=tt<<13|tt>>>19,tt=tt*5+3864292196);switch(nt=0,_e){case 3:nt^=_[et*4+2]<<16;case 2:nt^=_[et*4+1]<<8;case 1:nt^=_[et*4],nt=nt*ot&c|nt*rt&d,nt=nt<<15|nt>>>17,nt=nt*lt&c|nt*ct&d,et&1?j^=nt:tt^=nt}this.h1=j,this.h2=tt}hexdigest(){let b=this.h1,_=this.h2;return b^=_>>>1,b=b*3981806797&c|b*36045&d,_=_*4283543511&c|((_<<16|b>>>16)*2950163797&c)>>>16,b^=_>>>1,b=b*444984403&c|b*60499&d,_=_*3301882366&c|((_<<16|b>>>16)*3120437893&c)>>>16,b^=_>>>1,(b>>>0).toString(16).padStart(8,"0")+(_>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=h},(e,s,i)=>{var d;Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var o=i(1);class a{constructor({ownerDocument:g=globalThis.document,styleElement:b=null}){tn(this,d,new Set);this._document=g,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(g){this.nativeFontFaces.add(g),this._document.fonts.add(g)}removeNativeFontFace(g){this.nativeFontFaces.delete(g),this._document.fonts.delete(g)}insertRule(g){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const b=this.styleElement.sheet;b.insertRule(g,b.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.clear(),gt(this,d).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(g){if(!(!g||gt(this,d).has(g.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:b,src:_,style:$}=g,et=new FontFace(b,_,$);this.addNativeFontFace(et);try{await et.load(),gt(this,d).add(b)}catch{(0,o.warn)(`Cannot load system font: ${g.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(et)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(g){if(g.attached||g.missingFile&&!g.systemFontInfo)return;if(g.attached=!0,g.systemFontInfo){await this.loadSystemFont(g.systemFontInfo);return}if(this.isFontLoadingAPISupported){const _=g.createNativeFontFace();if(_){this.addNativeFontFace(_);try{await _.loaded}catch($){throw(0,o.warn)(`Failed to load font '${_.family}': '${$}'.`),g.disableFontFace=!0,$}}return}const b=g.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(_=>{const $=this._queueLoadingCallback(_);this._prepareFontLoadEvent(g,$)})}}get isFontLoadingAPISupported(){var b;const g=!!((b=this._document)!=null&&b.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){let g=!1;return(o.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(g=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",g)}_queueLoadingCallback(g){function b(){for((0,o.assert)(!$.done,"completeRequest() cannot be called twice."),$.done=!0;_.length>0&&_[0].done;){const et=_.shift();setTimeout(et.callback,0)}}const{loadingRequests:_}=this,$={done:!1,complete:b,callback:g};return _.push($),$}get _loadTestFont(){const g=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",g)}_prepareFontLoadEvent(g,b){function _(xt,pt){return xt.charCodeAt(pt)<<24|xt.charCodeAt(pt+1)<<16|xt.charCodeAt(pt+2)<<8|xt.charCodeAt(pt+3)&255}function $(xt,pt,_t,mt){const Pt=xt.substring(0,pt),Ut=xt.substring(pt+_t);return Pt+mt+Ut}let et,_e;const st=this._document.createElement("canvas");st.width=1,st.height=1;const nt=st.getContext("2d");let it=0;function j(xt,pt){if(++it>30){(0,o.warn)("Load test font never loaded."),pt();return}if(nt.font="30px "+xt,nt.fillText(".",0,20),nt.getImageData(0,0,1,1).data[3]>0){pt();return}setTimeout(j.bind(null,xt,pt))}const tt=`lt${Date.now()}${this.loadTestFontId++}`;let ot=this._loadTestFont;ot=$(ot,976,tt.length,tt);const rt=16,ct=1482184792;let at=_(ot,rt);for(et=0,_e=tt.length-3;et<_e;et+=4)at=at-ct+_(tt,et)|0;et<tt.length&&(at=at-ct+_(tt+"XXX",et)|0),ot=$(ot,rt,4,(0,o.string32)(at));const ut=`url(data:font/opentype;base64,${btoa(ot)});`,ft=`@font-face {font-family:"${tt}";src:${ut}}`;this.insertRule(ft);const Ct=this._document.createElement("div");Ct.style.visibility="hidden",Ct.style.width=Ct.style.height="10px",Ct.style.position="absolute",Ct.style.top=Ct.style.left="0px";for(const xt of[g.loadedName,tt]){const pt=this._document.createElement("span");pt.textContent="Hi",pt.style.fontFamily=xt,Ct.append(pt)}this._document.body.append(Ct),j(tt,()=>{Ct.remove(),b.complete()})}}d=new WeakMap,s.FontLoader=a;class c{constructor(g,{isEvalSupported:b=!0,disableFontFace:_=!1,ignoreErrors:$=!1,inspectFont:et=null}){this.compiledGlyphs=Object.create(null);for(const _e in g)this[_e]=g[_e];this.isEvalSupported=b!==!1,this.disableFontFace=_===!0,this.ignoreErrors=$===!0,this._inspectFont=et}createNativeFontFace(){var b;if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}return(b=this._inspectFont)==null||b.call(this,this),g}createFontFaceRule(){var $;if(!this.data||this.disableFontFace)return null;const g=(0,o.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(g)});`;let _;if(!this.cssFontInfo)_=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let et=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(et+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),_=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${et}src:${b}}`}return($=this._inspectFont)==null||$.call(this,this,b),_}getPathGenerator(g,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let _;try{_=g.get(this.loadedName+"_path_"+b)}catch($){if(!this.ignoreErrors)throw $;return(0,o.warn)(`getPathGenerator - ignoring character: "${$}".`),this.compiledGlyphs[b]=function(et,_e){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const $=[];for(const et of _){const _e=et.args!==void 0?et.args.join(","):"";$.push("c.",et.cmd,"(",_e,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",$.join(""))}return this.compiledGlyphs[b]=function($,et){for(const _e of _)_e.cmd==="scale"&&(_e.args=[et,-et]),$[_e.cmd].apply($,_e.args)}}}s.FontFaceObject=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeFilterFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var o=i(7);i(1);const a=function(b){return new Promise((_,$)=>{require$$5.readFile(b,(_e,st)=>{if(_e||!st){$(new Error(_e));return}_(new Uint8Array(st))})})};class c extends o.BaseFilterFactory{}s.NodeFilterFactory=c;class d extends o.BaseCanvasFactory{_createCanvas(_,$){return require$$5.createCanvas(_,$)}}s.NodeCanvasFactory=d;class h extends o.BaseCMapReaderFactory{_fetchData(_,$){return a(_).then(et=>({cMapData:et,compressionType:$}))}}s.NodeCMapReaderFactory=h;class g extends o.BaseStandardFontDataFactory{_fetchData(_){return a(_)}}s.NodeStandardFontDataFactory=g},(e,s,i)=>{var Ot,Ir,Fr;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var o=i(1),a=i(6),c=i(12),d=i(13);const h=16,g=100,b=4096,_=15,$=10,et=1e3,_e=16;function st(Et,yt){if(Et._removeMirroring)throw new Error("Context is already forwarding operations.");Et.__originalSave=Et.save,Et.__originalRestore=Et.restore,Et.__originalRotate=Et.rotate,Et.__originalScale=Et.scale,Et.__originalTranslate=Et.translate,Et.__originalTransform=Et.transform,Et.__originalSetTransform=Et.setTransform,Et.__originalResetTransform=Et.resetTransform,Et.__originalClip=Et.clip,Et.__originalMoveTo=Et.moveTo,Et.__originalLineTo=Et.lineTo,Et.__originalBezierCurveTo=Et.bezierCurveTo,Et.__originalRect=Et.rect,Et.__originalClosePath=Et.closePath,Et.__originalBeginPath=Et.beginPath,Et._removeMirroring=()=>{Et.save=Et.__originalSave,Et.restore=Et.__originalRestore,Et.rotate=Et.__originalRotate,Et.scale=Et.__originalScale,Et.translate=Et.__originalTranslate,Et.transform=Et.__originalTransform,Et.setTransform=Et.__originalSetTransform,Et.resetTransform=Et.__originalResetTransform,Et.clip=Et.__originalClip,Et.moveTo=Et.__originalMoveTo,Et.lineTo=Et.__originalLineTo,Et.bezierCurveTo=Et.__originalBezierCurveTo,Et.rect=Et.__originalRect,Et.closePath=Et.__originalClosePath,Et.beginPath=Et.__originalBeginPath,delete Et._removeMirroring},Et.save=function(){yt.save(),this.__originalSave()},Et.restore=function(){yt.restore(),this.__originalRestore()},Et.translate=function(St,jt){yt.translate(St,jt),this.__originalTranslate(St,jt)},Et.scale=function(St,jt){yt.scale(St,jt),this.__originalScale(St,jt)},Et.transform=function(St,jt,Ft,Lt,$t,Gt){yt.transform(St,jt,Ft,Lt,$t,Gt),this.__originalTransform(St,jt,Ft,Lt,$t,Gt)},Et.setTransform=function(St,jt,Ft,Lt,$t,Gt){yt.setTransform(St,jt,Ft,Lt,$t,Gt),this.__originalSetTransform(St,jt,Ft,Lt,$t,Gt)},Et.resetTransform=function(){yt.resetTransform(),this.__originalResetTransform()},Et.rotate=function(St){yt.rotate(St),this.__originalRotate(St)},Et.clip=function(St){yt.clip(St),this.__originalClip(St)},Et.moveTo=function(vt,St){yt.moveTo(vt,St),this.__originalMoveTo(vt,St)},Et.lineTo=function(vt,St){yt.lineTo(vt,St),this.__originalLineTo(vt,St)},Et.bezierCurveTo=function(vt,St,jt,Ft,Lt,$t){yt.bezierCurveTo(vt,St,jt,Ft,Lt,$t),this.__originalBezierCurveTo(vt,St,jt,Ft,Lt,$t)},Et.rect=function(vt,St,jt,Ft){yt.rect(vt,St,jt,Ft),this.__originalRect(vt,St,jt,Ft)},Et.closePath=function(){yt.closePath(),this.__originalClosePath()},Et.beginPath=function(){yt.beginPath(),this.__originalBeginPath()}}class nt{constructor(yt){this.canvasFactory=yt,this.cache=Object.create(null)}getCanvas(yt,vt,St){let jt;return this.cache[yt]!==void 0?(jt=this.cache[yt],this.canvasFactory.reset(jt,vt,St)):(jt=this.canvasFactory.create(vt,St),this.cache[yt]=jt),jt}delete(yt){delete this.cache[yt]}clear(){for(const yt in this.cache){const vt=this.cache[yt];this.canvasFactory.destroy(vt),delete this.cache[yt]}}}function it(Et,yt,vt,St,jt,Ft,Lt,$t,Gt,Yt){const[Jt,an,ht,Wt,kt,wt]=(0,a.getCurrentTransform)(Et);if(an===0&&ht===0){const Dt=Lt*Jt+kt,Bt=Math.round(Dt),It=$t*Wt+wt,Kt=Math.round(It),Zt=(Lt+Gt)*Jt+kt,Vt=Math.abs(Math.round(Zt)-Bt)||1,sn=($t+Yt)*Wt+wt,un=Math.abs(Math.round(sn)-Kt)||1;return Et.setTransform(Math.sign(Jt),0,0,Math.sign(Wt),Bt,Kt),Et.drawImage(yt,vt,St,jt,Ft,0,0,Vt,un),Et.setTransform(Jt,an,ht,Wt,kt,wt),[Vt,un]}if(Jt===0&&Wt===0){const Dt=$t*ht+kt,Bt=Math.round(Dt),It=Lt*an+wt,Kt=Math.round(It),Zt=($t+Yt)*ht+kt,Vt=Math.abs(Math.round(Zt)-Bt)||1,sn=(Lt+Gt)*an+wt,un=Math.abs(Math.round(sn)-Kt)||1;return Et.setTransform(0,Math.sign(an),Math.sign(ht),0,Bt,Kt),Et.drawImage(yt,vt,St,jt,Ft,0,0,un,Vt),Et.setTransform(Jt,an,ht,Wt,kt,wt),[un,Vt]}Et.drawImage(yt,vt,St,jt,Ft,Lt,$t,Gt,Yt);const dt=Math.hypot(Jt,an),bt=Math.hypot(ht,Wt);return[dt*Gt,bt*Yt]}function j(Et){const{width:yt,height:vt}=Et;if(yt>et||vt>et)return null;const St=1e3,jt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ft=yt+1;let Lt=new Uint8Array(Ft*(vt+1)),$t,Gt,Yt;const Jt=yt+7&-8;let an=new Uint8Array(Jt*vt),ht=0;for(const bt of Et.data){let Dt=128;for(;Dt>0;)an[ht++]=bt&Dt?0:255,Dt>>=1}let Wt=0;for(ht=0,an[ht]!==0&&(Lt[0]=1,++Wt),Gt=1;Gt<yt;Gt++)an[ht]!==an[ht+1]&&(Lt[Gt]=an[ht]?2:1,++Wt),ht++;for(an[ht]!==0&&(Lt[Gt]=2,++Wt),$t=1;$t<vt;$t++){ht=$t*Jt,Yt=$t*Ft,an[ht-Jt]!==an[ht]&&(Lt[Yt]=an[ht]?1:8,++Wt);let bt=(an[ht]?4:0)+(an[ht-Jt]?8:0);for(Gt=1;Gt<yt;Gt++)bt=(bt>>2)+(an[ht+1]?4:0)+(an[ht-Jt+1]?8:0),jt[bt]&&(Lt[Yt+Gt]=jt[bt],++Wt),ht++;if(an[ht-Jt]!==an[ht]&&(Lt[Yt+Gt]=an[ht]?2:4,++Wt),Wt>St)return null}for(ht=Jt*(vt-1),Yt=$t*Ft,an[ht]!==0&&(Lt[Yt]=8,++Wt),Gt=1;Gt<yt;Gt++)an[ht]!==an[ht+1]&&(Lt[Yt+Gt]=an[ht]?4:8,++Wt),ht++;if(an[ht]!==0&&(Lt[Yt+Gt]=4,++Wt),Wt>St)return null;const kt=new Int32Array([0,Ft,-1,0,-Ft,0,0,0,1]),wt=new Path2D;for($t=0;Wt&&$t<=vt;$t++){let bt=$t*Ft;const Dt=bt+yt;for(;bt<Dt&&!Lt[bt];)bt++;if(bt===Dt)continue;wt.moveTo(bt%Ft,$t);const Bt=bt;let It=Lt[bt];do{const Kt=kt[It];do bt+=Kt;while(!Lt[bt]);const Zt=Lt[bt];Zt!==5&&Zt!==10?(It=Zt,Lt[bt]=0):(It=Zt&51*It>>4,Lt[bt]&=It>>2|It<<2),wt.lineTo(bt%Ft,bt/Ft|0),Lt[bt]||--Wt}while(Bt!==bt);--$t}return an=null,Lt=null,function(bt){bt.save(),bt.scale(1/yt,-1/vt),bt.translate(0,-vt),bt.fill(wt),bt.beginPath(),bt.restore()}}class tt{constructor(yt,vt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,yt,vt])}clone(){const yt=Object.create(this);return yt.clipBox=this.clipBox.slice(),yt}setCurrentPoint(yt,vt){this.x=yt,this.y=vt}updatePathMinMax(yt,vt,St){[vt,St]=o.Util.applyTransform([vt,St],yt),this.minX=Math.min(this.minX,vt),this.minY=Math.min(this.minY,St),this.maxX=Math.max(this.maxX,vt),this.maxY=Math.max(this.maxY,St)}updateRectMinMax(yt,vt){const St=o.Util.applyTransform(vt,yt),jt=o.Util.applyTransform(vt.slice(2),yt);this.minX=Math.min(this.minX,St[0],jt[0]),this.minY=Math.min(this.minY,St[1],jt[1]),this.maxX=Math.max(this.maxX,St[0],jt[0]),this.maxY=Math.max(this.maxY,St[1],jt[1])}updateScalingPathMinMax(yt,vt){o.Util.scaleMinMax(yt,vt),this.minX=Math.min(this.minX,vt[0]),this.maxX=Math.max(this.maxX,vt[1]),this.minY=Math.min(this.minY,vt[2]),this.maxY=Math.max(this.maxY,vt[3])}updateCurvePathMinMax(yt,vt,St,jt,Ft,Lt,$t,Gt,Yt,Jt){const an=o.Util.bezierBoundingBox(vt,St,jt,Ft,Lt,$t,Gt,Yt);if(Jt){Jt[0]=Math.min(Jt[0],an[0],an[2]),Jt[1]=Math.max(Jt[1],an[0],an[2]),Jt[2]=Math.min(Jt[2],an[1],an[3]),Jt[3]=Math.max(Jt[3],an[1],an[3]);return}this.updateRectMinMax(yt,an)}getPathBoundingBox(yt=c.PathType.FILL,vt=null){const St=[this.minX,this.minY,this.maxX,this.maxY];if(yt===c.PathType.STROKE){vt||(0,o.unreachable)("Stroke bounding box must include transform.");const jt=o.Util.singularValueDecompose2dScale(vt),Ft=jt[0]*this.lineWidth/2,Lt=jt[1]*this.lineWidth/2;St[0]-=Ft,St[1]-=Lt,St[2]+=Ft,St[3]+=Lt}return St}updateClipFromPath(){const yt=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(yt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(yt){this.clipBox=yt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(yt=c.PathType.FILL,vt=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(yt,vt))}}function ot(Et,yt){if(typeof ImageData<"u"&&yt instanceof ImageData){Et.putImageData(yt,0,0);return}const vt=yt.height,St=yt.width,jt=vt%_e,Ft=(vt-jt)/_e,Lt=jt===0?Ft:Ft+1,$t=Et.createImageData(St,_e);let Gt=0,Yt;const Jt=yt.data,an=$t.data;let ht,Wt,kt,wt;if(yt.kind===o.ImageKind.GRAYSCALE_1BPP){const dt=Jt.byteLength,bt=new Uint32Array(an.buffer,0,an.byteLength>>2),Dt=bt.length,Bt=St+7>>3,It=4294967295,Kt=o.FeatureTest.isLittleEndian?4278190080:255;for(ht=0;ht<Lt;ht++){for(kt=ht<Ft?_e:jt,Yt=0,Wt=0;Wt<kt;Wt++){const Zt=dt-Gt;let Vt=0;const sn=Zt>Bt?St:Zt*8-7,un=sn&-8;let yn=0,Sn=0;for(;Vt<un;Vt+=8)Sn=Jt[Gt++],bt[Yt++]=Sn&128?It:Kt,bt[Yt++]=Sn&64?It:Kt,bt[Yt++]=Sn&32?It:Kt,bt[Yt++]=Sn&16?It:Kt,bt[Yt++]=Sn&8?It:Kt,bt[Yt++]=Sn&4?It:Kt,bt[Yt++]=Sn&2?It:Kt,bt[Yt++]=Sn&1?It:Kt;for(;Vt<sn;Vt++)yn===0&&(Sn=Jt[Gt++],yn=128),bt[Yt++]=Sn&yn?It:Kt,yn>>=1}for(;Yt<Dt;)bt[Yt++]=0;Et.putImageData($t,0,ht*_e)}}else if(yt.kind===o.ImageKind.RGBA_32BPP){for(Wt=0,wt=St*_e*4,ht=0;ht<Ft;ht++)an.set(Jt.subarray(Gt,Gt+wt)),Gt+=wt,Et.putImageData($t,0,Wt),Wt+=_e;ht<Lt&&(wt=St*jt*4,an.set(Jt.subarray(Gt,Gt+wt)),Et.putImageData($t,0,Wt))}else if(yt.kind===o.ImageKind.RGB_24BPP)for(kt=_e,wt=St*kt,ht=0;ht<Lt;ht++){for(ht>=Ft&&(kt=jt,wt=St*kt),Yt=0,Wt=wt;Wt--;)an[Yt++]=Jt[Gt++],an[Yt++]=Jt[Gt++],an[Yt++]=Jt[Gt++],an[Yt++]=255;Et.putImageData($t,0,ht*_e)}else throw new Error(`bad image kind: ${yt.kind}`)}function lt(Et,yt){if(yt.bitmap){Et.drawImage(yt.bitmap,0,0);return}const vt=yt.height,St=yt.width,jt=vt%_e,Ft=(vt-jt)/_e,Lt=jt===0?Ft:Ft+1,$t=Et.createImageData(St,_e);let Gt=0;const Yt=yt.data,Jt=$t.data;for(let an=0;an<Lt;an++){const ht=an<Ft?_e:jt;({srcPos:Gt}=(0,d.convertBlackAndWhiteToRGBA)({src:Yt,srcPos:Gt,dest:Jt,width:St,height:ht,nonBlackColor:0})),Et.putImageData($t,0,an*_e)}}function rt(Et,yt){const vt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const St of vt)Et[St]!==void 0&&(yt[St]=Et[St]);Et.setLineDash!==void 0&&(yt.setLineDash(Et.getLineDash()),yt.lineDashOffset=Et.lineDashOffset)}function ct(Et){if(Et.strokeStyle=Et.fillStyle="#000000",Et.fillRule="nonzero",Et.globalAlpha=1,Et.lineWidth=1,Et.lineCap="butt",Et.lineJoin="miter",Et.miterLimit=10,Et.globalCompositeOperation="source-over",Et.font="10px sans-serif",Et.setLineDash!==void 0&&(Et.setLineDash([]),Et.lineDashOffset=0),!o.isNodeJS){const{filter:yt}=Et;yt!=="none"&&yt!==""&&(Et.filter="none")}}function at(Et,yt,vt,St){const jt=Et.length;for(let Ft=3;Ft<jt;Ft+=4){const Lt=Et[Ft];if(Lt===0)Et[Ft-3]=yt,Et[Ft-2]=vt,Et[Ft-1]=St;else if(Lt<255){const $t=255-Lt;Et[Ft-3]=Et[Ft-3]*Lt+yt*$t>>8,Et[Ft-2]=Et[Ft-2]*Lt+vt*$t>>8,Et[Ft-1]=Et[Ft-1]*Lt+St*$t>>8}}}function ut(Et,yt,vt){const St=Et.length,jt=1/255;for(let Ft=3;Ft<St;Ft+=4){const Lt=vt?vt[Et[Ft]]:Et[Ft];yt[Ft]=yt[Ft]*Lt*jt|0}}function ft(Et,yt,vt){const St=Et.length;for(let jt=3;jt<St;jt+=4){const Ft=Et[jt-3]*77+Et[jt-2]*152+Et[jt-1]*28;yt[jt]=vt?yt[jt]*vt[Ft>>8]>>8:yt[jt]*Ft>>16}}function Ct(Et,yt,vt,St,jt,Ft,Lt,$t,Gt,Yt,Jt){const an=!!Ft,ht=an?Ft[0]:0,Wt=an?Ft[1]:0,kt=an?Ft[2]:0,wt=jt==="Luminosity"?ft:ut,bt=Math.min(St,Math.ceil(1048576/vt));for(let Dt=0;Dt<St;Dt+=bt){const Bt=Math.min(bt,St-Dt),It=Et.getImageData($t-Yt,Dt+(Gt-Jt),vt,Bt),Kt=yt.getImageData($t,Dt+Gt,vt,Bt);an&&at(It.data,ht,Wt,kt),wt(It.data,Kt.data,Lt),yt.putImageData(Kt,$t,Dt+Gt)}}function xt(Et,yt,vt,St){const jt=St[0],Ft=St[1],Lt=St[2]-jt,$t=St[3]-Ft;Lt===0||$t===0||(Ct(yt.context,vt,Lt,$t,yt.subtype,yt.backdrop,yt.transferMap,jt,Ft,yt.offsetX,yt.offsetY),Et.save(),Et.globalAlpha=1,Et.globalCompositeOperation="source-over",Et.setTransform(1,0,0,1,0,0),Et.drawImage(vt.canvas,0,0),Et.restore())}function pt(Et,yt){const vt=o.Util.singularValueDecompose2dScale(Et);vt[0]=Math.fround(vt[0]),vt[1]=Math.fround(vt[1]);const St=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return yt!==void 0?yt:vt[0]<=St||vt[1]<=St}const _t=["butt","round","square"],mt=["miter","round","bevel"],Pt={},Ut={},Rt=class Rt{constructor(yt,vt,St,jt,Ft,{optionalContentConfig:Lt,markedContentStack:$t=null},Gt,Yt){tn(this,Ot);this.ctx=yt,this.current=new tt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=vt,this.objs=St,this.canvasFactory=jt,this.filterFactory=Ft,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=$t||[],this.optionalContentConfig=Lt,this.cachedCanvases=new nt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Gt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Yt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(yt,vt=null){return typeof yt=="string"?yt.startsWith("g_")?this.commonObjs.get(yt):this.objs.get(yt):vt}beginDrawing({transform:yt,viewport:vt,transparency:St=!1,background:jt=null}){const Ft=this.ctx.canvas.width,Lt=this.ctx.canvas.height,$t=this.ctx.fillStyle;if(this.ctx.fillStyle=jt||"#ffffff",this.ctx.fillRect(0,0,Ft,Lt),this.ctx.fillStyle=$t,St){const Gt=this.cachedCanvases.getCanvas("transparent",Ft,Lt);this.compositeCtx=this.ctx,this.transparentCanvas=Gt.canvas,this.ctx=Gt.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ct(this.ctx),yt&&(this.ctx.transform(...yt),this.outputScaleX=yt[0],this.outputScaleY=yt[0]),this.ctx.transform(...vt.transform),this.viewportScale=vt.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx)}executeOperatorList(yt,vt,St,jt){const Ft=yt.argsArray,Lt=yt.fnArray;let $t=vt||0;const Gt=Ft.length;if(Gt===$t)return $t;const Yt=Gt-$t>$&&typeof St=="function",Jt=Yt?Date.now()+_:0;let an=0;const ht=this.commonObjs,Wt=this.objs;let kt;for(;;){if(jt!==void 0&&$t===jt.nextBreakPoint)return jt.breakIt($t,St),$t;if(kt=Lt[$t],kt!==o.OPS.dependency)this[kt].apply(this,Ft[$t]);else for(const wt of Ft[$t]){const dt=wt.startsWith("g_")?ht:Wt;if(!dt.has(wt))return dt.get(wt,St),$t}if($t++,$t===Gt)return $t;if(Yt&&++an>$){if(Date.now()>Jt)return St(),$t;an=0}}}endDrawing(){qt(this,Ot,Ir).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const yt of this._cachedBitmapsMap.values()){for(const vt of yt.values())typeof HTMLCanvasElement<"u"&&vt instanceof HTMLCanvasElement&&(vt.width=vt.height=0);yt.clear()}this._cachedBitmapsMap.clear(),qt(this,Ot,Fr).call(this)}_scaleImage(yt,vt){const St=yt.width,jt=yt.height;let Ft=Math.max(Math.hypot(vt[0],vt[1]),1),Lt=Math.max(Math.hypot(vt[2],vt[3]),1),$t=St,Gt=jt,Yt="prescale1",Jt,an;for(;Ft>2&&$t>1||Lt>2&&Gt>1;){let ht=$t,Wt=Gt;Ft>2&&$t>1&&(ht=$t>=16384?Math.floor($t/2)-1||1:Math.ceil($t/2),Ft/=$t/ht),Lt>2&&Gt>1&&(Wt=Gt>=16384?Math.floor(Gt/2)-1||1:Math.ceil(Gt)/2,Lt/=Gt/Wt),Jt=this.cachedCanvases.getCanvas(Yt,ht,Wt),an=Jt.context,an.clearRect(0,0,ht,Wt),an.drawImage(yt,0,0,$t,Gt,0,0,ht,Wt),yt=Jt.canvas,$t=ht,Gt=Wt,Yt=Yt==="prescale1"?"prescale2":"prescale1"}return{img:yt,paintWidth:$t,paintHeight:Gt}}_createMaskCanvas(yt){const vt=this.ctx,{width:St,height:jt}=yt,Ft=this.current.fillColor,Lt=this.current.patternFill,$t=(0,a.getCurrentTransform)(vt);let Gt,Yt,Jt,an;if((yt.bitmap||yt.data)&&yt.count>1){const Vt=yt.bitmap||yt.data.buffer;Yt=JSON.stringify(Lt?$t:[$t.slice(0,4),Ft]),Gt=this._cachedBitmapsMap.get(Vt),Gt||(Gt=new Map,this._cachedBitmapsMap.set(Vt,Gt));const sn=Gt.get(Yt);if(sn&&!Lt){const un=Math.round(Math.min($t[0],$t[2])+$t[4]),yn=Math.round(Math.min($t[1],$t[3])+$t[5]);return{canvas:sn,offsetX:un,offsetY:yn}}Jt=sn}Jt||(an=this.cachedCanvases.getCanvas("maskCanvas",St,jt),lt(an.context,yt));let ht=o.Util.transform($t,[1/St,0,0,-1/jt,0,0]);ht=o.Util.transform(ht,[1,0,0,1,0,-jt]);const Wt=o.Util.applyTransform([0,0],ht),kt=o.Util.applyTransform([St,jt],ht),wt=o.Util.normalizeRect([Wt[0],Wt[1],kt[0],kt[1]]),dt=Math.round(wt[2]-wt[0])||1,bt=Math.round(wt[3]-wt[1])||1,Dt=this.cachedCanvases.getCanvas("fillCanvas",dt,bt),Bt=Dt.context,It=Math.min(Wt[0],kt[0]),Kt=Math.min(Wt[1],kt[1]);Bt.translate(-It,-Kt),Bt.transform(...ht),Jt||(Jt=this._scaleImage(an.canvas,(0,a.getCurrentTransformInverse)(Bt)),Jt=Jt.img,Gt&&Lt&&Gt.set(Yt,Jt)),Bt.imageSmoothingEnabled=pt((0,a.getCurrentTransform)(Bt),yt.interpolate),it(Bt,Jt,0,0,Jt.width,Jt.height,0,0,St,jt),Bt.globalCompositeOperation="source-in";const Zt=o.Util.transform((0,a.getCurrentTransformInverse)(Bt),[1,0,0,1,-It,-Kt]);return Bt.fillStyle=Lt?Ft.getPattern(vt,this,Zt,c.PathType.FILL):Ft,Bt.fillRect(0,0,St,jt),Gt&&!Lt&&(this.cachedCanvases.delete("fillCanvas"),Gt.set(Yt,Dt.canvas)),{canvas:Dt.canvas,offsetX:Math.round(It),offsetY:Math.round(Kt)}}setLineWidth(yt){yt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=yt,this.ctx.lineWidth=yt}setLineCap(yt){this.ctx.lineCap=_t[yt]}setLineJoin(yt){this.ctx.lineJoin=mt[yt]}setMiterLimit(yt){this.ctx.miterLimit=yt}setDash(yt,vt){const St=this.ctx;St.setLineDash!==void 0&&(St.setLineDash(yt),St.lineDashOffset=vt)}setRenderingIntent(yt){}setFlatness(yt){}setGState(yt){for(const[vt,St]of yt)switch(vt){case"LW":this.setLineWidth(St);break;case"LC":this.setLineCap(St);break;case"LJ":this.setLineJoin(St);break;case"ML":this.setMiterLimit(St);break;case"D":this.setDash(St[0],St[1]);break;case"RI":this.setRenderingIntent(St);break;case"FL":this.setFlatness(St);break;case"Font":this.setFont(St[0],St[1]);break;case"CA":this.current.strokeAlpha=St;break;case"ca":this.current.fillAlpha=St,this.ctx.globalAlpha=St;break;case"BM":this.ctx.globalCompositeOperation=St;break;case"SMask":this.current.activeSMask=St?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(St);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const yt=this.inSMaskMode;this.current.activeSMask&&!yt?this.beginSMaskMode():!this.current.activeSMask&&yt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const yt=this.ctx.canvas.width,vt=this.ctx.canvas.height,St="smaskGroupAt"+this.groupLevel,jt=this.cachedCanvases.getCanvas(St,yt,vt);this.suspendedCtx=this.ctx,this.ctx=jt.context;const Ft=this.ctx;Ft.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),rt(this.suspendedCtx,Ft),st(Ft,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(yt){if(!this.current.activeSMask)return;yt?(yt[0]=Math.floor(yt[0]),yt[1]=Math.floor(yt[1]),yt[2]=Math.ceil(yt[2]),yt[3]=Math.ceil(yt[3])):yt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const vt=this.current.activeSMask,St=this.suspendedCtx;xt(St,vt,this.ctx,yt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(rt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const yt=this.current;this.stateStack.push(yt),this.current=yt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),rt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(yt,vt,St,jt,Ft,Lt){this.ctx.transform(yt,vt,St,jt,Ft,Lt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(yt,vt,St){const jt=this.ctx,Ft=this.current;let Lt=Ft.x,$t=Ft.y,Gt,Yt;const Jt=(0,a.getCurrentTransform)(jt),an=Jt[0]===0&&Jt[3]===0||Jt[1]===0&&Jt[2]===0,ht=an?St.slice(0):null;for(let Wt=0,kt=0,wt=yt.length;Wt<wt;Wt++)switch(yt[Wt]|0){case o.OPS.rectangle:Lt=vt[kt++],$t=vt[kt++];const dt=vt[kt++],bt=vt[kt++],Dt=Lt+dt,Bt=$t+bt;jt.moveTo(Lt,$t),dt===0||bt===0?jt.lineTo(Dt,Bt):(jt.lineTo(Dt,$t),jt.lineTo(Dt,Bt),jt.lineTo(Lt,Bt)),an||Ft.updateRectMinMax(Jt,[Lt,$t,Dt,Bt]),jt.closePath();break;case o.OPS.moveTo:Lt=vt[kt++],$t=vt[kt++],jt.moveTo(Lt,$t),an||Ft.updatePathMinMax(Jt,Lt,$t);break;case o.OPS.lineTo:Lt=vt[kt++],$t=vt[kt++],jt.lineTo(Lt,$t),an||Ft.updatePathMinMax(Jt,Lt,$t);break;case o.OPS.curveTo:Gt=Lt,Yt=$t,Lt=vt[kt+4],$t=vt[kt+5],jt.bezierCurveTo(vt[kt],vt[kt+1],vt[kt+2],vt[kt+3],Lt,$t),Ft.updateCurvePathMinMax(Jt,Gt,Yt,vt[kt],vt[kt+1],vt[kt+2],vt[kt+3],Lt,$t,ht),kt+=6;break;case o.OPS.curveTo2:Gt=Lt,Yt=$t,jt.bezierCurveTo(Lt,$t,vt[kt],vt[kt+1],vt[kt+2],vt[kt+3]),Ft.updateCurvePathMinMax(Jt,Gt,Yt,Lt,$t,vt[kt],vt[kt+1],vt[kt+2],vt[kt+3],ht),Lt=vt[kt+2],$t=vt[kt+3],kt+=4;break;case o.OPS.curveTo3:Gt=Lt,Yt=$t,Lt=vt[kt+2],$t=vt[kt+3],jt.bezierCurveTo(vt[kt],vt[kt+1],Lt,$t,Lt,$t),Ft.updateCurvePathMinMax(Jt,Gt,Yt,vt[kt],vt[kt+1],Lt,$t,Lt,$t,ht),kt+=4;break;case o.OPS.closePath:jt.closePath();break}an&&Ft.updateScalingPathMinMax(Jt,ht),Ft.setCurrentPoint(Lt,$t)}closePath(){this.ctx.closePath()}stroke(yt=!0){const vt=this.ctx,St=this.current.strokeColor;vt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof St=="object"&&(St!=null&&St.getPattern)?(vt.save(),vt.strokeStyle=St.getPattern(vt,this,(0,a.getCurrentTransformInverse)(vt),c.PathType.STROKE),this.rescaleAndStroke(!1),vt.restore()):this.rescaleAndStroke(!0)),yt&&this.consumePath(this.current.getClippedPathBoundingBox()),vt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(yt=!0){const vt=this.ctx,St=this.current.fillColor,jt=this.current.patternFill;let Ft=!1;jt&&(vt.save(),vt.fillStyle=St.getPattern(vt,this,(0,a.getCurrentTransformInverse)(vt),c.PathType.FILL),Ft=!0);const Lt=this.current.getClippedPathBoundingBox();this.contentVisible&&Lt!==null&&(this.pendingEOFill?(vt.fill("evenodd"),this.pendingEOFill=!1):vt.fill()),Ft&&vt.restore(),yt&&this.consumePath(Lt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Pt}eoClip(){this.pendingClip=Ut}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const yt=this.pendingTextPaths,vt=this.ctx;if(yt===void 0){vt.beginPath();return}vt.save(),vt.beginPath();for(const St of yt)vt.setTransform(...St.transform),vt.translate(St.x,St.y),St.addToPath(vt,St.fontSize);vt.restore(),vt.clip(),vt.beginPath(),delete this.pendingTextPaths}setCharSpacing(yt){this.current.charSpacing=yt}setWordSpacing(yt){this.current.wordSpacing=yt}setHScale(yt){this.current.textHScale=yt/100}setLeading(yt){this.current.leading=-yt}setFont(yt,vt){var Jt;const St=this.commonObjs.get(yt),jt=this.current;if(!St)throw new Error(`Can't find font for ${yt}`);if(jt.fontMatrix=St.fontMatrix||o.FONT_IDENTITY_MATRIX,(jt.fontMatrix[0]===0||jt.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+yt),vt<0?(vt=-vt,jt.fontDirection=-1):jt.fontDirection=1,this.current.font=St,this.current.fontSize=vt,St.isType3Font)return;const Ft=St.loadedName||"sans-serif",Lt=((Jt=St.systemFontInfo)==null?void 0:Jt.css)||`"${Ft}", ${St.fallbackName}`;let $t="normal";St.black?$t="900":St.bold&&($t="bold");const Gt=St.italic?"italic":"normal";let Yt=vt;vt<h?Yt=h:vt>g&&(Yt=g),this.current.fontSizeScale=vt/Yt,this.ctx.font=`${Gt} ${$t} ${Yt}px ${Lt}`}setTextRenderingMode(yt){this.current.textRenderingMode=yt}setTextRise(yt){this.current.textRise=yt}moveText(yt,vt){this.current.x=this.current.lineX+=yt,this.current.y=this.current.lineY+=vt}setLeadingMoveText(yt,vt){this.setLeading(-vt),this.moveText(yt,vt)}setTextMatrix(yt,vt,St,jt,Ft,Lt){this.current.textMatrix=[yt,vt,St,jt,Ft,Lt],this.current.textMatrixScale=Math.hypot(yt,vt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(yt,vt,St,jt){const Ft=this.ctx,Lt=this.current,$t=Lt.font,Gt=Lt.textRenderingMode,Yt=Lt.fontSize/Lt.fontSizeScale,Jt=Gt&o.TextRenderingMode.FILL_STROKE_MASK,an=!!(Gt&o.TextRenderingMode.ADD_TO_PATH_FLAG),ht=Lt.patternFill&&!$t.missingFile;let Wt;($t.disableFontFace||an||ht)&&(Wt=$t.getPathGenerator(this.commonObjs,yt)),$t.disableFontFace||ht?(Ft.save(),Ft.translate(vt,St),Ft.beginPath(),Wt(Ft,Yt),jt&&Ft.setTransform(...jt),(Jt===o.TextRenderingMode.FILL||Jt===o.TextRenderingMode.FILL_STROKE)&&Ft.fill(),(Jt===o.TextRenderingMode.STROKE||Jt===o.TextRenderingMode.FILL_STROKE)&&Ft.stroke(),Ft.restore()):((Jt===o.TextRenderingMode.FILL||Jt===o.TextRenderingMode.FILL_STROKE)&&Ft.fillText(yt,vt,St),(Jt===o.TextRenderingMode.STROKE||Jt===o.TextRenderingMode.FILL_STROKE)&&Ft.strokeText(yt,vt,St)),an&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(Ft),x:vt,y:St,fontSize:Yt,addToPath:Wt})}get isFontSubpixelAAEnabled(){const{context:yt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);yt.scale(1.5,1),yt.fillText("I",0,10);const vt=yt.getImageData(0,0,10,10).data;let St=!1;for(let jt=3;jt<vt.length;jt+=4)if(vt[jt]>0&&vt[jt]<255){St=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",St)}showText(yt){const vt=this.current,St=vt.font;if(St.isType3Font)return this.showType3Text(yt);const jt=vt.fontSize;if(jt===0)return;const Ft=this.ctx,Lt=vt.fontSizeScale,$t=vt.charSpacing,Gt=vt.wordSpacing,Yt=vt.fontDirection,Jt=vt.textHScale*Yt,an=yt.length,ht=St.vertical,Wt=ht?1:-1,kt=St.defaultVMetrics,wt=jt*vt.fontMatrix[0],dt=vt.textRenderingMode===o.TextRenderingMode.FILL&&!St.disableFontFace&&!vt.patternFill;Ft.save(),Ft.transform(...vt.textMatrix),Ft.translate(vt.x,vt.y+vt.textRise),Yt>0?Ft.scale(Jt,-1):Ft.scale(Jt,1);let bt;if(vt.patternFill){Ft.save();const Zt=vt.fillColor.getPattern(Ft,this,(0,a.getCurrentTransformInverse)(Ft),c.PathType.FILL);bt=(0,a.getCurrentTransform)(Ft),Ft.restore(),Ft.fillStyle=Zt}let Dt=vt.lineWidth;const Bt=vt.textMatrixScale;if(Bt===0||Dt===0){const Zt=vt.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(Zt===o.TextRenderingMode.STROKE||Zt===o.TextRenderingMode.FILL_STROKE)&&(Dt=this.getSinglePixelWidth())}else Dt/=Bt;if(Lt!==1&&(Ft.scale(Lt,Lt),Dt/=Lt),Ft.lineWidth=Dt,St.isInvalidPDFjsFont){const Zt=[];let Vt=0;for(const sn of yt)Zt.push(sn.unicode),Vt+=sn.width;Ft.fillText(Zt.join(""),0,0),vt.x+=Vt*wt*Jt,Ft.restore(),this.compose();return}let It=0,Kt;for(Kt=0;Kt<an;++Kt){const Zt=yt[Kt];if(typeof Zt=="number"){It+=Wt*Zt*jt/1e3;continue}let Vt=!1;const sn=(Zt.isSpace?Gt:0)+$t,un=Zt.fontChar,yn=Zt.accent;let Sn,Dn,gn=Zt.width;if(ht){const kn=Zt.vmetric||kt,Mn=-(Zt.vmetric?kn[1]:gn*.5)*wt,hn=kn[2]*wt;gn=kn?-kn[0]:gn,Sn=Mn/Lt,Dn=(It+hn)/Lt}else Sn=It/Lt,Dn=0;if(St.remeasure&&gn>0){const kn=Ft.measureText(un).width*1e3/jt*Lt;if(gn<kn&&this.isFontSubpixelAAEnabled){const Mn=gn/kn;Vt=!0,Ft.save(),Ft.scale(Mn,1),Sn/=Mn}else gn!==kn&&(Sn+=(gn-kn)/2e3*jt/Lt)}if(this.contentVisible&&(Zt.isInFont||St.missingFile)){if(dt&&!yn)Ft.fillText(un,Sn,Dn);else if(this.paintChar(un,Sn,Dn,bt),yn){const kn=Sn+jt*yn.offset.x/Lt,Mn=Dn-jt*yn.offset.y/Lt;this.paintChar(yn.fontChar,kn,Mn,bt)}}const En=ht?gn*wt-sn*Yt:gn*wt+sn*Yt;It+=En,Vt&&Ft.restore()}ht?vt.y-=It:vt.x+=It*Jt,Ft.restore(),this.compose()}showType3Text(yt){const vt=this.ctx,St=this.current,jt=St.font,Ft=St.fontSize,Lt=St.fontDirection,$t=jt.vertical?1:-1,Gt=St.charSpacing,Yt=St.wordSpacing,Jt=St.textHScale*Lt,an=St.fontMatrix||o.FONT_IDENTITY_MATRIX,ht=yt.length,Wt=St.textRenderingMode===o.TextRenderingMode.INVISIBLE;let kt,wt,dt,bt;if(!(Wt||Ft===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,vt.save(),vt.transform(...St.textMatrix),vt.translate(St.x,St.y),vt.scale(Jt,Lt),kt=0;kt<ht;++kt){if(wt=yt[kt],typeof wt=="number"){bt=$t*wt*Ft/1e3,this.ctx.translate(bt,0),St.x+=bt*Jt;continue}const Dt=(wt.isSpace?Yt:0)+Gt,Bt=jt.charProcOperatorList[wt.operatorListId];if(!Bt){(0,o.warn)(`Type3 character "${wt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=wt,this.save(),vt.scale(Ft,Ft),vt.transform(...an),this.executeOperatorList(Bt),this.restore()),dt=o.Util.applyTransform([wt.width,0],an)[0]*Ft+Dt,vt.translate(dt,0),St.x+=dt*Jt}vt.restore(),this.processingType3=null}}setCharWidth(yt,vt){}setCharWidthAndBounds(yt,vt,St,jt,Ft,Lt){this.ctx.rect(St,jt,Ft-St,Lt-jt),this.ctx.clip(),this.endPath()}getColorN_Pattern(yt){let vt;if(yt[0]==="TilingPattern"){const St=yt[1],jt=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),Ft={createCanvasGraphics:Lt=>new Rt(Lt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};vt=new c.TilingPattern(yt,St,this.ctx,Ft,jt)}else vt=this._getPattern(yt[1],yt[2]);return vt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(yt,vt,St){const jt=o.Util.makeHexColor(yt,vt,St);this.ctx.strokeStyle=jt,this.current.strokeColor=jt}setFillRGBColor(yt,vt,St){const jt=o.Util.makeHexColor(yt,vt,St);this.ctx.fillStyle=jt,this.current.fillColor=jt,this.current.patternFill=!1}_getPattern(yt,vt=null){let St;return this.cachedPatterns.has(yt)?St=this.cachedPatterns.get(yt):(St=(0,c.getShadingPattern)(this.getObject(yt)),this.cachedPatterns.set(yt,St)),vt&&(St.matrix=vt),St}shadingFill(yt){if(!this.contentVisible)return;const vt=this.ctx;this.save();const St=this._getPattern(yt);vt.fillStyle=St.getPattern(vt,this,(0,a.getCurrentTransformInverse)(vt),c.PathType.SHADING);const jt=(0,a.getCurrentTransformInverse)(vt);if(jt){const{width:Ft,height:Lt}=vt.canvas,[$t,Gt,Yt,Jt]=o.Util.getAxialAlignedBoundingBox([0,0,Ft,Lt],jt);this.ctx.fillRect($t,Gt,Yt-$t,Jt-Gt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(yt,vt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(yt)&&yt.length===6&&this.transform(...yt),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),vt)){const St=vt[2]-vt[0],jt=vt[3]-vt[1];this.ctx.rect(vt[0],vt[1],St,jt),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),vt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(yt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const vt=this.ctx;yt.isolated||(0,o.info)("TODO: Support non-isolated groups."),yt.knockout&&(0,o.warn)("Knockout groups not supported.");const St=(0,a.getCurrentTransform)(vt);if(yt.matrix&&vt.transform(...yt.matrix),!yt.bbox)throw new Error("Bounding box is required.");let jt=o.Util.getAxialAlignedBoundingBox(yt.bbox,(0,a.getCurrentTransform)(vt));const Ft=[0,0,vt.canvas.width,vt.canvas.height];jt=o.Util.intersect(jt,Ft)||[0,0,0,0];const Lt=Math.floor(jt[0]),$t=Math.floor(jt[1]);let Gt=Math.max(Math.ceil(jt[2])-Lt,1),Yt=Math.max(Math.ceil(jt[3])-$t,1),Jt=1,an=1;Gt>b&&(Jt=Gt/b,Gt=b),Yt>b&&(an=Yt/b,Yt=b),this.current.startNewPathAndClipBox([0,0,Gt,Yt]);let ht="groupAt"+this.groupLevel;yt.smask&&(ht+="_smask_"+this.smaskCounter++%2);const Wt=this.cachedCanvases.getCanvas(ht,Gt,Yt),kt=Wt.context;kt.scale(1/Jt,1/an),kt.translate(-Lt,-$t),kt.transform(...St),yt.smask?this.smaskStack.push({canvas:Wt.canvas,context:kt,offsetX:Lt,offsetY:$t,scaleX:Jt,scaleY:an,subtype:yt.smask.subtype,backdrop:yt.smask.backdrop,transferMap:yt.smask.transferMap||null,startTransformInverse:null}):(vt.setTransform(1,0,0,1,0,0),vt.translate(Lt,$t),vt.scale(Jt,an),vt.save()),rt(vt,kt),this.ctx=kt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(vt),this.groupLevel++}endGroup(yt){if(!this.contentVisible)return;this.groupLevel--;const vt=this.ctx,St=this.groupStack.pop();if(this.ctx=St,this.ctx.imageSmoothingEnabled=!1,yt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const jt=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...jt);const Ft=o.Util.getAxialAlignedBoundingBox([0,0,vt.canvas.width,vt.canvas.height],jt);this.ctx.drawImage(vt.canvas,0,0),this.ctx.restore(),this.compose(Ft)}}beginAnnotation(yt,vt,St,jt,Ft){if(qt(this,Ot,Ir).call(this),ct(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(vt)&&vt.length===4){const Lt=vt[2]-vt[0],$t=vt[3]-vt[1];if(Ft&&this.annotationCanvasMap){St=St.slice(),St[4]-=vt[0],St[5]-=vt[1],vt=vt.slice(),vt[0]=vt[1]=0,vt[2]=Lt,vt[3]=$t;const[Gt,Yt]=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:Jt}=this,an=Math.ceil(Lt*this.outputScaleX*Jt),ht=Math.ceil($t*this.outputScaleY*Jt);this.annotationCanvas=this.canvasFactory.create(an,ht);const{canvas:Wt,context:kt}=this.annotationCanvas;this.annotationCanvasMap.set(yt,Wt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=kt,this.ctx.save(),this.ctx.setTransform(Gt,0,0,-Yt,0,$t*Yt),ct(this.ctx)}else ct(this.ctx),this.ctx.rect(vt[0],vt[1],Lt,$t),this.ctx.clip(),this.endPath()}this.current=new tt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...St),this.transform(...jt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),qt(this,Ot,Fr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(yt){if(!this.contentVisible)return;const vt=yt.count;yt=this.getObject(yt.data,yt),yt.count=vt;const St=this.ctx,jt=this.processingType3;if(jt&&(jt.compiled===void 0&&(jt.compiled=j(yt)),jt.compiled)){jt.compiled(St);return}const Ft=this._createMaskCanvas(yt),Lt=Ft.canvas;St.save(),St.setTransform(1,0,0,1,0,0),St.drawImage(Lt,Ft.offsetX,Ft.offsetY),St.restore(),this.compose()}paintImageMaskXObjectRepeat(yt,vt,St=0,jt=0,Ft,Lt){if(!this.contentVisible)return;yt=this.getObject(yt.data,yt);const $t=this.ctx;$t.save();const Gt=(0,a.getCurrentTransform)($t);$t.transform(vt,St,jt,Ft,0,0);const Yt=this._createMaskCanvas(yt);$t.setTransform(1,0,0,1,Yt.offsetX-Gt[4],Yt.offsetY-Gt[5]);for(let Jt=0,an=Lt.length;Jt<an;Jt+=2){const ht=o.Util.transform(Gt,[vt,St,jt,Ft,Lt[Jt],Lt[Jt+1]]),[Wt,kt]=o.Util.applyTransform([0,0],ht);$t.drawImage(Yt.canvas,Wt,kt)}$t.restore(),this.compose()}paintImageMaskXObjectGroup(yt){if(!this.contentVisible)return;const vt=this.ctx,St=this.current.fillColor,jt=this.current.patternFill;for(const Ft of yt){const{data:Lt,width:$t,height:Gt,transform:Yt}=Ft,Jt=this.cachedCanvases.getCanvas("maskCanvas",$t,Gt),an=Jt.context;an.save();const ht=this.getObject(Lt,Ft);lt(an,ht),an.globalCompositeOperation="source-in",an.fillStyle=jt?St.getPattern(an,this,(0,a.getCurrentTransformInverse)(vt),c.PathType.FILL):St,an.fillRect(0,0,$t,Gt),an.restore(),vt.save(),vt.transform(...Yt),vt.scale(1,-1),it(vt,Jt.canvas,0,0,$t,Gt,0,-1,1,1),vt.restore()}this.compose()}paintImageXObject(yt){if(!this.contentVisible)return;const vt=this.getObject(yt);if(!vt){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(vt)}paintImageXObjectRepeat(yt,vt,St,jt){if(!this.contentVisible)return;const Ft=this.getObject(yt);if(!Ft){(0,o.warn)("Dependent image isn't ready yet");return}const Lt=Ft.width,$t=Ft.height,Gt=[];for(let Yt=0,Jt=jt.length;Yt<Jt;Yt+=2)Gt.push({transform:[vt,0,0,St,jt[Yt],jt[Yt+1]],x:0,y:0,w:Lt,h:$t});this.paintInlineImageXObjectGroup(Ft,Gt)}applyTransferMapsToCanvas(yt){return this.current.transferMaps!=="none"&&(yt.filter=this.current.transferMaps,yt.drawImage(yt.canvas,0,0),yt.filter="none"),yt.canvas}applyTransferMapsToBitmap(yt){if(this.current.transferMaps==="none")return yt.bitmap;const{bitmap:vt,width:St,height:jt}=yt,Ft=this.cachedCanvases.getCanvas("inlineImage",St,jt),Lt=Ft.context;return Lt.filter=this.current.transferMaps,Lt.drawImage(vt,0,0),Lt.filter="none",Ft.canvas}paintInlineImageXObject(yt){if(!this.contentVisible)return;const vt=yt.width,St=yt.height,jt=this.ctx;if(this.save(),!o.isNodeJS){const{filter:$t}=jt;$t!=="none"&&$t!==""&&(jt.filter="none")}jt.scale(1/vt,-1/St);let Ft;if(yt.bitmap)Ft=this.applyTransferMapsToBitmap(yt);else if(typeof HTMLElement=="function"&&yt instanceof HTMLElement||!yt.data)Ft=yt;else{const Gt=this.cachedCanvases.getCanvas("inlineImage",vt,St).context;ot(Gt,yt),Ft=this.applyTransferMapsToCanvas(Gt)}const Lt=this._scaleImage(Ft,(0,a.getCurrentTransformInverse)(jt));jt.imageSmoothingEnabled=pt((0,a.getCurrentTransform)(jt),yt.interpolate),it(jt,Lt.img,0,0,Lt.paintWidth,Lt.paintHeight,0,-St,vt,St),this.compose(),this.restore()}paintInlineImageXObjectGroup(yt,vt){if(!this.contentVisible)return;const St=this.ctx;let jt;if(yt.bitmap)jt=yt.bitmap;else{const Ft=yt.width,Lt=yt.height,Gt=this.cachedCanvases.getCanvas("inlineImage",Ft,Lt).context;ot(Gt,yt),jt=this.applyTransferMapsToCanvas(Gt)}for(const Ft of vt)St.save(),St.transform(...Ft.transform),St.scale(1,-1),it(St,jt,Ft.x,Ft.y,Ft.w,Ft.h,0,-1,1,1),St.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(yt){}markPointProps(yt,vt){}beginMarkedContent(yt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(yt,vt){yt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(vt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(yt){const vt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(yt);const St=this.ctx;this.pendingClip&&(vt||(this.pendingClip===Ut?St.clip("evenodd"):St.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),St.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const yt=(0,a.getCurrentTransform)(this.ctx);if(yt[1]===0&&yt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(yt[0]),Math.abs(yt[3]));else{const vt=Math.abs(yt[0]*yt[3]-yt[2]*yt[1]),St=Math.hypot(yt[0],yt[2]),jt=Math.hypot(yt[1],yt[3]);this._cachedGetSinglePixelWidth=Math.max(St,jt)/vt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:yt}=this.current,{a:vt,b:St,c:jt,d:Ft}=this.ctx.getTransform();let Lt,$t;if(St===0&&jt===0){const Gt=Math.abs(vt),Yt=Math.abs(Ft);if(Gt===Yt)if(yt===0)Lt=$t=1/Gt;else{const Jt=Gt*yt;Lt=$t=Jt<1?1/Jt:1}else if(yt===0)Lt=1/Gt,$t=1/Yt;else{const Jt=Gt*yt,an=Yt*yt;Lt=Jt<1?1/Jt:1,$t=an<1?1/an:1}}else{const Gt=Math.abs(vt*Ft-St*jt),Yt=Math.hypot(vt,St),Jt=Math.hypot(jt,Ft);if(yt===0)Lt=Jt/Gt,$t=Yt/Gt;else{const an=yt*Gt;Lt=Jt>an?Jt/an:1,$t=Yt>an?Yt/an:1}}this._cachedScaleForStroking[0]=Lt,this._cachedScaleForStroking[1]=$t}return this._cachedScaleForStroking}rescaleAndStroke(yt){const{ctx:vt}=this,{lineWidth:St}=this.current,[jt,Ft]=this.getScaleForStroking();if(vt.lineWidth=St||1,jt===1&&Ft===1){vt.stroke();return}const Lt=vt.getLineDash();if(yt&&vt.save(),vt.scale(jt,Ft),Lt.length>0){const $t=Math.max(jt,Ft);vt.setLineDash(Lt.map(Gt=>Gt/$t)),vt.lineDashOffset/=$t}vt.stroke(),yt&&vt.restore()}isContentVisible(){for(let yt=this.markedContentStack.length-1;yt>=0;yt--)if(!this.markedContentStack[yt].visible)return!1;return!0}};Ot=new WeakSet,Ir=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Fr=function(){if(this.pageColors){const yt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(yt!=="none"){const vt=this.ctx.filter;this.ctx.filter=yt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=vt}}};let Tt=Rt;s.CanvasGraphics=Tt;for(const Et in o.OPS)Tt.prototype[Et]!==void 0&&(Tt.prototype[o.OPS[Et]]=Tt.prototype[Et])},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=_e;var o=i(1),a=i(6);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=c;function d(j,tt){if(!tt)return;const ot=tt[2]-tt[0],lt=tt[3]-tt[1],rt=new Path2D;rt.rect(tt[0],tt[1],ot,lt),j.clip(rt)}class h{constructor(){this.constructor===h&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class g extends h{constructor(tt){super(),this._type=tt[1],this._bbox=tt[2],this._colorStops=tt[3],this._p0=tt[4],this._p1=tt[5],this._r0=tt[6],this._r1=tt[7],this.matrix=null}_createGradient(tt){let ot;this._type==="axial"?ot=tt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ot=tt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const lt of this._colorStops)ot.addColorStop(lt[0],lt[1]);return ot}getPattern(tt,ot,lt,rt){let ct;if(rt===c.STROKE||rt===c.FILL){const at=ot.current.getClippedPathBoundingBox(rt,(0,a.getCurrentTransform)(tt))||[0,0,0,0],ut=Math.ceil(at[2]-at[0])||1,ft=Math.ceil(at[3]-at[1])||1,Ct=ot.cachedCanvases.getCanvas("pattern",ut,ft,!0),xt=Ct.context;xt.clearRect(0,0,xt.canvas.width,xt.canvas.height),xt.beginPath(),xt.rect(0,0,xt.canvas.width,xt.canvas.height),xt.translate(-at[0],-at[1]),lt=o.Util.transform(lt,[1,0,0,1,at[0],at[1]]),xt.transform(...ot.baseTransform),this.matrix&&xt.transform(...this.matrix),d(xt,this._bbox),xt.fillStyle=this._createGradient(xt),xt.fill(),ct=tt.createPattern(Ct.canvas,"no-repeat");const pt=new DOMMatrix(lt);ct.setTransform(pt)}else d(tt,this._bbox),ct=this._createGradient(tt);return ct}}function b(j,tt,ot,lt,rt,ct,at,ut){const ft=tt.coords,Ct=tt.colors,xt=j.data,pt=j.width*4;let _t;ft[ot+1]>ft[lt+1]&&(_t=ot,ot=lt,lt=_t,_t=ct,ct=at,at=_t),ft[lt+1]>ft[rt+1]&&(_t=lt,lt=rt,rt=_t,_t=at,at=ut,ut=_t),ft[ot+1]>ft[lt+1]&&(_t=ot,ot=lt,lt=_t,_t=ct,ct=at,at=_t);const mt=(ft[ot]+tt.offsetX)*tt.scaleX,Pt=(ft[ot+1]+tt.offsetY)*tt.scaleY,Ut=(ft[lt]+tt.offsetX)*tt.scaleX,Tt=(ft[lt+1]+tt.offsetY)*tt.scaleY,Ot=(ft[rt]+tt.offsetX)*tt.scaleX,At=(ft[rt+1]+tt.offsetY)*tt.scaleY;if(Pt>=At)return;const Mt=Ct[ct],Rt=Ct[ct+1],Et=Ct[ct+2],yt=Ct[at],vt=Ct[at+1],St=Ct[at+2],jt=Ct[ut],Ft=Ct[ut+1],Lt=Ct[ut+2],$t=Math.round(Pt),Gt=Math.round(At);let Yt,Jt,an,ht,Wt,kt,wt,dt;for(let bt=$t;bt<=Gt;bt++){if(bt<Tt){const Zt=bt<Pt?0:(Pt-bt)/(Pt-Tt);Yt=mt-(mt-Ut)*Zt,Jt=Mt-(Mt-yt)*Zt,an=Rt-(Rt-vt)*Zt,ht=Et-(Et-St)*Zt}else{let Zt;bt>At?Zt=1:Tt===At?Zt=0:Zt=(Tt-bt)/(Tt-At),Yt=Ut-(Ut-Ot)*Zt,Jt=yt-(yt-jt)*Zt,an=vt-(vt-Ft)*Zt,ht=St-(St-Lt)*Zt}let Dt;bt<Pt?Dt=0:bt>At?Dt=1:Dt=(Pt-bt)/(Pt-At),Wt=mt-(mt-Ot)*Dt,kt=Mt-(Mt-jt)*Dt,wt=Rt-(Rt-Ft)*Dt,dt=Et-(Et-Lt)*Dt;const Bt=Math.round(Math.min(Yt,Wt)),It=Math.round(Math.max(Yt,Wt));let Kt=pt*bt+Bt*4;for(let Zt=Bt;Zt<=It;Zt++)Dt=(Yt-Zt)/(Yt-Wt),Dt<0?Dt=0:Dt>1&&(Dt=1),xt[Kt++]=Jt-(Jt-kt)*Dt|0,xt[Kt++]=an-(an-wt)*Dt|0,xt[Kt++]=ht-(ht-dt)*Dt|0,xt[Kt++]=255}}function _(j,tt,ot){const lt=tt.coords,rt=tt.colors;let ct,at;switch(tt.type){case"lattice":const ut=tt.verticesPerRow,ft=Math.floor(lt.length/ut)-1,Ct=ut-1;for(ct=0;ct<ft;ct++){let xt=ct*ut;for(let pt=0;pt<Ct;pt++,xt++)b(j,ot,lt[xt],lt[xt+1],lt[xt+ut],rt[xt],rt[xt+1],rt[xt+ut]),b(j,ot,lt[xt+ut+1],lt[xt+1],lt[xt+ut],rt[xt+ut+1],rt[xt+1],rt[xt+ut])}break;case"triangles":for(ct=0,at=lt.length;ct<at;ct+=3)b(j,ot,lt[ct],lt[ct+1],lt[ct+2],rt[ct],rt[ct+1],rt[ct+2]);break;default:throw new Error("illegal figure")}}class $ extends h{constructor(tt){super(),this._coords=tt[2],this._colors=tt[3],this._figures=tt[4],this._bounds=tt[5],this._bbox=tt[7],this._background=tt[8],this.matrix=null}_createMeshCanvas(tt,ot,lt){const ut=Math.floor(this._bounds[0]),ft=Math.floor(this._bounds[1]),Ct=Math.ceil(this._bounds[2])-ut,xt=Math.ceil(this._bounds[3])-ft,pt=Math.min(Math.ceil(Math.abs(Ct*tt[0]*1.1)),3e3),_t=Math.min(Math.ceil(Math.abs(xt*tt[1]*1.1)),3e3),mt=Ct/pt,Pt=xt/_t,Ut={coords:this._coords,colors:this._colors,offsetX:-ut,offsetY:-ft,scaleX:1/mt,scaleY:1/Pt},Tt=pt+2*2,Ot=_t+2*2,At=lt.getCanvas("mesh",Tt,Ot,!1),Mt=At.context,Rt=Mt.createImageData(pt,_t);if(ot){const yt=Rt.data;for(let vt=0,St=yt.length;vt<St;vt+=4)yt[vt]=ot[0],yt[vt+1]=ot[1],yt[vt+2]=ot[2],yt[vt+3]=255}for(const yt of this._figures)_(Rt,yt,Ut);return Mt.putImageData(Rt,2,2),{canvas:At.canvas,offsetX:ut-2*mt,offsetY:ft-2*Pt,scaleX:mt,scaleY:Pt}}getPattern(tt,ot,lt,rt){d(tt,this._bbox);let ct;if(rt===c.SHADING)ct=o.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(tt));else if(ct=o.Util.singularValueDecompose2dScale(ot.baseTransform),this.matrix){const ut=o.Util.singularValueDecompose2dScale(this.matrix);ct=[ct[0]*ut[0],ct[1]*ut[1]]}const at=this._createMeshCanvas(ct,rt===c.SHADING?null:this._background,ot.cachedCanvases);return rt!==c.SHADING&&(tt.setTransform(...ot.baseTransform),this.matrix&&tt.transform(...this.matrix)),tt.translate(at.offsetX,at.offsetY),tt.scale(at.scaleX,at.scaleY),tt.createPattern(at.canvas,"no-repeat")}}class et extends h{getPattern(){return"hotpink"}}function _e(j){switch(j[0]){case"RadialAxial":return new g(j);case"Mesh":return new $(j);case"Dummy":return new et}throw new Error(`Unknown IR type: ${j[0]}`)}const st={COLORED:1,UNCOLORED:2},it=class it{constructor(tt,ot,lt,rt,ct){this.operatorList=tt[2],this.matrix=tt[3]||[1,0,0,1,0,0],this.bbox=tt[4],this.xstep=tt[5],this.ystep=tt[6],this.paintType=tt[7],this.tilingType=tt[8],this.color=ot,this.ctx=lt,this.canvasGraphicsFactory=rt,this.baseTransform=ct}createPatternCanvas(tt){const ot=this.operatorList,lt=this.bbox,rt=this.xstep,ct=this.ystep,at=this.paintType,ut=this.tilingType,ft=this.color,Ct=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+ut);const xt=lt[0],pt=lt[1],_t=lt[2],mt=lt[3],Pt=o.Util.singularValueDecompose2dScale(this.matrix),Ut=o.Util.singularValueDecompose2dScale(this.baseTransform),Tt=[Pt[0]*Ut[0],Pt[1]*Ut[1]],Ot=this.getSizeAndScale(rt,this.ctx.canvas.width,Tt[0]),At=this.getSizeAndScale(ct,this.ctx.canvas.height,Tt[1]),Mt=tt.cachedCanvases.getCanvas("pattern",Ot.size,At.size,!0),Rt=Mt.context,Et=Ct.createCanvasGraphics(Rt);Et.groupLevel=tt.groupLevel,this.setFillAndStrokeStyleToContext(Et,at,ft);let yt=xt,vt=pt,St=_t,jt=mt;return xt<0&&(yt=0,St+=Math.abs(xt)),pt<0&&(vt=0,jt+=Math.abs(pt)),Rt.translate(-(Ot.scale*yt),-(At.scale*vt)),Et.transform(Ot.scale,0,0,At.scale,0,0),Rt.save(),this.clipBbox(Et,yt,vt,St,jt),Et.baseTransform=(0,a.getCurrentTransform)(Et.ctx),Et.executeOperatorList(ot),Et.endDrawing(),{canvas:Mt.canvas,scaleX:Ot.scale,scaleY:At.scale,offsetX:yt,offsetY:vt}}getSizeAndScale(tt,ot,lt){tt=Math.abs(tt);const rt=Math.max(it.MAX_PATTERN_SIZE,ot);let ct=Math.ceil(tt*lt);return ct>=rt?ct=rt:lt=ct/tt,{scale:lt,size:ct}}clipBbox(tt,ot,lt,rt,ct){const at=rt-ot,ut=ct-lt;tt.ctx.rect(ot,lt,at,ut),tt.current.updateRectMinMax((0,a.getCurrentTransform)(tt.ctx),[ot,lt,rt,ct]),tt.clip(),tt.endPath()}setFillAndStrokeStyleToContext(tt,ot,lt){const rt=tt.ctx,ct=tt.current;switch(ot){case st.COLORED:const at=this.ctx;rt.fillStyle=at.fillStyle,rt.strokeStyle=at.strokeStyle,ct.fillColor=at.fillStyle,ct.strokeColor=at.strokeStyle;break;case st.UNCOLORED:const ut=o.Util.makeHexColor(lt[0],lt[1],lt[2]);rt.fillStyle=ut,rt.strokeStyle=ut,ct.fillColor=ut,ct.strokeColor=ut;break;default:throw new o.FormatError(`Unsupported paint type: ${ot}`)}}getPattern(tt,ot,lt,rt){let ct=lt;rt!==c.SHADING&&(ct=o.Util.transform(ct,ot.baseTransform),this.matrix&&(ct=o.Util.transform(ct,this.matrix)));const at=this.createPatternCanvas(ot);let ut=new DOMMatrix(ct);ut=ut.translate(at.offsetX,at.offsetY),ut=ut.scale(1/at.scaleX,1/at.scaleY);const ft=tt.createPattern(at.canvas,"repeat");return ft.setTransform(ut),ft}};On(it,"MAX_PATTERN_SIZE",3e3);let nt=it;s.TilingPattern=nt},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.convertBlackAndWhiteToRGBA=c,s.convertToRGBA=a,s.grayToRGBA=h;var o=i(1);function a(g){switch(g.kind){case o.ImageKind.GRAYSCALE_1BPP:return c(g);case o.ImageKind.RGB_24BPP:return d(g)}return null}function c({src:g,srcPos:b=0,dest:_,width:$,height:et,nonBlackColor:_e=4294967295,inverseDecode:st=!1}){const nt=o.FeatureTest.isLittleEndian?4278190080:255,[it,j]=st?[_e,nt]:[nt,_e],tt=$>>3,ot=$&7,lt=g.length;_=new Uint32Array(_.buffer);let rt=0;for(let ct=0;ct<et;ct++){for(const ut=b+tt;b<ut;b++){const ft=b<lt?g[b]:255;_[rt++]=ft&128?j:it,_[rt++]=ft&64?j:it,_[rt++]=ft&32?j:it,_[rt++]=ft&16?j:it,_[rt++]=ft&8?j:it,_[rt++]=ft&4?j:it,_[rt++]=ft&2?j:it,_[rt++]=ft&1?j:it}if(ot===0)continue;const at=b<lt?g[b++]:255;for(let ut=0;ut<ot;ut++)_[rt++]=at&1<<7-ut?j:it}return{srcPos:b,destPos:rt}}function d({src:g,srcPos:b=0,dest:_,destPos:$=0,width:et,height:_e}){let st=0;const nt=g.length>>2,it=new Uint32Array(g.buffer,b,nt);if(o.FeatureTest.isLittleEndian){for(;st<nt-2;st+=3,$+=4){const j=it[st],tt=it[st+1],ot=it[st+2];_[$]=j|4278190080,_[$+1]=j>>>24|tt<<8|4278190080,_[$+2]=tt>>>16|ot<<16|4278190080,_[$+3]=ot>>>8|4278190080}for(let j=st*4,tt=g.length;j<tt;j+=3)_[$++]=g[j]|g[j+1]<<8|g[j+2]<<16|4278190080}else{for(;st<nt-2;st+=3,$+=4){const j=it[st],tt=it[st+1],ot=it[st+2];_[$]=j|255,_[$+1]=j<<24|tt>>>8|255,_[$+2]=tt<<16|ot>>>16|255,_[$+3]=ot<<8|255}for(let j=st*4,tt=g.length;j<tt;j+=3)_[$++]=g[j]<<24|g[j+1]<<16|g[j+2]<<8|255}return{srcPos:b,destPos:$}}function h(g,b){if(o.FeatureTest.isLittleEndian)for(let _=0,$=g.length;_<$;_++)b[_]=g[_]*65793|4278190080;else for(let _=0,$=g.length;_<$;_++)b[_]=g[_]*16843008|255}},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const i=Object.create(null);s.GlobalWorkerOptions=i,i.workerPort=null,i.workerSrc=""},(e,s,i)=>{var g,fs,ps,dr;Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var o=i(1);const a={DATA:1,ERROR:2},c={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(et){switch(et instanceof Error||typeof et=="object"&&et!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),et.name){case"AbortException":return new o.AbortException(et.message);case"MissingPDFException":return new o.MissingPDFException(et.message);case"PasswordException":return new o.PasswordException(et.message,et.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(et.message,et.status);case"UnknownErrorException":return new o.UnknownErrorException(et.message,et.details);default:return new o.UnknownErrorException(et.message,et.toString())}}class h{constructor(_e,st,nt){tn(this,g);this.sourceName=_e,this.targetName=st,this.comObj=nt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=it=>{const j=it.data;if(j.targetName!==this.sourceName)return;if(j.stream){qt(this,g,ps).call(this,j);return}if(j.callback){const ot=j.callbackId,lt=this.callbackCapabilities[ot];if(!lt)throw new Error(`Cannot resolve callback ${ot}`);if(delete this.callbackCapabilities[ot],j.callback===a.DATA)lt.resolve(j.data);else if(j.callback===a.ERROR)lt.reject(d(j.reason));else throw new Error("Unexpected callback case");return}const tt=this.actionHandler[j.action];if(!tt)throw new Error(`Unknown action from worker: ${j.action}`);if(j.callbackId){const ot=this.sourceName,lt=j.sourceName;new Promise(function(rt){rt(tt(j.data))}).then(function(rt){nt.postMessage({sourceName:ot,targetName:lt,callback:a.DATA,callbackId:j.callbackId,data:rt})},function(rt){nt.postMessage({sourceName:ot,targetName:lt,callback:a.ERROR,callbackId:j.callbackId,reason:d(rt)})});return}if(j.streamId){qt(this,g,fs).call(this,j);return}tt(j.data)},nt.addEventListener("message",this._onComObjOnMessage)}on(_e,st){const nt=this.actionHandler;if(nt[_e])throw new Error(`There is already an actionName called "${_e}"`);nt[_e]=st}send(_e,st,nt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,data:st},nt)}sendWithPromise(_e,st,nt){const it=this.callbackId++,j=new o.PromiseCapability;this.callbackCapabilities[it]=j;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_e,callbackId:it,data:st},nt)}catch(tt){j.reject(tt)}return j.promise}sendWithStream(_e,st,nt,it){const j=this.streamId++,tt=this.sourceName,ot=this.targetName,lt=this.comObj;return new ReadableStream({start:rt=>{const ct=new o.PromiseCapability;return this.streamControllers[j]={controller:rt,startCall:ct,pullCall:null,cancelCall:null,isClosed:!1},lt.postMessage({sourceName:tt,targetName:ot,action:_e,streamId:j,data:st,desiredSize:rt.desiredSize},it),ct.promise},pull:rt=>{const ct=new o.PromiseCapability;return this.streamControllers[j].pullCall=ct,lt.postMessage({sourceName:tt,targetName:ot,stream:c.PULL,streamId:j,desiredSize:rt.desiredSize}),ct.promise},cancel:rt=>{(0,o.assert)(rt instanceof Error,"cancel must have a valid reason");const ct=new o.PromiseCapability;return this.streamControllers[j].cancelCall=ct,this.streamControllers[j].isClosed=!0,lt.postMessage({sourceName:tt,targetName:ot,stream:c.CANCEL,streamId:j,reason:d(rt)}),ct.promise}},nt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}g=new WeakSet,fs=function(_e){const st=_e.streamId,nt=this.sourceName,it=_e.sourceName,j=this.comObj,tt=this,ot=this.actionHandler[_e.action],lt={enqueue(rt,ct=1,at){if(this.isCancelled)return;const ut=this.desiredSize;this.desiredSize-=ct,ut>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),j.postMessage({sourceName:nt,targetName:it,stream:c.ENQUEUE,streamId:st,chunk:rt},at)},close(){this.isCancelled||(this.isCancelled=!0,j.postMessage({sourceName:nt,targetName:it,stream:c.CLOSE,streamId:st}),delete tt.streamSinks[st])},error(rt){(0,o.assert)(rt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,j.postMessage({sourceName:nt,targetName:it,stream:c.ERROR,streamId:st,reason:d(rt)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:_e.desiredSize,ready:null};lt.sinkCapability.resolve(),lt.ready=lt.sinkCapability.promise,this.streamSinks[st]=lt,new Promise(function(rt){rt(ot(_e.data,lt))}).then(function(){j.postMessage({sourceName:nt,targetName:it,stream:c.START_COMPLETE,streamId:st,success:!0})},function(rt){j.postMessage({sourceName:nt,targetName:it,stream:c.START_COMPLETE,streamId:st,reason:d(rt)})})},ps=function(_e){const st=_e.streamId,nt=this.sourceName,it=_e.sourceName,j=this.comObj,tt=this.streamControllers[st],ot=this.streamSinks[st];switch(_e.stream){case c.START_COMPLETE:_e.success?tt.startCall.resolve():tt.startCall.reject(d(_e.reason));break;case c.PULL_COMPLETE:_e.success?tt.pullCall.resolve():tt.pullCall.reject(d(_e.reason));break;case c.PULL:if(!ot){j.postMessage({sourceName:nt,targetName:it,stream:c.PULL_COMPLETE,streamId:st,success:!0});break}ot.desiredSize<=0&&_e.desiredSize>0&&ot.sinkCapability.resolve(),ot.desiredSize=_e.desiredSize,new Promise(function(lt){var rt;lt((rt=ot.onPull)==null?void 0:rt.call(ot))}).then(function(){j.postMessage({sourceName:nt,targetName:it,stream:c.PULL_COMPLETE,streamId:st,success:!0})},function(lt){j.postMessage({sourceName:nt,targetName:it,stream:c.PULL_COMPLETE,streamId:st,reason:d(lt)})});break;case c.ENQUEUE:if((0,o.assert)(tt,"enqueue should have stream controller"),tt.isClosed)break;tt.controller.enqueue(_e.chunk);break;case c.CLOSE:if((0,o.assert)(tt,"close should have stream controller"),tt.isClosed)break;tt.isClosed=!0,tt.controller.close(),qt(this,g,dr).call(this,tt,st);break;case c.ERROR:(0,o.assert)(tt,"error should have stream controller"),tt.controller.error(d(_e.reason)),qt(this,g,dr).call(this,tt,st);break;case c.CANCEL_COMPLETE:_e.success?tt.cancelCall.resolve():tt.cancelCall.reject(d(_e.reason)),qt(this,g,dr).call(this,tt,st);break;case c.CANCEL:if(!ot)break;new Promise(function(lt){var rt;lt((rt=ot.onCancel)==null?void 0:rt.call(ot,d(_e.reason)))}).then(function(){j.postMessage({sourceName:nt,targetName:it,stream:c.CANCEL_COMPLETE,streamId:st,success:!0})},function(lt){j.postMessage({sourceName:nt,targetName:it,stream:c.CANCEL_COMPLETE,streamId:st,reason:d(lt)})}),ot.sinkCapability.reject(d(_e.reason)),ot.isCancelled=!0,delete this.streamSinks[st];break;default:throw new Error("Unexpected stream case")}},dr=async function(_e,st){var nt,it,j;await Promise.allSettled([(nt=_e.startCall)==null?void 0:nt.promise,(it=_e.pullCall)==null?void 0:it.promise,(j=_e.cancelCall)==null?void 0:j.promise]),delete this.streamControllers[st]},s.MessageHandler=h},(e,s,i)=>{var c,d;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var o=i(1);class a{constructor({parsedData:g,rawData:b}){tn(this,c);tn(this,d);rn(this,c,g),rn(this,d,b)}getRaw(){return gt(this,d)}get(g){return gt(this,c).get(g)??null}getAll(){return(0,o.objectFromMap)(gt(this,c))}has(g){return gt(this,c).has(g)}}c=new WeakMap,d=new WeakMap,s.Metadata=a},(e,s,i)=>{var g,b,_,$,et,_e,Nr;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var o=i(1),a=i(8);const c=Symbol("INTERNAL");class d{constructor(it,j){tn(this,g,!0);this.name=it,this.intent=j}get visible(){return gt(this,g)}_setVisible(it,j){it!==c&&(0,o.unreachable)("Internal method `_setVisible` called."),rn(this,g,j)}}g=new WeakMap;class h{constructor(it){tn(this,_e);tn(this,b,null);tn(this,_,new Map);tn(this,$,null);tn(this,et,null);if(this.name=null,this.creator=null,it!==null){this.name=it.name,this.creator=it.creator,rn(this,et,it.order);for(const j of it.groups)gt(this,_).set(j.id,new d(j.name,j.intent));if(it.baseState==="OFF")for(const j of gt(this,_).values())j._setVisible(c,!1);for(const j of it.on)gt(this,_).get(j)._setVisible(c,!0);for(const j of it.off)gt(this,_).get(j)._setVisible(c,!1);rn(this,$,this.getHash())}}isVisible(it){if(gt(this,_).size===0)return!0;if(!it)return(0,o.warn)("Optional content group not defined."),!0;if(it.type==="OCG")return gt(this,_).has(it.id)?gt(this,_).get(it.id).visible:((0,o.warn)(`Optional content group not found: ${it.id}`),!0);if(it.type==="OCMD"){if(it.expression)return qt(this,_e,Nr).call(this,it.expression);if(!it.policy||it.policy==="AnyOn"){for(const j of it.ids){if(!gt(this,_).has(j))return(0,o.warn)(`Optional content group not found: ${j}`),!0;if(gt(this,_).get(j).visible)return!0}return!1}else if(it.policy==="AllOn"){for(const j of it.ids){if(!gt(this,_).has(j))return(0,o.warn)(`Optional content group not found: ${j}`),!0;if(!gt(this,_).get(j).visible)return!1}return!0}else if(it.policy==="AnyOff"){for(const j of it.ids){if(!gt(this,_).has(j))return(0,o.warn)(`Optional content group not found: ${j}`),!0;if(!gt(this,_).get(j).visible)return!0}return!1}else if(it.policy==="AllOff"){for(const j of it.ids){if(!gt(this,_).has(j))return(0,o.warn)(`Optional content group not found: ${j}`),!0;if(gt(this,_).get(j).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${it.policy}.`),!0}return(0,o.warn)(`Unknown group type ${it.type}.`),!0}setVisibility(it,j=!0){if(!gt(this,_).has(it)){(0,o.warn)(`Optional content group not found: ${it}`);return}gt(this,_).get(it)._setVisible(c,!!j),rn(this,b,null)}get hasInitialVisibility(){return gt(this,$)===null||this.getHash()===gt(this,$)}getOrder(){return gt(this,_).size?gt(this,et)?gt(this,et).slice():[...gt(this,_).keys()]:null}getGroups(){return gt(this,_).size>0?(0,o.objectFromMap)(gt(this,_)):null}getGroup(it){return gt(this,_).get(it)||null}getHash(){if(gt(this,b)!==null)return gt(this,b);const it=new a.MurmurHash3_64;for(const[j,tt]of gt(this,_))it.update(`${j}:${tt.visible}`);return rn(this,b,it.hexdigest())}}b=new WeakMap,_=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakSet,Nr=function(it){const j=it.length;if(j<2)return!0;const tt=it[0];for(let ot=1;ot<j;ot++){const lt=it[ot];let rt;if(Array.isArray(lt))rt=qt(this,_e,Nr).call(this,lt);else if(gt(this,_).has(lt))rt=gt(this,_).get(lt).visible;else return(0,o.warn)(`Optional content group not found: ${lt}`),!0;switch(tt){case"And":if(!rt)return!1;break;case"Or":if(rt)return!0;break;case"Not":return!rt;default:return!0}}return tt==="And"},s.OptionalContentConfig=h},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var o=i(1),a=i(6);class c{constructor({length:b,initialData:_,progressiveDone:$=!1,contentDispositionFilename:et=null,disableRange:_e=!1,disableStream:st=!1},nt){if((0,o.assert)(nt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=$,this._contentDispositionFilename=et,(_==null?void 0:_.length)>0){const it=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;this._queuedChunks.push(it)}this._pdfDataRangeTransport=nt,this._isStreamingSupported=!st,this._isRangeSupported=!_e,this._contentLength=b,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((it,j)=>{this._onReceiveData({begin:it,chunk:j})}),this._pdfDataRangeTransport.addProgressListener((it,j)=>{this._onProgress({loaded:it,total:j})}),this._pdfDataRangeTransport.addProgressiveReadListener(it=>{this._onReceiveData({chunk:it})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:b,chunk:_}){const $=_ instanceof Uint8Array&&_.byteLength===_.buffer.byteLength?_.buffer:new Uint8Array(_).buffer;if(b===void 0)this._fullRequestReader?this._fullRequestReader._enqueue($):this._queuedChunks.push($);else{const et=this._rangeReaders.some(function(_e){return _e._begin!==b?!1:(_e._enqueue($),!0)});(0,o.assert)(et,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}_onProgress(b){var _,$,et,_e;b.total===void 0?($=(_=this._rangeReaders[0])==null?void 0:_.onProgress)==null||$.call(_,{loaded:b.loaded}):(_e=(et=this._fullRequestReader)==null?void 0:et.onProgress)==null||_e.call(et,{loaded:b.loaded,total:b.total})}_onProgressiveDone(){var b;(b=this._fullRequestReader)==null||b.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const _=this._rangeReaders.indexOf(b);_>=0&&this._rangeReaders.splice(_,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new d(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,_){if(_<=this._progressiveDataLength)return null;const $=new h(this,b,_);return this._pdfDataRangeTransport.requestDataRange(b,_),this._rangeReaders.push($),$}cancelAllRequests(b){var _;(_=this._fullRequestReader)==null||_.cancel(b);for(const $ of this._rangeReaders.slice(0))$.cancel(b);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=c;class d{constructor(b,_,$=!1,et=null){this._stream=b,this._done=$||!1,this._filename=(0,a.isPdfFile)(et)?et:null,this._queuedChunks=_||[],this._loaded=0;for(const _e of this._queuedChunks)this._loaded+=_e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(b,_,$){this._stream=b,this._begin=_,this._end=$,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const b=new o.PromiseCapability;return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var o=i(1),a=i(20);function c($,et,_e){return{method:"GET",headers:$,signal:_e.signal,mode:"cors",credentials:et?"include":"same-origin",redirect:"follow"}}function d($){const et=new Headers;for(const _e in $){const st=$[_e];st!==void 0&&et.append(_e,st)}return et}function h($){return $ instanceof Uint8Array?$.buffer:$ instanceof ArrayBuffer?$:((0,o.warn)(`getArrayBuffer - unexpected data format: ${$}`),new Uint8Array($).buffer)}class g{constructor(et){this.source=et,this.isHttp=/^https?:/i.test(et.url),this.httpHeaders=this.isHttp&&et.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var et;return((et=this._fullRequestReader)==null?void 0:et._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new b(this),this._fullRequestReader}getRangeReader(et,_e){if(_e<=this._progressiveDataLength)return null;const st=new _(this,et,_e);return this._rangeRequestReaders.push(st),st}cancelAllRequests(et){var _e;(_e=this._fullRequestReader)==null||_e.cancel(et);for(const st of this._rangeRequestReaders.slice(0))st.cancel(et)}}s.PDFFetchStream=g;class b{constructor(et){this._stream=et,this._reader=null,this._loaded=0,this._filename=null;const _e=et.source;this._withCredentials=_e.withCredentials||!1,this._contentLength=_e.length,this._headersCapability=new o.PromiseCapability,this._disableRange=_e.disableRange||!1,this._rangeChunkSize=_e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_e.disableStream,this._isRangeSupported=!_e.disableRange,this._headers=d(this._stream.httpHeaders);const st=_e.url;fetch(st,c(this._headers,this._withCredentials,this._abortController)).then(nt=>{if(!(0,a.validateResponseStatus)(nt.status))throw(0,a.createResponseStatusError)(nt.status,st);this._reader=nt.body.getReader(),this._headersCapability.resolve();const it=ot=>nt.headers.get(ot),{allowRangeRequests:j,suggestedLength:tt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:it,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=j,this._contentLength=tt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(it),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var st;await this._headersCapability.promise;const{value:et,done:_e}=await this._reader.read();return _e?{value:et,done:_e}:(this._loaded+=et.byteLength,(st=this.onProgress)==null||st.call(this,{loaded:this._loaded,total:this._contentLength}),{value:h(et),done:!1})}cancel(et){var _e;(_e=this._reader)==null||_e.cancel(et),this._abortController.abort()}}class _{constructor(et,_e,st){this._stream=et,this._reader=null,this._loaded=0;const nt=et.source;this._withCredentials=nt.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!nt.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_e}-${st-1}`);const it=nt.url;fetch(it,c(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,a.validateResponseStatus)(j.status))throw(0,a.createResponseStatusError)(j.status,it);this._readCapability.resolve(),this._reader=j.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var st;await this._readCapability.promise;const{value:et,done:_e}=await this._reader.read();return _e?{value:et,done:_e}:(this._loaded+=et.byteLength,(st=this.onProgress)==null||st.call(this,{loaded:this._loaded}),{value:h(et),done:!1})}cancel(et){var _e;(_e=this._reader)==null||_e.cancel(et),this._abortController.abort()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=g,s.extractFilenameFromHeader=h,s.validateRangeRequestCapabilities=d,s.validateResponseStatus=b;var o=i(1),a=i(21),c=i(6);function d({getResponseHeader:_,isHttp:$,rangeChunkSize:et,disableRange:_e}){const st={allowRangeRequests:!1,suggestedLength:void 0},nt=parseInt(_("Content-Length"),10);return!Number.isInteger(nt)||(st.suggestedLength=nt,nt<=2*et)||_e||!$||_("Accept-Ranges")!=="bytes"||(_("Content-Encoding")||"identity")!=="identity"||(st.allowRangeRequests=!0),st}function h(_){const $=_("Content-Disposition");if($){let et=(0,a.getFilenameFromContentDispositionHeader)($);if(et.includes("%"))try{et=decodeURIComponent(et)}catch{}if((0,c.isPdfFile)(et))return et}return null}function g(_,$){return _===404||_===0&&$.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+$+'".'):new o.UnexpectedResponseException(`Unexpected server response (${_}) while retrieving PDF "${$}".`,_)}function b(_){return _===200||_===206}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=a;var o=i(1);function a(c){let d=!0,h=g("filename\\*","i").exec(c);if(h){h=h[1];let nt=et(h);return nt=unescape(nt),nt=_e(nt),nt=st(nt),_(nt)}if(h=$(c),h){const nt=st(h);return _(nt)}if(h=g("filename","i").exec(c),h){h=h[1];let nt=et(h);return nt=st(nt),_(nt)}function g(nt,it){return new RegExp("(?:^|;)\\s*"+nt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',it)}function b(nt,it){if(nt){if(!/^[\x00-\xFF]+$/.test(it))return it;try{const j=new TextDecoder(nt,{fatal:!0}),tt=(0,o.stringToBytes)(it);it=j.decode(tt),d=!1}catch{}}return it}function _(nt){return d&&/[\x80-\xff]/.test(nt)&&(nt=b("utf-8",nt),d&&(nt=b("iso-8859-1",nt))),nt}function $(nt){const it=[];let j;const tt=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(j=tt.exec(nt))!==null;){let[,lt,rt,ct]=j;if(lt=parseInt(lt,10),lt in it){if(lt===0)break;continue}it[lt]=[rt,ct]}const ot=[];for(let lt=0;lt<it.length&&lt in it;++lt){let[rt,ct]=it[lt];ct=et(ct),rt&&(ct=unescape(ct),lt===0&&(ct=_e(ct))),ot.push(ct)}return ot.join("")}function et(nt){if(nt.startsWith('"')){const it=nt.slice(1).split('\\"');for(let j=0;j<it.length;++j){const tt=it[j].indexOf('"');tt!==-1&&(it[j]=it[j].slice(0,tt),it.length=j+1),it[j]=it[j].replaceAll(/\\(.)/g,"$1")}nt=it.join('"')}return nt}function _e(nt){const it=nt.indexOf("'");if(it===-1)return nt;const j=nt.slice(0,it),ot=nt.slice(it+1).replace(/^[^']*'/,"");return b(j,ot)}function st(nt){return!nt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(nt)?nt:nt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(it,j,tt,ot){if(tt==="q"||tt==="Q")return ot=ot.replaceAll("_"," "),ot=ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(lt,rt){return String.fromCharCode(parseInt(rt,16))}),b(j,ot);try{ot=atob(ot)}catch{}return b(j,ot)})}return""}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var o=i(1),a=i(20);const c=200,d=206;function h(et){const _e=et.response;return typeof _e!="string"?_e:(0,o.stringToBytes)(_e).buffer}class g{constructor(_e,st={}){this.url=_e,this.isHttp=/^https?:/i.test(_e),this.httpHeaders=this.isHttp&&st.httpHeaders||Object.create(null),this.withCredentials=st.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_e,st,nt){const it={begin:_e,end:st};for(const j in nt)it[j]=nt[j];return this.request(it)}requestFull(_e){return this.request(_e)}request(_e){const st=new XMLHttpRequest,nt=this.currXhrId++,it=this.pendingRequests[nt]={xhr:st};st.open("GET",this.url),st.withCredentials=this.withCredentials;for(const j in this.httpHeaders){const tt=this.httpHeaders[j];tt!==void 0&&st.setRequestHeader(j,tt)}return this.isHttp&&"begin"in _e&&"end"in _e?(st.setRequestHeader("Range",`bytes=${_e.begin}-${_e.end-1}`),it.expectedStatus=d):it.expectedStatus=c,st.responseType="arraybuffer",_e.onError&&(st.onerror=function(j){_e.onError(st.status)}),st.onreadystatechange=this.onStateChange.bind(this,nt),st.onprogress=this.onProgress.bind(this,nt),it.onHeadersReceived=_e.onHeadersReceived,it.onDone=_e.onDone,it.onError=_e.onError,it.onProgress=_e.onProgress,st.send(null),nt}onProgress(_e,st){var it;const nt=this.pendingRequests[_e];nt&&((it=nt.onProgress)==null||it.call(nt,st))}onStateChange(_e,st){var lt,rt,ct;const nt=this.pendingRequests[_e];if(!nt)return;const it=nt.xhr;if(it.readyState>=2&&nt.onHeadersReceived&&(nt.onHeadersReceived(),delete nt.onHeadersReceived),it.readyState!==4||!(_e in this.pendingRequests))return;if(delete this.pendingRequests[_e],it.status===0&&this.isHttp){(lt=nt.onError)==null||lt.call(nt,it.status);return}const j=it.status||c;if(!(j===c&&nt.expectedStatus===d)&&j!==nt.expectedStatus){(rt=nt.onError)==null||rt.call(nt,it.status);return}const ot=h(it);if(j===d){const at=it.getResponseHeader("Content-Range"),ut=/bytes (\d+)-(\d+)\/(\d+)/.exec(at);nt.onDone({begin:parseInt(ut[1],10),chunk:ot})}else ot?nt.onDone({begin:0,chunk:ot}):(ct=nt.onError)==null||ct.call(nt,it.status)}getRequestXhr(_e){return this.pendingRequests[_e].xhr}isPendingRequest(_e){return _e in this.pendingRequests}abortRequest(_e){const st=this.pendingRequests[_e].xhr;delete this.pendingRequests[_e],st.abort()}}class b{constructor(_e){this._source=_e,this._manager=new g(_e.url,{httpHeaders:_e.httpHeaders,withCredentials:_e.withCredentials}),this._rangeChunkSize=_e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_e){const st=this._rangeRequestReaders.indexOf(_e);st>=0&&this._rangeRequestReaders.splice(st,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _(this._manager,this._source),this._fullRequestReader}getRangeReader(_e,st){const nt=new $(this._manager,_e,st);return nt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(nt),nt}cancelAllRequests(_e){var st;(st=this._fullRequestReader)==null||st.cancel(_e);for(const nt of this._rangeRequestReaders.slice(0))nt.cancel(_e)}}s.PDFNetworkStream=b;class _{constructor(_e,st){this._manager=_e;const nt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=st.url,this._fullRequestId=_e.requestFull(nt),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=st.disableRange||!1,this._contentLength=st.length,this._rangeChunkSize=st.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _e=this._fullRequestId,st=this._manager.getRequestXhr(_e),nt=tt=>st.getResponseHeader(tt),{allowRangeRequests:it,suggestedLength:j}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:nt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});it&&(this._isRangeSupported=!0),this._contentLength=j||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(nt),this._isRangeSupported&&this._manager.abortRequest(_e),this._headersReceivedCapability.resolve()}_onDone(_e){if(_e&&(this._requests.length>0?this._requests.shift().resolve({value:_e.chunk,done:!1}):this._cachedChunks.push(_e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_e){this._storedError=(0,a.createResponseStatusError)(_e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const st of this._requests)st.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_e){var st;(st=this.onProgress)==null||st.call(this,{loaded:_e.loaded,total:_e.lengthComputable?_e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _e=new o.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0,this._headersReceivedCapability.reject(_e);for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ${constructor(_e,st,nt){this._manager=_e;const it={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_e.url,this._requestId=_e.requestRange(st,nt,it),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var _e;(_e=this.onClosed)==null||_e.call(this,this)}_onDone(_e){const st=_e.chunk;this._requests.length>0?this._requests.shift().resolve({value:st,done:!1}):this._queuedChunk=st,this._done=!0;for(const nt of this._requests)nt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_e){this._storedError=(0,a.createResponseStatusError)(_e,this._url);for(const st of this._requests)st.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_e){var st;this.isStreamingSupported||(st=this.onProgress)==null||st.call(this,{loaded:_e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const st=this._queuedChunk;return this._queuedChunk=null,{value:st,done:!1}}if(this._done)return{value:void 0,done:!0};const _e=new o.PromiseCapability;return this._requests.push(_e),_e.promise}cancel(_e){this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var o=i(1),a=i(20);const c=/^file:\/\/\/[a-zA-Z]:\//;function d(nt){const it=require$$5,j=it.parse(nt);return j.protocol==="file:"||j.host?j:/^[a-z]:[/\\]/i.test(nt)?it.parse(`file:///${nt}`):(j.host||(j.protocol="file:"),j)}class h{constructor(it){this.source=it,this.url=d(it.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&it.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var it;return((it=this._fullRequestReader)==null?void 0:it._loaded)??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _e(this):new $(this),this._fullRequestReader}getRangeReader(it,j){if(j<=this._progressiveDataLength)return null;const tt=this.isFsUrl?new st(this,it,j):new et(this,it,j);return this._rangeRequestReaders.push(tt),tt}cancelAllRequests(it){var j;(j=this._fullRequestReader)==null||j.cancel(it);for(const tt of this._rangeRequestReaders.slice(0))tt.cancel(it)}}s.PDFNodeStream=h;class g{constructor(it){this._url=it.url,this._done=!1,this._storedError=null,this.onProgress=null;const j=it.source;this._contentLength=j.length,this._loaded=0,this._filename=null,this._disableRange=j.disableRange||!1,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!j.disableStream,this._isRangeSupported=!j.disableRange,this._readableStream=null,this._readCapability=new o.PromiseCapability,this._headersCapability=new o.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const it=this._readableStream.read();return it===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=it.length,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(it).buffer,done:!1})}cancel(it){if(!this._readableStream){this._error(it);return}this._readableStream.destroy(it)}_error(it){this._storedError=it,this._readCapability.resolve()}_setReadableStream(it){this._readableStream=it,it.on("readable",()=>{this._readCapability.resolve()}),it.on("end",()=>{it.destroy(),this._done=!0,this._readCapability.resolve()}),it.on("error",j=>{this._error(j)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class b{constructor(it){this._url=it.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new o.PromiseCapability;const j=it.source;this._isStreamingSupported=!j.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var tt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const it=this._readableStream.read();return it===null?(this._readCapability=new o.PromiseCapability,this.read()):(this._loaded+=it.length,(tt=this.onProgress)==null||tt.call(this,{loaded:this._loaded}),{value:new Uint8Array(it).buffer,done:!1})}cancel(it){if(!this._readableStream){this._error(it);return}this._readableStream.destroy(it)}_error(it){this._storedError=it,this._readCapability.resolve()}_setReadableStream(it){this._readableStream=it,it.on("readable",()=>{this._readCapability.resolve()}),it.on("end",()=>{it.destroy(),this._done=!0,this._readCapability.resolve()}),it.on("error",j=>{this._error(j)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _(nt,it){return{protocol:nt.protocol,auth:nt.auth,host:nt.hostname,port:nt.port,path:nt.path,method:"GET",headers:it}}class $ extends g{constructor(it){super(it);const j=tt=>{if(tt.statusCode===404){const ct=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ct,this._headersCapability.reject(ct);return}this._headersCapability.resolve(),this._setReadableStream(tt);const ot=ct=>this._readableStream.headers[ct.toLowerCase()],{allowRangeRequests:lt,suggestedLength:rt}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:ot,isHttp:it.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=lt,this._contentLength=rt||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(ot)};if(this._request=null,this._url.protocol==="http:"){const tt=require$$5;this._request=tt.request(_(this._url,it.httpHeaders),j)}else{const tt=require$$5;this._request=tt.request(_(this._url,it.httpHeaders),j)}this._request.on("error",tt=>{this._storedError=tt,this._headersCapability.reject(tt)}),this._request.end()}}class et extends b{constructor(it,j,tt){super(it),this._httpHeaders={};for(const lt in it.httpHeaders){const rt=it.httpHeaders[lt];rt!==void 0&&(this._httpHeaders[lt]=rt)}this._httpHeaders.Range=`bytes=${j}-${tt-1}`;const ot=lt=>{if(lt.statusCode===404){const rt=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=rt;return}this._setReadableStream(lt)};if(this._request=null,this._url.protocol==="http:"){const lt=require$$5;this._request=lt.request(_(this._url,this._httpHeaders),ot)}else{const lt=require$$5;this._request=lt.request(_(this._url,this._httpHeaders),ot)}this._request.on("error",lt=>{this._storedError=lt}),this._request.end()}}class _e extends g{constructor(it){super(it);let j=decodeURIComponent(this._url.path);c.test(this._url.href)&&(j=j.replace(/^\//,""));const tt=require$$5;tt.lstat(j,(ot,lt)=>{if(ot){ot.code==="ENOENT"&&(ot=new o.MissingPDFException(`Missing PDF "${j}".`)),this._storedError=ot,this._headersCapability.reject(ot);return}this._contentLength=lt.size,this._setReadableStream(tt.createReadStream(j)),this._headersCapability.resolve()})}}class st extends b{constructor(it,j,tt){super(it);let ot=decodeURIComponent(this._url.path);c.test(this._url.href)&&(ot=ot.replace(/^\//,""));const lt=require$$5;this._setReadableStream(lt.createReadStream(ot,{start:j,end:tt-1}))}}},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var o=i(6),a=i(1);const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},d="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",g=["butt","round","square"],b=["miter","round","bevel"],_=function(lt,rt="",ct=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ct)return URL.createObjectURL(new Blob([lt],{type:rt}));const at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ut=`data:${rt};base64,`;for(let ft=0,Ct=lt.length;ft<Ct;ft+=3){const xt=lt[ft]&255,pt=lt[ft+1]&255,_t=lt[ft+2]&255,mt=xt>>2,Pt=(xt&3)<<4|pt>>4,Ut=ft+1<Ct?(pt&15)<<2|_t>>6:64,Tt=ft+2<Ct?_t&63:64;ut+=at[mt]+at[Pt]+at[Ut]+at[Tt]}return ut},$=function(){const lt=new Uint8Array([137,80,78,71,13,10,26,10]),rt=12,ct=new Int32Array(256);for(let _t=0;_t<256;_t++){let mt=_t;for(let Pt=0;Pt<8;Pt++)mt=mt&1?3988292384^mt>>1&2147483647:mt>>1&2147483647;ct[_t]=mt}function at(_t,mt,Pt){let Ut=-1;for(let Tt=mt;Tt<Pt;Tt++){const Ot=(Ut^_t[Tt])&255,At=ct[Ot];Ut=Ut>>>8^At}return Ut^-1}function ut(_t,mt,Pt,Ut){let Tt=Ut;const Ot=mt.length;Pt[Tt]=Ot>>24&255,Pt[Tt+1]=Ot>>16&255,Pt[Tt+2]=Ot>>8&255,Pt[Tt+3]=Ot&255,Tt+=4,Pt[Tt]=_t.charCodeAt(0)&255,Pt[Tt+1]=_t.charCodeAt(1)&255,Pt[Tt+2]=_t.charCodeAt(2)&255,Pt[Tt+3]=_t.charCodeAt(3)&255,Tt+=4,Pt.set(mt,Tt),Tt+=mt.length;const At=at(Pt,Ut+4,Tt);Pt[Tt]=At>>24&255,Pt[Tt+1]=At>>16&255,Pt[Tt+2]=At>>8&255,Pt[Tt+3]=At&255}function ft(_t,mt,Pt){let Ut=1,Tt=0;for(let Ot=mt;Ot<Pt;++Ot)Ut=(Ut+(_t[Ot]&255))%65521,Tt=(Tt+Ut)%65521;return Tt<<16|Ut}function Ct(_t){if(!a.isNodeJS)return xt(_t);try{const mt=parseInt(process.versions.node)>=8?_t:Buffer.from(_t),Pt=require$$5.deflateSync(mt,{level:9});return Pt instanceof Uint8Array?Pt:new Uint8Array(Pt)}catch(mt){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+mt)}return xt(_t)}function xt(_t){let mt=_t.length;const Pt=65535,Ut=Math.ceil(mt/Pt),Tt=new Uint8Array(2+mt+Ut*5+4);let Ot=0;Tt[Ot++]=120,Tt[Ot++]=156;let At=0;for(;mt>Pt;)Tt[Ot++]=0,Tt[Ot++]=255,Tt[Ot++]=255,Tt[Ot++]=0,Tt[Ot++]=0,Tt.set(_t.subarray(At,At+Pt),Ot),Ot+=Pt,At+=Pt,mt-=Pt;Tt[Ot++]=1,Tt[Ot++]=mt&255,Tt[Ot++]=mt>>8&255,Tt[Ot++]=~mt&65535&255,Tt[Ot++]=(~mt&65535)>>8&255,Tt.set(_t.subarray(At),Ot),Ot+=_t.length-At;const Mt=ft(_t,0,_t.length);return Tt[Ot++]=Mt>>24&255,Tt[Ot++]=Mt>>16&255,Tt[Ot++]=Mt>>8&255,Tt[Ot++]=Mt&255,Tt}function pt(_t,mt,Pt,Ut){const Tt=_t.width,Ot=_t.height;let At,Mt,Rt;const Et=_t.data;switch(mt){case a.ImageKind.GRAYSCALE_1BPP:Mt=0,At=1,Rt=Tt+7>>3;break;case a.ImageKind.RGB_24BPP:Mt=2,At=8,Rt=Tt*3;break;case a.ImageKind.RGBA_32BPP:Mt=6,At=8,Rt=Tt*4;break;default:throw new Error("invalid format")}const yt=new Uint8Array((1+Rt)*Ot);let vt=0,St=0;for(let Yt=0;Yt<Ot;++Yt)yt[vt++]=0,yt.set(Et.subarray(St,St+Rt),vt),St+=Rt,vt+=Rt;if(mt===a.ImageKind.GRAYSCALE_1BPP&&Ut){vt=0;for(let Yt=0;Yt<Ot;Yt++){vt++;for(let Jt=0;Jt<Rt;Jt++)yt[vt++]^=255}}const jt=new Uint8Array([Tt>>24&255,Tt>>16&255,Tt>>8&255,Tt&255,Ot>>24&255,Ot>>16&255,Ot>>8&255,Ot&255,At,Mt,0,0,0]),Ft=Ct(yt),Lt=lt.length+rt*3+jt.length+Ft.length,$t=new Uint8Array(Lt);let Gt=0;return $t.set(lt,Gt),Gt+=lt.length,ut("IHDR",jt,$t,Gt),Gt+=rt+jt.length,ut("IDATA",Ft,$t,Gt),Gt+=rt+Ft.length,ut("IEND",new Uint8Array(0),$t,Gt),_($t,"image/png",Pt)}return function(mt,Pt,Ut){const Tt=mt.kind===void 0?a.ImageKind.GRAYSCALE_1BPP:mt.kind;return pt(mt,Tt,Pt,Ut)}}();class et{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(rt,ct){this.x=rt,this.y=ct}}function _e(lt){let rt=[];const ct=[];for(const at of lt){if(at.fn==="save"){rt.push({fnId:92,fn:"group",items:[]}),ct.push(rt),rt=rt.at(-1).items;continue}at.fn==="restore"?rt=ct.pop():rt.push(at)}return rt}function st(lt){if(Number.isInteger(lt))return lt.toString();const rt=lt.toFixed(10);let ct=rt.length-1;if(rt[ct]!=="0")return rt;do ct--;while(rt[ct]==="0");return rt.substring(0,rt[ct]==="."?ct:ct+1)}function nt(lt){if(lt[4]===0&&lt[5]===0){if(lt[1]===0&&lt[2]===0)return lt[0]===1&&lt[3]===1?"":`scale(${st(lt[0])} ${st(lt[3])})`;if(lt[0]===lt[3]&&lt[1]===-lt[2]){const rt=Math.acos(lt[0])*180/Math.PI;return`rotate(${st(rt)})`}}else if(lt[0]===1&&lt[1]===0&&lt[2]===0&&lt[3]===1)return`translate(${st(lt[4])} ${st(lt[5])})`;return`matrix(${st(lt[0])} ${st(lt[1])} ${st(lt[2])} ${st(lt[3])} ${st(lt[4])} ${st(lt[5])})`}let it=0,j=0,tt=0;class ot{constructor(rt,ct,at=!1){(0,o.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new o.DOMSVGFactory,this.current=new et,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=rt,this.objs=ct,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!at,this._operatorIdMapping=[];for(const ut in a.OPS)this._operatorIdMapping[a.OPS[ut]]=ut}getObject(rt,ct=null){return typeof rt=="string"?rt.startsWith("g_")?this.commonObjs.get(rt):this.objs.get(rt):ct}save(){this.transformStack.push(this.transformMatrix);const rt=this.current;this.extraStack.push(rt),this.current=rt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(rt){this.save(),this.executeOpTree(rt),this.restore()}loadDependencies(rt){const ct=rt.fnArray,at=rt.argsArray;for(let ut=0,ft=ct.length;ut<ft;ut++)if(ct[ut]===a.OPS.dependency)for(const Ct of at[ut]){const xt=Ct.startsWith("g_")?this.commonObjs:this.objs,pt=new Promise(_t=>{xt.get(Ct,_t)});this.current.dependencies.push(pt)}return Promise.all(this.current.dependencies)}transform(rt,ct,at,ut,ft,Ct){const xt=[rt,ct,at,ut,ft,Ct];this.transformMatrix=a.Util.transform(this.transformMatrix,xt),this.tgrp=null}getSVG(rt,ct){this.viewport=ct;const at=this._initialize(ct);return this.loadDependencies(rt).then(()=>(this.transformMatrix=a.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(rt)),at))}convertOpList(rt){const ct=this._operatorIdMapping,at=rt.argsArray,ut=rt.fnArray,ft=[];for(let Ct=0,xt=ut.length;Ct<xt;Ct++){const pt=ut[Ct];ft.push({fnId:pt,fn:ct[pt],args:at[Ct]})}return _e(ft)}executeOpTree(rt){for(const ct of rt){const at=ct.fn,ut=ct.fnId,ft=ct.args;switch(ut|0){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(ft);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(ft[0],ft[1]);break;case a.OPS.setFont:this.setFont(ft);break;case a.OPS.showText:this.showText(ft[0]);break;case a.OPS.showSpacedText:this.showText(ft[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(ft[0],ft[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(ft[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(ft[0]);break;case a.OPS.setHScale:this.setHScale(ft[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]);break;case a.OPS.setTextRise:this.setTextRise(ft[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(ft[0]);break;case a.OPS.setLineWidth:this.setLineWidth(ft[0]);break;case a.OPS.setLineJoin:this.setLineJoin(ft[0]);break;case a.OPS.setLineCap:this.setLineCap(ft[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(ft[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(ft[0],ft[1],ft[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ft[0],ft[1],ft[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(ft);break;case a.OPS.setFillColorN:this.setFillColorN(ft);break;case a.OPS.shadingFill:this.shadingFill(ft[0]);break;case a.OPS.setDash:this.setDash(ft[0],ft[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(ft[0]);break;case a.OPS.setFlatness:this.setFlatness(ft[0]);break;case a.OPS.setGState:this.setGState(ft[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(ft[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ft[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ft[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ft[0],ft[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]);break;case a.OPS.constructPath:this.constructPath(ft[0],ft[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(ct.items);break;default:(0,a.warn)(`Unimplemented operator ${at}`);break}}}setWordSpacing(rt){this.current.wordSpacing=rt}setCharSpacing(rt){this.current.charSpacing=rt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(rt,ct,at,ut,ft,Ct){const xt=this.current;xt.textMatrix=xt.lineMatrix=[rt,ct,at,ut,ft,Ct],xt.textMatrixScale=Math.hypot(rt,ct),xt.x=xt.lineX=0,xt.y=xt.lineY=0,xt.xcoords=[],xt.ycoords=[],xt.tspan=this.svgFactory.createElement("svg:tspan"),xt.tspan.setAttributeNS(null,"font-family",xt.fontFamily),xt.tspan.setAttributeNS(null,"font-size",`${st(xt.fontSize)}px`),xt.tspan.setAttributeNS(null,"y",st(-xt.y)),xt.txtElement=this.svgFactory.createElement("svg:text"),xt.txtElement.append(xt.tspan)}beginText(){const rt=this.current;rt.x=rt.lineX=0,rt.y=rt.lineY=0,rt.textMatrix=a.IDENTITY_MATRIX,rt.lineMatrix=a.IDENTITY_MATRIX,rt.textMatrixScale=1,rt.tspan=this.svgFactory.createElement("svg:tspan"),rt.txtElement=this.svgFactory.createElement("svg:text"),rt.txtgrp=this.svgFactory.createElement("svg:g"),rt.xcoords=[],rt.ycoords=[]}moveText(rt,ct){const at=this.current;at.x=at.lineX+=rt,at.y=at.lineY+=ct,at.xcoords=[],at.ycoords=[],at.tspan=this.svgFactory.createElement("svg:tspan"),at.tspan.setAttributeNS(null,"font-family",at.fontFamily),at.tspan.setAttributeNS(null,"font-size",`${st(at.fontSize)}px`),at.tspan.setAttributeNS(null,"y",st(-at.y))}showText(rt){const ct=this.current,at=ct.font,ut=ct.fontSize;if(ut===0)return;const ft=ct.fontSizeScale,Ct=ct.charSpacing,xt=ct.wordSpacing,pt=ct.fontDirection,_t=ct.textHScale*pt,mt=at.vertical,Pt=mt?1:-1,Ut=at.defaultVMetrics,Tt=ut*ct.fontMatrix[0];let Ot=0;for(const Rt of rt){if(Rt===null){Ot+=pt*xt;continue}else if(typeof Rt=="number"){Ot+=Pt*Rt*ut/1e3;continue}const Et=(Rt.isSpace?xt:0)+Ct,yt=Rt.fontChar;let vt,St,jt=Rt.width;if(mt){let Lt;const $t=Rt.vmetric||Ut;Lt=Rt.vmetric?$t[1]:jt*.5,Lt=-Lt*Tt;const Gt=$t[2]*Tt;jt=$t?-$t[0]:jt,vt=Lt/ft,St=(Ot+Gt)/ft}else vt=Ot/ft,St=0;(Rt.isInFont||at.missingFile)&&(ct.xcoords.push(ct.x+vt),mt&&ct.ycoords.push(-ct.y+St),ct.tspan.textContent+=yt);const Ft=mt?jt*Tt-Et*pt:jt*Tt+Et*pt;Ot+=Ft}ct.tspan.setAttributeNS(null,"x",ct.xcoords.map(st).join(" ")),mt?ct.tspan.setAttributeNS(null,"y",ct.ycoords.map(st).join(" ")):ct.tspan.setAttributeNS(null,"y",st(-ct.y)),mt?ct.y-=Ot:ct.x+=Ot*_t,ct.tspan.setAttributeNS(null,"font-family",ct.fontFamily),ct.tspan.setAttributeNS(null,"font-size",`${st(ct.fontSize)}px`),ct.fontStyle!==c.fontStyle&&ct.tspan.setAttributeNS(null,"font-style",ct.fontStyle),ct.fontWeight!==c.fontWeight&&ct.tspan.setAttributeNS(null,"font-weight",ct.fontWeight);const At=ct.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;if(At===a.TextRenderingMode.FILL||At===a.TextRenderingMode.FILL_STROKE?(ct.fillColor!==c.fillColor&&ct.tspan.setAttributeNS(null,"fill",ct.fillColor),ct.fillAlpha<1&&ct.tspan.setAttributeNS(null,"fill-opacity",ct.fillAlpha)):ct.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?ct.tspan.setAttributeNS(null,"fill","transparent"):ct.tspan.setAttributeNS(null,"fill","none"),At===a.TextRenderingMode.STROKE||At===a.TextRenderingMode.FILL_STROKE){const Rt=1/(ct.textMatrixScale||1);this._setStrokeAttributes(ct.tspan,Rt)}let Mt=ct.textMatrix;ct.textRise!==0&&(Mt=Mt.slice(),Mt[5]+=ct.textRise),ct.txtElement.setAttributeNS(null,"transform",`${nt(Mt)} scale(${st(_t)}, -1)`),ct.txtElement.setAttributeNS(d,"xml:space","preserve"),ct.txtElement.append(ct.tspan),ct.txtgrp.append(ct.txtElement),this._ensureTransformGroup().append(ct.txtElement)}setLeadingMoveText(rt,ct){this.setLeading(-ct),this.moveText(rt,ct)}addFontStyle(rt){if(!rt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ct=_(rt.data,rt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${rt.loadedName}"; src: url(${ct}); }
`}setFont(rt){const ct=this.current,at=this.commonObjs.get(rt[0]);let ut=rt[1];ct.font=at,this.embedFonts&&!at.missingFile&&!this.embeddedFonts[at.loadedName]&&(this.addFontStyle(at),this.embeddedFonts[at.loadedName]=at),ct.fontMatrix=at.fontMatrix||a.FONT_IDENTITY_MATRIX;let ft="normal";at.black?ft="900":at.bold&&(ft="bold");const Ct=at.italic?"italic":"normal";ut<0?(ut=-ut,ct.fontDirection=-1):ct.fontDirection=1,ct.fontSize=ut,ct.fontFamily=at.loadedName,ct.fontWeight=ft,ct.fontStyle=Ct,ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.tspan.setAttributeNS(null,"y",st(-ct.y)),ct.xcoords=[],ct.ycoords=[]}endText(){var ct;const rt=this.current;rt.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&((ct=rt.txtElement)!=null&&ct.hasChildNodes())&&(rt.element=rt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(rt){rt>0&&(this.current.lineWidth=rt)}setLineCap(rt){this.current.lineCap=g[rt]}setLineJoin(rt){this.current.lineJoin=b[rt]}setMiterLimit(rt){this.current.miterLimit=rt}setStrokeAlpha(rt){this.current.strokeAlpha=rt}setStrokeRGBColor(rt,ct,at){this.current.strokeColor=a.Util.makeHexColor(rt,ct,at)}setFillAlpha(rt){this.current.fillAlpha=rt}setFillRGBColor(rt,ct,at){this.current.fillColor=a.Util.makeHexColor(rt,ct,at),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(rt){this.current.strokeColor=this._makeColorN_Pattern(rt)}setFillColorN(rt){this.current.fillColor=this._makeColorN_Pattern(rt)}shadingFill(rt){const{width:ct,height:at}=this.viewport,ut=a.Util.inverseTransform(this.transformMatrix),[ft,Ct,xt,pt]=a.Util.getAxialAlignedBoundingBox([0,0,ct,at],ut),_t=this.svgFactory.createElement("svg:rect");_t.setAttributeNS(null,"x",ft),_t.setAttributeNS(null,"y",Ct),_t.setAttributeNS(null,"width",xt-ft),_t.setAttributeNS(null,"height",pt-Ct),_t.setAttributeNS(null,"fill",this._makeShadingPattern(rt)),this.current.fillAlpha<1&&_t.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(_t)}_makeColorN_Pattern(rt){return rt[0]==="TilingPattern"?this._makeTilingPattern(rt):this._makeShadingPattern(rt)}_makeTilingPattern(rt){const ct=rt[1],at=rt[2],ut=rt[3]||a.IDENTITY_MATRIX,[ft,Ct,xt,pt]=rt[4],_t=rt[5],mt=rt[6],Pt=rt[7],Ut=`shading${tt++}`,[Tt,Ot,At,Mt]=a.Util.normalizeRect([...a.Util.applyTransform([ft,Ct],ut),...a.Util.applyTransform([xt,pt],ut)]),[Rt,Et]=a.Util.singularValueDecompose2dScale(ut),yt=_t*Rt,vt=mt*Et,St=this.svgFactory.createElement("svg:pattern");St.setAttributeNS(null,"id",Ut),St.setAttributeNS(null,"patternUnits","userSpaceOnUse"),St.setAttributeNS(null,"width",yt),St.setAttributeNS(null,"height",vt),St.setAttributeNS(null,"x",`${Tt}`),St.setAttributeNS(null,"y",`${Ot}`);const jt=this.svg,Ft=this.transformMatrix,Lt=this.current.fillColor,$t=this.current.strokeColor,Gt=this.svgFactory.create(At-Tt,Mt-Ot);if(this.svg=Gt,this.transformMatrix=ut,Pt===2){const Yt=a.Util.makeHexColor(...ct);this.current.fillColor=Yt,this.current.strokeColor=Yt}return this.executeOpTree(this.convertOpList(at)),this.svg=jt,this.transformMatrix=Ft,this.current.fillColor=Lt,this.current.strokeColor=$t,St.append(Gt.childNodes[0]),this.defs.append(St),`url(#${Ut})`}_makeShadingPattern(rt){switch(typeof rt=="string"&&(rt=this.objs.get(rt)),rt[0]){case"RadialAxial":const ct=`shading${tt++}`,at=rt[3];let ut;switch(rt[1]){case"axial":const ft=rt[4],Ct=rt[5];ut=this.svgFactory.createElement("svg:linearGradient"),ut.setAttributeNS(null,"id",ct),ut.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ut.setAttributeNS(null,"x1",ft[0]),ut.setAttributeNS(null,"y1",ft[1]),ut.setAttributeNS(null,"x2",Ct[0]),ut.setAttributeNS(null,"y2",Ct[1]);break;case"radial":const xt=rt[4],pt=rt[5],_t=rt[6],mt=rt[7];ut=this.svgFactory.createElement("svg:radialGradient"),ut.setAttributeNS(null,"id",ct),ut.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ut.setAttributeNS(null,"cx",pt[0]),ut.setAttributeNS(null,"cy",pt[1]),ut.setAttributeNS(null,"r",mt),ut.setAttributeNS(null,"fx",xt[0]),ut.setAttributeNS(null,"fy",xt[1]),ut.setAttributeNS(null,"fr",_t);break;default:throw new Error(`Unknown RadialAxial type: ${rt[1]}`)}for(const ft of at){const Ct=this.svgFactory.createElement("svg:stop");Ct.setAttributeNS(null,"offset",ft[0]),Ct.setAttributeNS(null,"stop-color",ft[1]),ut.append(Ct)}return this.defs.append(ut),`url(#${ct})`;case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${rt[0]}`)}}setDash(rt,ct){this.current.dashArray=rt,this.current.dashPhase=ct}constructPath(rt,ct){const at=this.current;let ut=at.x,ft=at.y,Ct=[],xt=0;for(const pt of rt)switch(pt|0){case a.OPS.rectangle:ut=ct[xt++],ft=ct[xt++];const _t=ct[xt++],mt=ct[xt++],Pt=ut+_t,Ut=ft+mt;Ct.push("M",st(ut),st(ft),"L",st(Pt),st(ft),"L",st(Pt),st(Ut),"L",st(ut),st(Ut),"Z");break;case a.OPS.moveTo:ut=ct[xt++],ft=ct[xt++],Ct.push("M",st(ut),st(ft));break;case a.OPS.lineTo:ut=ct[xt++],ft=ct[xt++],Ct.push("L",st(ut),st(ft));break;case a.OPS.curveTo:ut=ct[xt+4],ft=ct[xt+5],Ct.push("C",st(ct[xt]),st(ct[xt+1]),st(ct[xt+2]),st(ct[xt+3]),st(ut),st(ft)),xt+=6;break;case a.OPS.curveTo2:Ct.push("C",st(ut),st(ft),st(ct[xt]),st(ct[xt+1]),st(ct[xt+2]),st(ct[xt+3])),ut=ct[xt+2],ft=ct[xt+3],xt+=4;break;case a.OPS.curveTo3:ut=ct[xt+2],ft=ct[xt+3],Ct.push("C",st(ct[xt]),st(ct[xt+1]),st(ut),st(ft),st(ut),st(ft)),xt+=4;break;case a.OPS.closePath:Ct.push("Z");break}Ct=Ct.join(" "),at.path&&rt.length>0&&rt[0]!==a.OPS.rectangle&&rt[0]!==a.OPS.moveTo?Ct=at.path.getAttributeNS(null,"d")+Ct:(at.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(at.path)),at.path.setAttributeNS(null,"d",Ct),at.path.setAttributeNS(null,"fill","none"),at.element=at.path,at.setCurrentPoint(ut,ft)}endPath(){const rt=this.current;if(rt.path=null,!this.pendingClip)return;if(!rt.element){this.pendingClip=null;return}const ct=`clippath${it++}`,at=this.svgFactory.createElement("svg:clipPath");at.setAttributeNS(null,"id",ct),at.setAttributeNS(null,"transform",nt(this.transformMatrix));const ut=rt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ut.setAttributeNS(null,"clip-rule","evenodd"):ut.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,at.append(ut),this.defs.append(at),rt.activeClipUrl){rt.clipGroup=null;for(const ft of this.extraStack)ft.clipGroup=null;at.setAttributeNS(null,"clip-path",rt.activeClipUrl)}rt.activeClipUrl=`url(#${ct})`,this.tgrp=null}clip(rt){this.pendingClip=rt}closePath(){const rt=this.current;if(rt.path){const ct=`${rt.path.getAttributeNS(null,"d")}Z`;rt.path.setAttributeNS(null,"d",ct)}}setLeading(rt){this.current.leading=-rt}setTextRise(rt){this.current.textRise=rt}setTextRenderingMode(rt){this.current.textRenderingMode=rt}setHScale(rt){this.current.textHScale=rt/100}setRenderingIntent(rt){}setFlatness(rt){}setGState(rt){for(const[ct,at]of rt)switch(ct){case"LW":this.setLineWidth(at);break;case"LC":this.setLineCap(at);break;case"LJ":this.setLineJoin(at);break;case"ML":this.setMiterLimit(at);break;case"D":this.setDash(at[0],at[1]);break;case"RI":this.setRenderingIntent(at);break;case"FL":this.setFlatness(at);break;case"Font":this.setFont(at);break;case"CA":this.setStrokeAlpha(at);break;case"ca":this.setFillAlpha(at);break;default:(0,a.warn)(`Unimplemented graphic state operator ${ct}`);break}}fill(){const rt=this.current;rt.element&&(rt.element.setAttributeNS(null,"fill",rt.fillColor),rt.element.setAttributeNS(null,"fill-opacity",rt.fillAlpha),this.endPath())}stroke(){const rt=this.current;rt.element&&(this._setStrokeAttributes(rt.element),rt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(rt,ct=1){const at=this.current;let ut=at.dashArray;ct!==1&&ut.length>0&&(ut=ut.map(function(ft){return ct*ft})),rt.setAttributeNS(null,"stroke",at.strokeColor),rt.setAttributeNS(null,"stroke-opacity",at.strokeAlpha),rt.setAttributeNS(null,"stroke-miterlimit",st(at.miterLimit)),rt.setAttributeNS(null,"stroke-linecap",at.lineCap),rt.setAttributeNS(null,"stroke-linejoin",at.lineJoin),rt.setAttributeNS(null,"stroke-width",st(ct*at.lineWidth)+"px"),rt.setAttributeNS(null,"stroke-dasharray",ut.map(st).join(" ")),rt.setAttributeNS(null,"stroke-dashoffset",st(ct*at.dashPhase)+"px")}eoFill(){var rt;(rt=this.current.element)==null||rt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var rt;(rt=this.current.element)==null||rt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const rt=this.svgFactory.createElement("svg:rect");rt.setAttributeNS(null,"x","0"),rt.setAttributeNS(null,"y","0"),rt.setAttributeNS(null,"width","1px"),rt.setAttributeNS(null,"height","1px"),rt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(rt)}paintImageXObject(rt){const ct=this.getObject(rt);if(!ct){(0,a.warn)(`Dependent image with object ID ${rt} is not ready yet`);return}this.paintInlineImageXObject(ct)}paintInlineImageXObject(rt,ct){const at=rt.width,ut=rt.height,ft=$(rt,this.forceDataSchema,!!ct),Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x","0"),Ct.setAttributeNS(null,"y","0"),Ct.setAttributeNS(null,"width",st(at)),Ct.setAttributeNS(null,"height",st(ut)),this.current.element=Ct,this.clip("nonzero");const xt=this.svgFactory.createElement("svg:image");xt.setAttributeNS(h,"xlink:href",ft),xt.setAttributeNS(null,"x","0"),xt.setAttributeNS(null,"y",st(-ut)),xt.setAttributeNS(null,"width",st(at)+"px"),xt.setAttributeNS(null,"height",st(ut)+"px"),xt.setAttributeNS(null,"transform",`scale(${st(1/at)} ${st(-1/ut)})`),ct?ct.append(xt):this._ensureTransformGroup().append(xt)}paintImageMaskXObject(rt){const ct=this.getObject(rt.data,rt);if(ct.bitmap){(0,a.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const at=this.current,ut=ct.width,ft=ct.height,Ct=at.fillColor;at.maskId=`mask${j++}`;const xt=this.svgFactory.createElement("svg:mask");xt.setAttributeNS(null,"id",at.maskId);const pt=this.svgFactory.createElement("svg:rect");pt.setAttributeNS(null,"x","0"),pt.setAttributeNS(null,"y","0"),pt.setAttributeNS(null,"width",st(ut)),pt.setAttributeNS(null,"height",st(ft)),pt.setAttributeNS(null,"fill",Ct),pt.setAttributeNS(null,"mask",`url(#${at.maskId})`),this.defs.append(xt),this._ensureTransformGroup().append(pt),this.paintInlineImageXObject(ct,xt)}paintFormXObjectBegin(rt,ct){if(Array.isArray(rt)&&rt.length===6&&this.transform(rt[0],rt[1],rt[2],rt[3],rt[4],rt[5]),ct){const at=ct[2]-ct[0],ut=ct[3]-ct[1],ft=this.svgFactory.createElement("svg:rect");ft.setAttributeNS(null,"x",ct[0]),ft.setAttributeNS(null,"y",ct[1]),ft.setAttributeNS(null,"width",st(at)),ft.setAttributeNS(null,"height",st(ut)),this.current.element=ft,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(rt){const ct=this.svgFactory.create(rt.width,rt.height),at=this.svgFactory.createElement("svg:defs");ct.append(at),this.defs=at;const ut=this.svgFactory.createElement("svg:g");return ut.setAttributeNS(null,"transform",nt(rt.transform)),ct.append(ut),this.svg=ut,ct}_ensureClipGroup(){if(!this.current.clipGroup){const rt=this.svgFactory.createElement("svg:g");rt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(rt),this.current.clipGroup=rt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",nt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}s.SVGGraphics=ot},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class i{static textContent(a){const c=[],d={items:c,styles:Object.create(null)};function h(g){var $;if(!g)return;let b=null;const _=g.name;if(_==="#text")b=g.value;else if(i.shouldBuildText(_))($=g==null?void 0:g.attributes)!=null&&$.textContent?b=g.attributes.textContent:g.value&&(b=g.value);else return;if(b!==null&&c.push({str:b}),!!g.children)for(const et of g.children)h(et)}return h(a),d}static shouldBuildText(a){return!(a==="textarea"||a==="input"||a==="option"||a==="select")}}s.XfaText=i},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=nt,s.updateTextLayer=it;var o=i(1),a=i(6);const c=1e5,d=30,h=.8,g=new Map;function b(j,tt){let ot;if(tt&&o.FeatureTest.isOffscreenCanvasSupported)ot=new OffscreenCanvas(j,j).getContext("2d",{alpha:!1});else{const lt=document.createElement("canvas");lt.width=lt.height=j,ot=lt.getContext("2d",{alpha:!1})}return ot}function _(j,tt){const ot=g.get(j);if(ot)return ot;const lt=b(d,tt);lt.font=`${d}px ${j}`;const rt=lt.measureText("");let ct=rt.fontBoundingBoxAscent,at=Math.abs(rt.fontBoundingBoxDescent);if(ct){const ft=ct/(ct+at);return g.set(j,ft),lt.canvas.width=lt.canvas.height=0,ft}lt.strokeStyle="red",lt.clearRect(0,0,d,d),lt.strokeText("g",0,0);let ut=lt.getImageData(0,0,d,d).data;at=0;for(let ft=ut.length-1-3;ft>=0;ft-=4)if(ut[ft]>0){at=Math.ceil(ft/4/d);break}lt.clearRect(0,0,d,d),lt.strokeText("A",0,d),ut=lt.getImageData(0,0,d,d).data,ct=0;for(let ft=0,Ct=ut.length;ft<Ct;ft+=4)if(ut[ft]>0){ct=d-Math.floor(ft/4/d);break}if(lt.canvas.width=lt.canvas.height=0,ct){const ft=ct/(ct+at);return g.set(j,ft),ft}return g.set(j,h),h}function $(j,tt,ot){const lt=document.createElement("span"),rt={angle:0,canvasWidth:0,hasText:tt.str!=="",hasEOL:tt.hasEOL,fontSize:0};j._textDivs.push(lt);const ct=o.Util.transform(j._transform,tt.transform);let at=Math.atan2(ct[1],ct[0]);const ut=ot[tt.fontName];ut.vertical&&(at+=Math.PI/2);const ft=Math.hypot(ct[2],ct[3]),Ct=ft*_(ut.fontFamily,j._isOffscreenCanvasSupported);let xt,pt;at===0?(xt=ct[4],pt=ct[5]-Ct):(xt=ct[4]+Ct*Math.sin(at),pt=ct[5]-Ct*Math.cos(at));const _t="calc(var(--scale-factor)*",mt=lt.style;j._container===j._rootContainer?(mt.left=`${(100*xt/j._pageWidth).toFixed(2)}%`,mt.top=`${(100*pt/j._pageHeight).toFixed(2)}%`):(mt.left=`${_t}${xt.toFixed(2)}px)`,mt.top=`${_t}${pt.toFixed(2)}px)`),mt.fontSize=`${_t}${ft.toFixed(2)}px)`,mt.fontFamily=ut.fontFamily,rt.fontSize=ft,lt.setAttribute("role","presentation"),lt.textContent=tt.str,lt.dir=tt.dir,j._fontInspectorEnabled&&(lt.dataset.fontName=tt.fontName),at!==0&&(rt.angle=at*(180/Math.PI));let Pt=!1;if(tt.str.length>1)Pt=!0;else if(tt.str!==" "&&tt.transform[0]!==tt.transform[3]){const Ut=Math.abs(tt.transform[0]),Tt=Math.abs(tt.transform[3]);Ut!==Tt&&Math.max(Ut,Tt)/Math.min(Ut,Tt)>1.5&&(Pt=!0)}Pt&&(rt.canvasWidth=ut.vertical?tt.height:tt.width),j._textDivProperties.set(lt,rt),j._isReadableStream&&j._layoutText(lt)}function et(j){const{div:tt,scale:ot,properties:lt,ctx:rt,prevFontSize:ct,prevFontFamily:at}=j,{style:ut}=tt;let ft="";if(lt.canvasWidth!==0&&lt.hasText){const{fontFamily:Ct}=ut,{canvasWidth:xt,fontSize:pt}=lt;(ct!==pt||at!==Ct)&&(rt.font=`${pt*ot}px ${Ct}`,j.prevFontSize=pt,j.prevFontFamily=Ct);const{width:_t}=rt.measureText(tt.textContent);_t>0&&(ft=`scaleX(${xt*ot/_t})`)}lt.angle!==0&&(ft=`rotate(${lt.angle}deg) ${ft}`),ft.length>0&&(ut.transform=ft)}function _e(j){if(j._canceled)return;const tt=j._textDivs,ot=j._capability;if(tt.length>c){ot.resolve();return}if(!j._isReadableStream)for(const rt of tt)j._layoutText(rt);ot.resolve()}class st{constructor({textContentSource:tt,container:ot,viewport:lt,textDivs:rt,textDivProperties:ct,textContentItemsStr:at,isOffscreenCanvasSupported:ut}){var _t;this._textContentSource=tt,this._isReadableStream=tt instanceof ReadableStream,this._container=this._rootContainer=ot,this._textDivs=rt||[],this._textContentItemsStr=at||[],this._isOffscreenCanvasSupported=ut,this._fontInspectorEnabled=!!((_t=globalThis.FontInspector)!=null&&_t.enabled),this._reader=null,this._textDivProperties=ct||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:lt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:b(0,ut)};const{pageWidth:ft,pageHeight:Ct,pageX:xt,pageY:pt}=lt.rawDims;this._transform=[1,0,0,-1,-xt,pt+Ct],this._pageWidth=ft,this._pageHeight=Ct,(0,a.setLayerDimensions)(ot,lt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(tt,ot){for(const lt of tt){if(lt.str===void 0){if(lt.type==="beginMarkedContentProps"||lt.type==="beginMarkedContent"){const rt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),lt.id!==null&&this._container.setAttribute("id",`${lt.id}`),rt.append(this._container)}else lt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(lt.str),$(this,lt,ot)}}_layoutText(tt){const ot=this._layoutTextParams.properties=this._textDivProperties.get(tt);if(this._layoutTextParams.div=tt,et(this._layoutTextParams),ot.hasText&&this._container.append(tt),ot.hasEOL){const lt=document.createElement("br");lt.setAttribute("role","presentation"),this._container.append(lt)}}_render(){const tt=new o.PromiseCapability;let ot=Object.create(null);if(this._isReadableStream){const lt=()=>{this._reader.read().then(({value:rt,done:ct})=>{if(ct){tt.resolve();return}Object.assign(ot,rt.styles),this._processItems(rt.items,ot),lt()},tt.reject)};this._reader=this._textContentSource.getReader(),lt()}else if(this._textContentSource){const{items:lt,styles:rt}=this._textContentSource;this._processItems(lt,rt),tt.resolve()}else throw new Error('No "textContentSource" parameter specified.');tt.promise.then(()=>{ot=null,_e(this)},this._capability.reject)}}s.TextLayerRenderTask=st;function nt(j){!j.textContentSource&&(j.textContent||j.textContentStream)&&((0,a.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),j.textContentSource=j.textContent||j.textContentStream);const{container:tt,viewport:ot}=j,lt=getComputedStyle(tt),rt=lt.getPropertyValue("visibility"),ct=parseFloat(lt.getPropertyValue("--scale-factor"));rt==="visible"&&(!ct||Math.abs(ct-ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const at=new st(j);return at._render(),at}function it({container:j,viewport:tt,textDivs:ot,textDivProperties:lt,isOffscreenCanvasSupported:rt,mustRotate:ct=!0,mustRescale:at=!0}){if(ct&&(0,a.setLayerDimensions)(j,{rotation:tt.rotation}),at){const ut=b(0,rt),Ct={prevFontSize:null,prevFontFamily:null,div:null,scale:tt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ut};for(const xt of ot)Ct.properties=lt.get(xt),Ct.div=xt,et(Ct)}}},(e,s,i)=>{var _,$,et,_e,st,nt,it,j,tt,ot,lt,Or,hr,Br,zr;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var o=i(1),a=i(4),c=i(28),d=i(33),h=i(6),g=i(34);const ft=class ft{constructor({uiManager:xt,pageIndex:pt,div:_t,accessibilityManager:mt,annotationLayer:Pt,viewport:Ut,l10n:Tt}){tn(this,lt);tn(this,_);tn(this,$,!1);tn(this,et,null);tn(this,_e,this.pointerup.bind(this));tn(this,st,this.pointerdown.bind(this));tn(this,nt,new Map);tn(this,it,!1);tn(this,j,!1);tn(this,tt,!1);tn(this,ot);const Ot=[c.FreeTextEditor,d.InkEditor,g.StampEditor];if(!ft._initialized){ft._initialized=!0;for(const At of Ot)At.initialize(Tt)}xt.registerEditorTypes(Ot),rn(this,ot,xt),this.pageIndex=pt,this.div=_t,rn(this,_,mt),rn(this,et,Pt),this.viewport=Ut,gt(this,ot).addLayer(this)}get isEmpty(){return gt(this,nt).size===0}updateToolbar(xt){gt(this,ot).updateToolbar(xt)}updateMode(xt=gt(this,ot).getMode()){qt(this,lt,zr).call(this),xt===o.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),xt!==o.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",xt===o.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",xt===o.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",xt===o.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(xt){if(!xt&&gt(this,ot).getMode()!==o.AnnotationEditorType.INK)return;if(!xt){for(const _t of gt(this,nt).values())if(_t.isEmpty()){_t.setInBackground();return}}qt(this,lt,hr).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(xt){gt(this,ot).setEditingState(xt)}addCommands(xt){gt(this,ot).addCommands(xt)}enable(){this.div.style.pointerEvents="auto";const xt=new Set;for(const _t of gt(this,nt).values())_t.enableEditing(),_t.annotationElementId&&xt.add(_t.annotationElementId);if(!gt(this,et))return;const pt=gt(this,et).getEditableAnnotations();for(const _t of pt){if(_t.hide(),gt(this,ot).isDeletedAnnotationElement(_t.data.id)||xt.has(_t.data.id))continue;const mt=this.deserialize(_t);mt&&(this.addOrRebuild(mt),mt.enableEditing())}}disable(){var pt;rn(this,tt,!0),this.div.style.pointerEvents="none";const xt=new Set;for(const _t of gt(this,nt).values()){if(_t.disableEditing(),!_t.annotationElementId||_t.serialize()!==null){xt.add(_t.annotationElementId);continue}(pt=this.getEditableAnnotation(_t.annotationElementId))==null||pt.show(),_t.remove()}if(gt(this,et)){const _t=gt(this,et).getEditableAnnotations();for(const mt of _t){const{id:Pt}=mt.data;xt.has(Pt)||gt(this,ot).isDeletedAnnotationElement(Pt)||mt.show()}}qt(this,lt,zr).call(this),this.isEmpty&&(this.div.hidden=!0),rn(this,tt,!1)}getEditableAnnotation(xt){var pt;return((pt=gt(this,et))==null?void 0:pt.getEditableAnnotation(xt))||null}setActiveEditor(xt){gt(this,ot).getActive()!==xt&&gt(this,ot).setActiveEditor(xt)}enableClick(){this.div.addEventListener("pointerdown",gt(this,st)),this.div.addEventListener("pointerup",gt(this,_e))}disableClick(){this.div.removeEventListener("pointerdown",gt(this,st)),this.div.removeEventListener("pointerup",gt(this,_e))}attach(xt){gt(this,nt).set(xt.id,xt);const{annotationElementId:pt}=xt;pt&&gt(this,ot).isDeletedAnnotationElement(pt)&&gt(this,ot).removeDeletedAnnotationElement(xt)}detach(xt){var pt;gt(this,nt).delete(xt.id),(pt=gt(this,_))==null||pt.removePointerInTextLayer(xt.contentDiv),!gt(this,tt)&&xt.annotationElementId&&gt(this,ot).addDeletedAnnotationElement(xt)}remove(xt){this.detach(xt),gt(this,ot).removeEditor(xt),xt.div.contains(document.activeElement)&&setTimeout(()=>{gt(this,ot).focusMainContainer()},0),xt.div.remove(),xt.isAttachedToDOM=!1,gt(this,j)||this.addInkEditorIfNeeded(!1)}changeParent(xt){var pt;xt.parent!==this&&(xt.annotationElementId&&(gt(this,ot).addDeletedAnnotationElement(xt.annotationElementId),a.AnnotationEditor.deleteAnnotationElement(xt),xt.annotationElementId=null),this.attach(xt),(pt=xt.parent)==null||pt.detach(xt),xt.setParent(this),xt.div&&xt.isAttachedToDOM&&(xt.div.remove(),this.div.append(xt.div)))}add(xt){if(this.changeParent(xt),gt(this,ot).addEditor(xt),this.attach(xt),!xt.isAttachedToDOM){const pt=xt.render();this.div.append(pt),xt.isAttachedToDOM=!0}xt.fixAndSetPosition(),xt.onceAdded(),gt(this,ot).addToAnnotationStorage(xt)}moveEditorInDOM(xt){var _t;if(!xt.isAttachedToDOM)return;const{activeElement:pt}=document;xt.div.contains(pt)&&(xt._focusEventsAllowed=!1,setTimeout(()=>{xt.div.contains(document.activeElement)?xt._focusEventsAllowed=!0:(xt.div.addEventListener("focusin",()=>{xt._focusEventsAllowed=!0},{once:!0}),pt.focus())},0)),xt._structTreeParentId=(_t=gt(this,_))==null?void 0:_t.moveElementInDOM(this.div,xt.div,xt.contentDiv,!0)}addOrRebuild(xt){xt.needsToBeRebuilt()?xt.rebuild():this.add(xt)}addUndoableEditor(xt){const pt=()=>xt._uiManager.rebuild(xt),_t=()=>{xt.remove()};this.addCommands({cmd:pt,undo:_t,mustExec:!1})}getNextId(){return gt(this,ot).getId()}pasteEditor(xt,pt){gt(this,ot).updateToolbar(xt),gt(this,ot).updateMode(xt);const{offsetX:_t,offsetY:mt}=qt(this,lt,Br).call(this),Pt=this.getNextId(),Ut=qt(this,lt,Or).call(this,{parent:this,id:Pt,x:_t,y:mt,uiManager:gt(this,ot),isCentered:!0,...pt});Ut&&this.add(Ut)}deserialize(xt){switch(xt.annotationType??xt.annotationEditorType){case o.AnnotationEditorType.FREETEXT:return c.FreeTextEditor.deserialize(xt,this,gt(this,ot));case o.AnnotationEditorType.INK:return d.InkEditor.deserialize(xt,this,gt(this,ot));case o.AnnotationEditorType.STAMP:return g.StampEditor.deserialize(xt,this,gt(this,ot))}return null}addNewEditor(){qt(this,lt,hr).call(this,qt(this,lt,Br).call(this),!0)}setSelected(xt){gt(this,ot).setSelected(xt)}toggleSelected(xt){gt(this,ot).toggleSelected(xt)}isSelected(xt){return gt(this,ot).isSelected(xt)}unselect(xt){gt(this,ot).unselect(xt)}pointerup(xt){const{isMac:pt}=o.FeatureTest.platform;if(!(xt.button!==0||xt.ctrlKey&&pt)&&xt.target===this.div&&gt(this,it)){if(rn(this,it,!1),!gt(this,$)){rn(this,$,!0);return}if(gt(this,ot).getMode()===o.AnnotationEditorType.STAMP){gt(this,ot).unselectAll();return}qt(this,lt,hr).call(this,xt,!1)}}pointerdown(xt){if(gt(this,it)){rn(this,it,!1);return}const{isMac:pt}=o.FeatureTest.platform;if(xt.button!==0||xt.ctrlKey&&pt||xt.target!==this.div)return;rn(this,it,!0);const _t=gt(this,ot).getActive();rn(this,$,!_t||_t.isEmpty())}findNewParent(xt,pt,_t){const mt=gt(this,ot).findParent(pt,_t);return mt===null||mt===this?!1:(mt.changeParent(xt),!0)}destroy(){var xt,pt;((xt=gt(this,ot).getActive())==null?void 0:xt.parent)===this&&(gt(this,ot).commitOrRemove(),gt(this,ot).setActiveEditor(null));for(const _t of gt(this,nt).values())(pt=gt(this,_))==null||pt.removePointerInTextLayer(_t.contentDiv),_t.setParent(null),_t.isAttachedToDOM=!1,_t.div.remove();this.div=null,gt(this,nt).clear(),gt(this,ot).removeLayer(this)}render({viewport:xt}){this.viewport=xt,(0,h.setLayerDimensions)(this.div,xt);for(const pt of gt(this,ot).getEditors(this.pageIndex))this.add(pt);this.updateMode()}update({viewport:xt}){gt(this,ot).commitOrRemove(),this.viewport=xt,(0,h.setLayerDimensions)(this.div,{rotation:xt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:xt,pageHeight:pt}=this.viewport.rawDims;return[xt,pt]}};_=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,st=new WeakMap,nt=new WeakMap,it=new WeakMap,j=new WeakMap,tt=new WeakMap,ot=new WeakMap,lt=new WeakSet,Or=function(xt){switch(gt(this,ot).getMode()){case o.AnnotationEditorType.FREETEXT:return new c.FreeTextEditor(xt);case o.AnnotationEditorType.INK:return new d.InkEditor(xt);case o.AnnotationEditorType.STAMP:return new g.StampEditor(xt)}return null},hr=function(xt,pt){const _t=this.getNextId(),mt=qt(this,lt,Or).call(this,{parent:this,id:_t,x:xt.offsetX,y:xt.offsetY,uiManager:gt(this,ot),isCentered:pt});return mt&&this.add(mt),mt},Br=function(){const{x:xt,y:pt,width:_t,height:mt}=this.div.getBoundingClientRect(),Pt=Math.max(0,xt),Ut=Math.max(0,pt),Tt=Math.min(window.innerWidth,xt+_t),Ot=Math.min(window.innerHeight,pt+mt),At=(Pt+Tt)/2-xt,Mt=(Ut+Ot)/2-pt,[Rt,Et]=this.viewport.rotation%180===0?[At,Mt]:[Mt,At];return{offsetX:Rt,offsetY:Et}},zr=function(){rn(this,j,!0);for(const xt of gt(this,nt).values())xt.isEmpty()&&xt.remove();rn(this,j,!1)},On(ft,"_initialized",!1);let b=ft;s.AnnotationEditorLayer=b},(e,s,i)=>{var g,b,_,$,et,_e,st,nt,it,j,ms,gs,ys,rr,Vr,vs,Ur;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var o=i(1),a=i(5),c=i(4),d=i(29);const ft=class ft extends c.AnnotationEditor{constructor(pt){super({...pt,name:"freeTextEditor"});tn(this,j);tn(this,g,this.editorDivBlur.bind(this));tn(this,b,this.editorDivFocus.bind(this));tn(this,_,this.editorDivInput.bind(this));tn(this,$,this.editorDivKeydown.bind(this));tn(this,et);tn(this,_e,"");tn(this,st,`${this.id}-editor`);tn(this,nt);tn(this,it,null);rn(this,et,pt.color||ft._defaultColor||c.AnnotationEditor._defaultLineColor),rn(this,nt,pt.fontSize||ft._defaultFontSize)}static get _keyboardManager(){const pt=ft.prototype,_t=Ut=>Ut.isEmpty(),mt=a.AnnotationEditorUIManager.TRANSLATE_SMALL,Pt=a.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new a.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],pt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],pt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],pt._translateEmpty,{args:[-mt,0],checker:_t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],pt._translateEmpty,{args:[-Pt,0],checker:_t}],[["ArrowRight","mac+ArrowRight"],pt._translateEmpty,{args:[mt,0],checker:_t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],pt._translateEmpty,{args:[Pt,0],checker:_t}],[["ArrowUp","mac+ArrowUp"],pt._translateEmpty,{args:[0,-mt],checker:_t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],pt._translateEmpty,{args:[0,-Pt],checker:_t}],[["ArrowDown","mac+ArrowDown"],pt._translateEmpty,{args:[0,mt],checker:_t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],pt._translateEmpty,{args:[0,Pt],checker:_t}]]))}static initialize(pt){c.AnnotationEditor.initialize(pt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const _t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(_t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(pt,_t){switch(pt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:ft._defaultFontSize=_t;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:ft._defaultColor=_t;break}}updateParams(pt,_t){switch(pt){case o.AnnotationEditorParamsType.FREETEXT_SIZE:qt(this,j,ms).call(this,_t);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:qt(this,j,gs).call(this,_t);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,ft._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,ft._defaultColor||c.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,gt(this,nt)],[o.AnnotationEditorParamsType.FREETEXT_COLOR,gt(this,et)]]}_translateEmpty(pt,_t){this._uiManager.translateSelectedEditors(pt,_t,!0)}getInitialTranslation(){const pt=this.parentScale;return[-ft._internalPadding*pt,-(ft._internalPadding+gt(this,nt))*pt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",gt(this,$)),this.editorDiv.addEventListener("focus",gt(this,b)),this.editorDiv.addEventListener("blur",gt(this,g)),this.editorDiv.addEventListener("input",gt(this,_)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",gt(this,st)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",gt(this,$)),this.editorDiv.removeEventListener("focus",gt(this,b)),this.editorDiv.removeEventListener("blur",gt(this,g)),this.editorDiv.removeEventListener("input",gt(this,_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(pt){this._focusEventsAllowed&&(super.focusin(pt),pt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var pt;if(this.width){qt(this,j,Ur).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(pt=this._initialOptions)!=null&&pt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const pt=gt(this,_e),_t=rn(this,_e,qt(this,j,ys).call(this).trimEnd());if(pt===_t)return;const mt=Pt=>{if(rn(this,_e,Pt),!Pt){this.remove();return}qt(this,j,Vr).call(this),this._uiManager.rebuild(this),qt(this,j,rr).call(this)};this.addCommands({cmd:()=>{mt(_t)},undo:()=>{mt(pt)},mustExec:!1}),qt(this,j,rr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(pt){this.enterInEditMode()}keydown(pt){pt.target===this.div&&pt.key==="Enter"&&(this.enterInEditMode(),pt.preventDefault())}editorDivKeydown(pt){ft._keyboardManager.exec(this,pt)}editorDivFocus(pt){this.isEditing=!0}editorDivBlur(pt){this.isEditing=!1}editorDivInput(pt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let pt,_t;this.width&&(pt=this.x,_t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",gt(this,st)),this.enableEditing(),c.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Pt=>{var Ut;return(Ut=this.editorDiv)==null?void 0:Ut.setAttribute("aria-label",Pt)}),c.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Pt=>{var Ut;return(Ut=this.editorDiv)==null?void 0:Ut.setAttribute("default-content",Pt)}),this.editorDiv.contentEditable=!0;const{style:mt}=this.editorDiv;if(mt.fontSize=`calc(${gt(this,nt)}px * var(--scale-factor))`,mt.color=gt(this,et),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,a.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Pt,Ut]=this.parentDimensions;if(this.annotationElementId){const{position:Tt}=gt(this,it);let[Ot,At]=this.getInitialTranslation();[Ot,At]=this.pageTranslationToScreen(Ot,At);const[Mt,Rt]=this.pageDimensions,[Et,yt]=this.pageTranslation;let vt,St;switch(this.rotation){case 0:vt=pt+(Tt[0]-Et)/Mt,St=_t+this.height-(Tt[1]-yt)/Rt;break;case 90:vt=pt+(Tt[0]-Et)/Mt,St=_t-(Tt[1]-yt)/Rt,[Ot,At]=[At,-Ot];break;case 180:vt=pt-this.width+(Tt[0]-Et)/Mt,St=_t-(Tt[1]-yt)/Rt,[Ot,At]=[-Ot,-At];break;case 270:vt=pt+(Tt[0]-Et-this.height*Rt)/Mt,St=_t+(Tt[1]-yt-this.width*Mt)/Rt,[Ot,At]=[-At,Ot];break}this.setAt(vt*Pt,St*Ut,Ot,At)}else this.setAt(pt*Pt,_t*Ut,this.width*Pt,this.height*Ut);qt(this,j,Vr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(pt,_t,mt){let Pt=null;if(pt instanceof d.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Tt,fontColor:Ot},rect:At,rotation:Mt,id:Rt},textContent:Et,textPosition:yt,parent:{page:{pageNumber:vt}}}=pt;if(!Et||Et.length===0)return null;Pt=pt={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Ot),fontSize:Tt,value:Et.join(`
`),position:yt,pageIndex:vt-1,rect:At,rotation:Mt,id:Rt,deleted:!1}}const Ut=super.deserialize(pt,_t,mt);return rn(Ut,nt,pt.fontSize),rn(Ut,et,o.Util.makeHexColor(...pt.color)),rn(Ut,_e,pt.value),Ut.annotationElementId=pt.id||null,rn(Ut,it,Pt),Ut}serialize(pt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const _t=ft._internalPadding*this.parentScale,mt=this.getRect(_t,_t),Pt=c.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:gt(this,et)),Ut={annotationType:o.AnnotationEditorType.FREETEXT,color:Pt,fontSize:gt(this,nt),value:gt(this,_e),pageIndex:this.pageIndex,rect:mt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return pt?Ut:this.annotationElementId&&!qt(this,j,vs).call(this,Ut)?null:(Ut.id=this.annotationElementId,Ut)}};g=new WeakMap,b=new WeakMap,_=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,st=new WeakMap,nt=new WeakMap,it=new WeakMap,j=new WeakSet,ms=function(pt){const _t=Pt=>{this.editorDiv.style.fontSize=`calc(${Pt}px * var(--scale-factor))`,this.translate(0,-(Pt-gt(this,nt))*this.parentScale),rn(this,nt,Pt),qt(this,j,rr).call(this)},mt=gt(this,nt);this.addCommands({cmd:()=>{_t(pt)},undo:()=>{_t(mt)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},gs=function(pt){const _t=gt(this,et);this.addCommands({cmd:()=>{rn(this,et,this.editorDiv.style.color=pt)},undo:()=>{rn(this,et,this.editorDiv.style.color=_t)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ys=function(){const pt=this.editorDiv.getElementsByTagName("div");if(pt.length===0)return this.editorDiv.innerText;const _t=[];for(const mt of pt)_t.push(mt.innerText.replace(/\r\n?|\n/,""));return _t.join(`
`)},rr=function(){const[pt,_t]=this.parentDimensions;let mt;if(this.isAttachedToDOM)mt=this.div.getBoundingClientRect();else{const{currentLayer:Pt,div:Ut}=this,Tt=Ut.style.display;Ut.style.display="hidden",Pt.div.append(this.div),mt=Ut.getBoundingClientRect(),Ut.remove(),Ut.style.display=Tt}this.rotation%180===this.parentRotation%180?(this.width=mt.width/pt,this.height=mt.height/_t):(this.width=mt.height/pt,this.height=mt.width/_t),this.fixAndSetPosition()},Vr=function(){if(this.editorDiv.replaceChildren(),!!gt(this,_e))for(const pt of gt(this,_e).split(`
`)){const _t=document.createElement("div");_t.append(pt?document.createTextNode(pt):document.createElement("br")),this.editorDiv.append(_t)}},vs=function(pt){const{value:_t,fontSize:mt,color:Pt,rect:Ut,pageIndex:Tt}=gt(this,it);return pt.value!==_t||pt.fontSize!==mt||pt.rect.some((Ot,At)=>Math.abs(Ot-Ut[At])>=1)||pt.color.some((Ot,At)=>Ot!==Pt[At])||pt.pageIndex!==Tt},Ur=function(pt=!1){if(!this.annotationElementId)return;if(qt(this,j,rr).call(this),!pt&&(this.width===0||this.height===0)){setTimeout(()=>qt(this,j,Ur).call(this,!0),0);return}const _t=ft._internalPadding*this.parentScale;gt(this,it).rect=this.getRect(_t,_t)},On(ft,"_freeTextDefaultContent",""),On(ft,"_internalPadding",0),On(ft,"_defaultColor",null),On(ft,"_defaultFontSize",10),On(ft,"_type","freetext");let h=ft;s.FreeTextEditor=h},(e,s,i)=>{var St,Ft,Gn,xs,Gt,Yt,Jt,an,ht,Wt,kt,wt,dt,bt,Dt,Bt,It,Kt,Zt,Vt,sn,un,bs,fr,Wr,Hr,En,kn,Mn,hn,Qt,nn,bn,$r,jn,Ht,on,pn,Es,Gr;Object.defineProperty(s,"__esModule",{value:!0}),s.StampAnnotationElement=s.InkAnnotationElement=s.FreeTextAnnotationElement=s.AnnotationLayer=void 0;var o=i(1),a=i(6),c=i(3),d=i(30),h=i(31),g=i(32);const b=1e3,_=9,$=new WeakSet;function et(vn){return{width:vn[2]-vn[0],height:vn[3]-vn[1]}}class _e{static create(zt){switch(zt.data.annotationType){case o.AnnotationType.LINK:return new nt(zt);case o.AnnotationType.TEXT:return new it(zt);case o.AnnotationType.WIDGET:switch(zt.data.fieldType){case"Tx":return new tt(zt);case"Btn":return zt.data.radioButton?new rt(zt):zt.data.checkBox?new lt(zt):new ct(zt);case"Ch":return new at(zt);case"Sig":return new ot(zt)}return new j(zt);case o.AnnotationType.POPUP:return new ut(zt);case o.AnnotationType.FREETEXT:return new Ct(zt);case o.AnnotationType.LINE:return new xt(zt);case o.AnnotationType.SQUARE:return new pt(zt);case o.AnnotationType.CIRCLE:return new _t(zt);case o.AnnotationType.POLYLINE:return new mt(zt);case o.AnnotationType.CARET:return new Ut(zt);case o.AnnotationType.INK:return new Tt(zt);case o.AnnotationType.POLYGON:return new Pt(zt);case o.AnnotationType.HIGHLIGHT:return new Ot(zt);case o.AnnotationType.UNDERLINE:return new At(zt);case o.AnnotationType.SQUIGGLY:return new Mt(zt);case o.AnnotationType.STRIKEOUT:return new Rt(zt);case o.AnnotationType.STAMP:return new Et(zt);case o.AnnotationType.FILEATTACHMENT:return new yt(zt);default:return new st(zt)}}}const jt=class jt{constructor(zt,{isRenderable:Nt=!1,ignoreBorder:Xt=!1,createQuadrilaterals:en=!1}={}){tn(this,St,!1);this.isRenderable=Nt,this.data=zt.data,this.layer=zt.layer,this.linkService=zt.linkService,this.downloadManager=zt.downloadManager,this.imageResourcesPath=zt.imageResourcesPath,this.renderForms=zt.renderForms,this.svgFactory=zt.svgFactory,this.annotationStorage=zt.annotationStorage,this.enableScripting=zt.enableScripting,this.hasJSActions=zt.hasJSActions,this._fieldObjects=zt.fieldObjects,this.parent=zt.parent,Nt&&(this.container=this._createContainer(Xt)),en&&this._createQuadrilaterals()}static _hasPopupData({titleObj:zt,contentsObj:Nt,richText:Xt}){return!!(zt!=null&&zt.str||Nt!=null&&Nt.str||Xt!=null&&Xt.str)}get hasPopupData(){return jt._hasPopupData(this.data)}_createContainer(zt){const{data:Nt,parent:{page:Xt,viewport:en}}=this,ln=document.createElement("section");ln.setAttribute("data-annotation-id",Nt.id),this instanceof j||(ln.tabIndex=b),ln.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ln.setAttribute("aria-haspopup","dialog"),Nt.noRotate&&ln.classList.add("norotate");const{pageWidth:dn,pageHeight:fn,pageX:_n,pageY:wn}=en.rawDims;if(!Nt.rect||this instanceof ut){const{rotation:Pn}=Nt;return!Nt.hasOwnCanvas&&Pn!==0&&this.setRotation(Pn,ln),ln}const{width:mn,height:Rn}=et(Nt.rect),Cn=o.Util.normalizeRect([Nt.rect[0],Xt.view[3]-Nt.rect[1]+Xt.view[1],Nt.rect[2],Xt.view[3]-Nt.rect[3]+Xt.view[1]]);if(!zt&&Nt.borderStyle.width>0){ln.style.borderWidth=`${Nt.borderStyle.width}px`;const Pn=Nt.borderStyle.horizontalCornerRadius,In=Nt.borderStyle.verticalCornerRadius;if(Pn>0||In>0){const Nn=`calc(${Pn}px * var(--scale-factor)) / calc(${In}px * var(--scale-factor))`;ln.style.borderRadius=Nn}else if(this instanceof rt){const Nn=`calc(${mn}px * var(--scale-factor)) / calc(${Rn}px * var(--scale-factor))`;ln.style.borderRadius=Nn}switch(Nt.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:ln.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:ln.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:ln.style.borderBottomStyle="solid";break}const Fn=Nt.borderColor||null;Fn?(rn(this,St,!0),ln.style.borderColor=o.Util.makeHexColor(Fn[0]|0,Fn[1]|0,Fn[2]|0)):ln.style.borderWidth=0}ln.style.left=`${100*(Cn[0]-_n)/dn}%`,ln.style.top=`${100*(Cn[1]-wn)/fn}%`;const{rotation:Tn}=Nt;return Nt.hasOwnCanvas||Tn===0?(ln.style.width=`${100*mn/dn}%`,ln.style.height=`${100*Rn/fn}%`):this.setRotation(Tn,ln),ln}setRotation(zt,Nt=this.container){if(!this.data.rect)return;const{pageWidth:Xt,pageHeight:en}=this.parent.viewport.rawDims,{width:ln,height:dn}=et(this.data.rect);let fn,_n;zt%180===0?(fn=100*ln/Xt,_n=100*dn/en):(fn=100*dn/Xt,_n=100*ln/en),Nt.style.width=`${fn}%`,Nt.style.height=`${_n}%`,Nt.setAttribute("data-main-rotation",(360-zt)%360)}get _commonActions(){const zt=(Nt,Xt,en)=>{const ln=en.detail[Nt],dn=ln[0],fn=ln.slice(1);en.target.style[Xt]=d.ColorConverters[`${dn}_HTML`](fn),this.annotationStorage.setValue(this.data.id,{[Xt]:d.ColorConverters[`${dn}_rgb`](fn)})};return(0,o.shadow)(this,"_commonActions",{display:Nt=>{const{display:Xt}=Nt.detail,en=Xt%2===1;this.container.style.visibility=en?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:en,noPrint:Xt===1||Xt===2})},print:Nt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Nt.detail.print})},hidden:Nt=>{const{hidden:Xt}=Nt.detail;this.container.style.visibility=Xt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Xt,noView:Xt})},focus:Nt=>{setTimeout(()=>Nt.target.focus({preventScroll:!1}),0)},userName:Nt=>{Nt.target.title=Nt.detail.userName},readonly:Nt=>{Nt.target.disabled=Nt.detail.readonly},required:Nt=>{this._setRequired(Nt.target,Nt.detail.required)},bgColor:Nt=>{zt("bgColor","backgroundColor",Nt)},fillColor:Nt=>{zt("fillColor","backgroundColor",Nt)},fgColor:Nt=>{zt("fgColor","color",Nt)},textColor:Nt=>{zt("textColor","color",Nt)},borderColor:Nt=>{zt("borderColor","borderColor",Nt)},strokeColor:Nt=>{zt("strokeColor","borderColor",Nt)},rotation:Nt=>{const Xt=Nt.detail.rotation;this.setRotation(Xt),this.annotationStorage.setValue(this.data.id,{rotation:Xt})}})}_dispatchEventFromSandbox(zt,Nt){const Xt=this._commonActions;for(const en of Object.keys(Nt.detail)){const ln=zt[en]||Xt[en];ln==null||ln(Nt)}}_setDefaultPropertiesFromJS(zt){if(!this.enableScripting)return;const Nt=this.annotationStorage.getRawValue(this.data.id);if(!Nt)return;const Xt=this._commonActions;for(const[en,ln]of Object.entries(Nt)){const dn=Xt[en];if(dn){const fn={detail:{[en]:ln},target:zt};dn(fn),delete Nt[en]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:zt}=this.data;if(!zt)return;const[Nt,Xt,en,ln]=this.data.rect;if(zt.length===1){const[,{x:In,y:Fn},{x:Nn,y:zn}]=zt[0];if(en===In&&ln===Fn&&Nt===Nn&&Xt===zn)return}const{style:dn}=this.container;let fn;if(gt(this,St)){const{borderColor:In,borderWidth:Fn}=dn;dn.borderWidth=0,fn=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${In}" stroke-width="${Fn}">`],this.container.classList.add("hasBorder")}const _n=en-Nt,wn=ln-Xt,{svgFactory:mn}=this,Rn=mn.createElement("svg");Rn.classList.add("quadrilateralsContainer"),Rn.setAttribute("width",0),Rn.setAttribute("height",0);const Cn=mn.createElement("defs");Rn.append(Cn);const Tn=mn.createElement("clipPath"),Pn=`clippath_${this.data.id}`;Tn.setAttribute("id",Pn),Tn.setAttribute("clipPathUnits","objectBoundingBox"),Cn.append(Tn);for(const[,{x:In,y:Fn},{x:Nn,y:zn}]of zt){const Bn=mn.createElement("rect"),Un=(Nn-Nt)/_n,Hn=(ln-Fn)/wn,$n=(In-Nn)/_n,ts=(Fn-zn)/wn;Bn.setAttribute("x",Un),Bn.setAttribute("y",Hn),Bn.setAttribute("width",$n),Bn.setAttribute("height",ts),Tn.append(Bn),fn==null||fn.push(`<rect vector-effect="non-scaling-stroke" x="${Un}" y="${Hn}" width="${$n}" height="${ts}"/>`)}gt(this,St)&&(fn.push("</g></svg>')"),dn.backgroundImage=fn.join("")),this.container.append(Rn),this.container.style.clipPath=`url(#${Pn})`}_createPopup(){const{container:zt,data:Nt}=this;zt.setAttribute("aria-haspopup","dialog");const Xt=new ut({data:{color:Nt.color,titleObj:Nt.titleObj,modificationDate:Nt.modificationDate,contentsObj:Nt.contentsObj,richText:Nt.richText,parentRect:Nt.rect,borderStyle:0,id:`popup_${Nt.id}`,rotation:Nt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Xt.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(zt,Nt=null){const Xt=[];if(this._fieldObjects){const en=this._fieldObjects[zt];if(en)for(const{page:ln,id:dn,exportValues:fn}of en){if(ln===-1||dn===Nt)continue;const _n=typeof fn=="string"?fn:null,wn=document.querySelector(`[data-element-id="${dn}"]`);if(wn&&!$.has(wn)){(0,o.warn)(`_getElementsByName - element not allowed: ${dn}`);continue}Xt.push({id:dn,exportValue:_n,domElement:wn})}return Xt}for(const en of document.getElementsByName(zt)){const{exportValue:ln}=en,dn=en.getAttribute("data-element-id");dn!==Nt&&$.has(en)&&Xt.push({id:dn,exportValue:ln,domElement:en})}return Xt}show(){var zt;this.container&&(this.container.hidden=!1),(zt=this.popup)==null||zt.maybeShow()}hide(){var zt;this.container&&(this.container.hidden=!0),(zt=this.popup)==null||zt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const zt=this.getElementsToTriggerPopup();if(Array.isArray(zt))for(const Nt of zt)Nt.classList.add("highlightArea");else zt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:zt,data:{id:Nt}}=this;this.container.addEventListener("dblclick",()=>{var Xt;(Xt=this.linkService.eventBus)==null||Xt.dispatch("switchannotationeditormode",{source:this,mode:zt,editId:Nt})})}};St=new WeakMap;let st=jt;class nt extends st{constructor(Nt,Xt=null){super(Nt,{isRenderable:!0,ignoreBorder:!!(Xt!=null&&Xt.ignoreBorder),createQuadrilaterals:!0});tn(this,Ft);this.isTooltipOnly=Nt.data.isTooltipOnly}render(){const{data:Nt,linkService:Xt}=this,en=document.createElement("a");en.setAttribute("data-element-id",Nt.id);let ln=!1;return Nt.url?(Xt.addLinkAttributes(en,Nt.url,Nt.newWindow),ln=!0):Nt.action?(this._bindNamedAction(en,Nt.action),ln=!0):Nt.attachment?(this._bindAttachment(en,Nt.attachment),ln=!0):Nt.setOCGState?(qt(this,Ft,xs).call(this,en,Nt.setOCGState),ln=!0):Nt.dest?(this._bindLink(en,Nt.dest),ln=!0):(Nt.actions&&(Nt.actions.Action||Nt.actions["Mouse Up"]||Nt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(en,Nt),ln=!0),Nt.resetForm?(this._bindResetFormAction(en,Nt.resetForm),ln=!0):this.isTooltipOnly&&!ln&&(this._bindLink(en,""),ln=!0)),this.container.classList.add("linkAnnotation"),ln&&this.container.append(en),this.container}_bindLink(Nt,Xt){Nt.href=this.linkService.getDestinationHash(Xt),Nt.onclick=()=>(Xt&&this.linkService.goToDestination(Xt),!1),(Xt||Xt==="")&&qt(this,Ft,Gn).call(this)}_bindNamedAction(Nt,Xt){Nt.href=this.linkService.getAnchorUrl(""),Nt.onclick=()=>(this.linkService.executeNamedAction(Xt),!1),qt(this,Ft,Gn).call(this)}_bindAttachment(Nt,Xt){Nt.href=this.linkService.getAnchorUrl(""),Nt.onclick=()=>{var en;return(en=this.downloadManager)==null||en.openOrDownloadData(this.container,Xt.content,Xt.filename),!1},qt(this,Ft,Gn).call(this)}_bindJSAction(Nt,Xt){Nt.href=this.linkService.getAnchorUrl("");const en=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ln of Object.keys(Xt.actions)){const dn=en.get(ln);dn&&(Nt[dn]=()=>{var fn;return(fn=this.linkService.eventBus)==null||fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Xt.id,name:ln}}),!1})}Nt.onclick||(Nt.onclick=()=>!1),qt(this,Ft,Gn).call(this)}_bindResetFormAction(Nt,Xt){const en=Nt.onclick;if(en||(Nt.href=this.linkService.getAnchorUrl("")),qt(this,Ft,Gn).call(this),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),en||(Nt.onclick=()=>!1);return}Nt.onclick=()=>{var Rn;en==null||en();const{fields:ln,refs:dn,include:fn}=Xt,_n=[];if(ln.length!==0||dn.length!==0){const Cn=new Set(dn);for(const Tn of ln){const Pn=this._fieldObjects[Tn]||[];for(const{id:In}of Pn)Cn.add(In)}for(const Tn of Object.values(this._fieldObjects))for(const Pn of Tn)Cn.has(Pn.id)===fn&&_n.push(Pn)}else for(const Cn of Object.values(this._fieldObjects))_n.push(...Cn);const wn=this.annotationStorage,mn=[];for(const Cn of _n){const{id:Tn}=Cn;switch(mn.push(Tn),Cn.type){case"text":{const In=Cn.defaultValue||"";wn.setValue(Tn,{value:In});break}case"checkbox":case"radiobutton":{const In=Cn.defaultValue===Cn.exportValues;wn.setValue(Tn,{value:In});break}case"combobox":case"listbox":{const In=Cn.defaultValue||"";wn.setValue(Tn,{value:In});break}default:continue}const Pn=document.querySelector(`[data-element-id="${Tn}"]`);if(Pn){if(!$.has(Pn)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Tn}`);continue}}else continue;Pn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Rn=this.linkService.eventBus)==null||Rn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:mn,name:"ResetForm"}})),!1}}}Ft=new WeakSet,Gn=function(){this.container.setAttribute("data-internal-link","")},xs=function(Nt,Xt){Nt.href=this.linkService.getAnchorUrl(""),Nt.onclick=()=>(this.linkService.executeSetOCGState(Xt),!1),qt(this,Ft,Gn).call(this)};class it extends st{constructor(zt){super(zt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const zt=document.createElement("img");return zt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",zt.alt="[{{type}} Annotation]",zt.dataset.l10nId="text_annotation_type",zt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(zt),this.container}}class j extends st{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(zt){var Nt;this.data.hasOwnCanvas&&(((Nt=zt.previousSibling)==null?void 0:Nt.nodeName)==="CANVAS"&&(zt.previousSibling.hidden=!0),zt.hidden=!1)}_getKeyModifier(zt){const{isWin:Nt,isMac:Xt}=o.FeatureTest.platform;return Nt&&zt.ctrlKey||Xt&&zt.metaKey}_setEventListener(zt,Nt,Xt,en,ln){Xt.includes("mouse")?zt.addEventListener(Xt,dn=>{var fn;(fn=this.linkService.eventBus)==null||fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:en,value:ln(dn),shift:dn.shiftKey,modifier:this._getKeyModifier(dn)}})}):zt.addEventListener(Xt,dn=>{var fn;if(Xt==="blur"){if(!Nt.focused||!dn.relatedTarget)return;Nt.focused=!1}else if(Xt==="focus"){if(Nt.focused)return;Nt.focused=!0}ln&&((fn=this.linkService.eventBus)==null||fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:en,value:ln(dn)}}))})}_setEventListeners(zt,Nt,Xt,en){var ln,dn,fn;for(const[_n,wn]of Xt)(wn==="Action"||(ln=this.data.actions)!=null&&ln[wn])&&((wn==="Focus"||wn==="Blur")&&(Nt||(Nt={focused:!1})),this._setEventListener(zt,Nt,_n,wn,en),wn==="Focus"&&!((dn=this.data.actions)!=null&&dn.Blur)?this._setEventListener(zt,Nt,"blur","Blur",null):wn==="Blur"&&!((fn=this.data.actions)!=null&&fn.Focus)&&this._setEventListener(zt,Nt,"focus","Focus",null))}_setBackgroundColor(zt){const Nt=this.data.backgroundColor||null;zt.style.backgroundColor=Nt===null?"transparent":o.Util.makeHexColor(Nt[0],Nt[1],Nt[2])}_setTextStyle(zt){const Nt=["left","center","right"],{fontColor:Xt}=this.data.defaultAppearanceData,en=this.data.defaultAppearanceData.fontSize||_,ln=zt.style;let dn;const fn=2,_n=wn=>Math.round(10*wn)/10;if(this.data.multiLine){const wn=Math.abs(this.data.rect[3]-this.data.rect[1]-fn),mn=Math.round(wn/(o.LINE_FACTOR*en))||1,Rn=wn/mn;dn=Math.min(en,_n(Rn/o.LINE_FACTOR))}else{const wn=Math.abs(this.data.rect[3]-this.data.rect[1]-fn);dn=Math.min(en,_n(wn/o.LINE_FACTOR))}ln.fontSize=`calc(${dn}px * var(--scale-factor))`,ln.color=o.Util.makeHexColor(Xt[0],Xt[1],Xt[2]),this.data.textAlignment!==null&&(ln.textAlign=Nt[this.data.textAlignment])}_setRequired(zt,Nt){Nt?zt.setAttribute("required",!0):zt.removeAttribute("required"),zt.setAttribute("aria-required",Nt)}}class tt extends j{constructor(zt){const Nt=zt.renderForms||!zt.data.hasAppearance&&!!zt.data.fieldValue;super(zt,{isRenderable:Nt})}setPropertyOnSiblings(zt,Nt,Xt,en){const ln=this.annotationStorage;for(const dn of this._getElementsByName(zt.name,zt.id))dn.domElement&&(dn.domElement[Nt]=Xt),ln.setValue(dn.id,{[en]:Xt})}render(){var en,ln;const zt=this.annotationStorage,Nt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Xt=null;if(this.renderForms){const dn=zt.getValue(Nt,{value:this.data.fieldValue});let fn=dn.value||"";const _n=zt.getValue(Nt,{charLimit:this.data.maxLen}).charLimit;_n&&fn.length>_n&&(fn=fn.slice(0,_n));let wn=dn.formattedValue||((en=this.data.textContent)==null?void 0:en.join(`
`))||null;wn&&this.data.comb&&(wn=wn.replaceAll(/\s+/g,""));const mn={userValue:fn,formattedValue:wn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Xt=document.createElement("textarea"),Xt.textContent=wn??fn,this.data.doNotScroll&&(Xt.style.overflowY="hidden")):(Xt=document.createElement("input"),Xt.type="text",Xt.setAttribute("value",wn??fn),this.data.doNotScroll&&(Xt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Xt.hidden=!0),$.add(Xt),Xt.setAttribute("data-element-id",Nt),Xt.disabled=this.data.readOnly,Xt.name=this.data.fieldName,Xt.tabIndex=b,this._setRequired(Xt,this.data.required),_n&&(Xt.maxLength=_n),Xt.addEventListener("input",Cn=>{zt.setValue(Nt,{value:Cn.target.value}),this.setPropertyOnSiblings(Xt,"value",Cn.target.value,"value"),mn.formattedValue=null}),Xt.addEventListener("resetform",Cn=>{const Tn=this.data.defaultFieldValue??"";Xt.value=mn.userValue=Tn,mn.formattedValue=null});let Rn=Cn=>{const{formattedValue:Tn}=mn;Tn!=null&&(Cn.target.value=Tn),Cn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Xt.addEventListener("focus",Tn=>{if(mn.focused)return;const{target:Pn}=Tn;mn.userValue&&(Pn.value=mn.userValue),mn.lastCommittedValue=Pn.value,mn.commitKey=1,mn.focused=!0}),Xt.addEventListener("updatefromsandbox",Tn=>{this.showElementAndHideCanvas(Tn.target);const Pn={value(In){mn.userValue=In.detail.value??"",zt.setValue(Nt,{value:mn.userValue.toString()}),In.target.value=mn.userValue},formattedValue(In){const{formattedValue:Fn}=In.detail;mn.formattedValue=Fn,Fn!=null&&In.target!==document.activeElement&&(In.target.value=Fn),zt.setValue(Nt,{formattedValue:Fn})},selRange(In){In.target.setSelectionRange(...In.detail.selRange)},charLimit:In=>{var Bn;const{charLimit:Fn}=In.detail,{target:Nn}=In;if(Fn===0){Nn.removeAttribute("maxLength");return}Nn.setAttribute("maxLength",Fn);let zn=mn.userValue;!zn||zn.length<=Fn||(zn=zn.slice(0,Fn),Nn.value=mn.userValue=zn,zt.setValue(Nt,{value:zn}),(Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:zn,willCommit:!0,commitKey:1,selStart:Nn.selectionStart,selEnd:Nn.selectionEnd}}))}};this._dispatchEventFromSandbox(Pn,Tn)}),Xt.addEventListener("keydown",Tn=>{var Fn;mn.commitKey=1;let Pn=-1;if(Tn.key==="Escape"?Pn=0:Tn.key==="Enter"&&!this.data.multiLine?Pn=2:Tn.key==="Tab"&&(mn.commitKey=3),Pn===-1)return;const{value:In}=Tn.target;mn.lastCommittedValue!==In&&(mn.lastCommittedValue=In,mn.userValue=In,(Fn=this.linkService.eventBus)==null||Fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:In,willCommit:!0,commitKey:Pn,selStart:Tn.target.selectionStart,selEnd:Tn.target.selectionEnd}}))});const Cn=Rn;Rn=null,Xt.addEventListener("blur",Tn=>{var In;if(!mn.focused||!Tn.relatedTarget)return;mn.focused=!1;const{value:Pn}=Tn.target;mn.userValue=Pn,mn.lastCommittedValue!==Pn&&((In=this.linkService.eventBus)==null||In.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:Pn,willCommit:!0,commitKey:mn.commitKey,selStart:Tn.target.selectionStart,selEnd:Tn.target.selectionEnd}})),Cn(Tn)}),(ln=this.data.actions)!=null&&ln.Keystroke&&Xt.addEventListener("beforeinput",Tn=>{var Hn;mn.lastCommittedValue=null;const{data:Pn,target:In}=Tn,{value:Fn,selectionStart:Nn,selectionEnd:zn}=In;let Bn=Nn,Un=zn;switch(Tn.inputType){case"deleteWordBackward":{const $n=Fn.substring(0,Nn).match(/\w*[^\w]*$/);$n&&(Bn-=$n[0].length);break}case"deleteWordForward":{const $n=Fn.substring(Nn).match(/^[^\w]*\w*/);$n&&(Un+=$n[0].length);break}case"deleteContentBackward":Nn===zn&&(Bn-=1);break;case"deleteContentForward":Nn===zn&&(Un+=1);break}Tn.preventDefault(),(Hn=this.linkService.eventBus)==null||Hn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:Fn,change:Pn||"",willCommit:!1,selStart:Bn,selEnd:Un}})}),this._setEventListeners(Xt,mn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Tn=>Tn.target.value)}if(Rn&&Xt.addEventListener("blur",Rn),this.data.comb){const Tn=(this.data.rect[2]-this.data.rect[0])/_n;Xt.classList.add("comb"),Xt.style.letterSpacing=`calc(${Tn}px * var(--scale-factor) - 1ch)`}}else Xt=document.createElement("div"),Xt.textContent=this.data.fieldValue,Xt.style.verticalAlign="middle",Xt.style.display="table-cell";return this._setTextStyle(Xt),this._setBackgroundColor(Xt),this._setDefaultPropertiesFromJS(Xt),this.container.append(Xt),this.container}}class ot extends j{constructor(zt){super(zt,{isRenderable:!!zt.data.hasOwnCanvas})}}class lt extends j{constructor(zt){super(zt,{isRenderable:zt.renderForms})}render(){const zt=this.annotationStorage,Nt=this.data,Xt=Nt.id;let en=zt.getValue(Xt,{value:Nt.exportValue===Nt.fieldValue}).value;typeof en=="string"&&(en=en!=="Off",zt.setValue(Xt,{value:en})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ln=document.createElement("input");return $.add(ln),ln.setAttribute("data-element-id",Xt),ln.disabled=Nt.readOnly,this._setRequired(ln,this.data.required),ln.type="checkbox",ln.name=Nt.fieldName,en&&ln.setAttribute("checked",!0),ln.setAttribute("exportValue",Nt.exportValue),ln.tabIndex=b,ln.addEventListener("change",dn=>{const{name:fn,checked:_n}=dn.target;for(const wn of this._getElementsByName(fn,Xt)){const mn=_n&&wn.exportValue===Nt.exportValue;wn.domElement&&(wn.domElement.checked=mn),zt.setValue(wn.id,{value:mn})}zt.setValue(Xt,{value:_n})}),ln.addEventListener("resetform",dn=>{const fn=Nt.defaultFieldValue||"Off";dn.target.checked=fn===Nt.exportValue}),this.enableScripting&&this.hasJSActions&&(ln.addEventListener("updatefromsandbox",dn=>{const fn={value(_n){_n.target.checked=_n.detail.value!=="Off",zt.setValue(Xt,{value:_n.target.checked})}};this._dispatchEventFromSandbox(fn,dn)}),this._setEventListeners(ln,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],dn=>dn.target.checked)),this._setBackgroundColor(ln),this._setDefaultPropertiesFromJS(ln),this.container.append(ln),this.container}}class rt extends j{constructor(zt){super(zt,{isRenderable:zt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const zt=this.annotationStorage,Nt=this.data,Xt=Nt.id;let en=zt.getValue(Xt,{value:Nt.fieldValue===Nt.buttonValue}).value;typeof en=="string"&&(en=en!==Nt.buttonValue,zt.setValue(Xt,{value:en}));const ln=document.createElement("input");if($.add(ln),ln.setAttribute("data-element-id",Xt),ln.disabled=Nt.readOnly,this._setRequired(ln,this.data.required),ln.type="radio",ln.name=Nt.fieldName,en&&ln.setAttribute("checked",!0),ln.tabIndex=b,ln.addEventListener("change",dn=>{const{name:fn,checked:_n}=dn.target;for(const wn of this._getElementsByName(fn,Xt))zt.setValue(wn.id,{value:!1});zt.setValue(Xt,{value:_n})}),ln.addEventListener("resetform",dn=>{const fn=Nt.defaultFieldValue;dn.target.checked=fn!=null&&fn===Nt.buttonValue}),this.enableScripting&&this.hasJSActions){const dn=Nt.buttonValue;ln.addEventListener("updatefromsandbox",fn=>{const _n={value:wn=>{const mn=dn===wn.detail.value;for(const Rn of this._getElementsByName(wn.target.name)){const Cn=mn&&Rn.id===Xt;Rn.domElement&&(Rn.domElement.checked=Cn),zt.setValue(Rn.id,{value:Cn})}}};this._dispatchEventFromSandbox(_n,fn)}),this._setEventListeners(ln,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],fn=>fn.target.checked)}return this._setBackgroundColor(ln),this._setDefaultPropertiesFromJS(ln),this.container.append(ln),this.container}}class ct extends nt{constructor(zt){super(zt,{ignoreBorder:zt.data.hasAppearance})}render(){const zt=super.render();zt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(zt.title=this.data.alternativeText);const Nt=zt.lastChild;return this.enableScripting&&this.hasJSActions&&Nt&&(this._setDefaultPropertiesFromJS(Nt),Nt.addEventListener("updatefromsandbox",Xt=>{this._dispatchEventFromSandbox({},Xt)})),zt}}class at extends j{constructor(zt){super(zt,{isRenderable:zt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const zt=this.annotationStorage,Nt=this.data.id,Xt=zt.getValue(Nt,{value:this.data.fieldValue}),en=document.createElement("select");$.add(en),en.setAttribute("data-element-id",Nt),en.disabled=this.data.readOnly,this._setRequired(en,this.data.required),en.name=this.data.fieldName,en.tabIndex=b;let ln=this.data.combo&&this.data.options.length>0;this.data.combo||(en.size=this.data.options.length,this.data.multiSelect&&(en.multiple=!0)),en.addEventListener("resetform",mn=>{const Rn=this.data.defaultFieldValue;for(const Cn of en.options)Cn.selected=Cn.value===Rn});for(const mn of this.data.options){const Rn=document.createElement("option");Rn.textContent=mn.displayValue,Rn.value=mn.exportValue,Xt.value.includes(mn.exportValue)&&(Rn.setAttribute("selected",!0),ln=!1),en.append(Rn)}let dn=null;if(ln){const mn=document.createElement("option");mn.value=" ",mn.setAttribute("hidden",!0),mn.setAttribute("selected",!0),en.prepend(mn),dn=()=>{mn.remove(),en.removeEventListener("input",dn),dn=null},en.addEventListener("input",dn)}const fn=mn=>{const Rn=mn?"value":"textContent",{options:Cn,multiple:Tn}=en;return Tn?Array.prototype.filter.call(Cn,Pn=>Pn.selected).map(Pn=>Pn[Rn]):Cn.selectedIndex===-1?null:Cn[Cn.selectedIndex][Rn]};let _n=fn(!1);const wn=mn=>{const Rn=mn.target.options;return Array.prototype.map.call(Rn,Cn=>({displayValue:Cn.textContent,exportValue:Cn.value}))};return this.enableScripting&&this.hasJSActions?(en.addEventListener("updatefromsandbox",mn=>{const Rn={value(Cn){dn==null||dn();const Tn=Cn.detail.value,Pn=new Set(Array.isArray(Tn)?Tn:[Tn]);for(const In of en.options)In.selected=Pn.has(In.value);zt.setValue(Nt,{value:fn(!0)}),_n=fn(!1)},multipleSelection(Cn){en.multiple=!0},remove(Cn){const Tn=en.options,Pn=Cn.detail.remove;Tn[Pn].selected=!1,en.remove(Pn),Tn.length>0&&Array.prototype.findIndex.call(Tn,Fn=>Fn.selected)===-1&&(Tn[0].selected=!0),zt.setValue(Nt,{value:fn(!0),items:wn(Cn)}),_n=fn(!1)},clear(Cn){for(;en.length!==0;)en.remove(0);zt.setValue(Nt,{value:null,items:[]}),_n=fn(!1)},insert(Cn){const{index:Tn,displayValue:Pn,exportValue:In}=Cn.detail.insert,Fn=en.children[Tn],Nn=document.createElement("option");Nn.textContent=Pn,Nn.value=In,Fn?Fn.before(Nn):en.append(Nn),zt.setValue(Nt,{value:fn(!0),items:wn(Cn)}),_n=fn(!1)},items(Cn){const{items:Tn}=Cn.detail;for(;en.length!==0;)en.remove(0);for(const Pn of Tn){const{displayValue:In,exportValue:Fn}=Pn,Nn=document.createElement("option");Nn.textContent=In,Nn.value=Fn,en.append(Nn)}en.options.length>0&&(en.options[0].selected=!0),zt.setValue(Nt,{value:fn(!0),items:wn(Cn)}),_n=fn(!1)},indices(Cn){const Tn=new Set(Cn.detail.indices);for(const Pn of Cn.target.options)Pn.selected=Tn.has(Pn.index);zt.setValue(Nt,{value:fn(!0)}),_n=fn(!1)},editable(Cn){Cn.target.disabled=!Cn.detail.editable}};this._dispatchEventFromSandbox(Rn,mn)}),en.addEventListener("input",mn=>{var Cn;const Rn=fn(!0);zt.setValue(Nt,{value:Rn}),mn.preventDefault(),(Cn=this.linkService.eventBus)==null||Cn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Nt,name:"Keystroke",value:_n,changeEx:Rn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(en,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],mn=>mn.target.value)):en.addEventListener("input",function(mn){zt.setValue(Nt,{value:fn(!0)})}),this.data.combo&&this._setTextStyle(en),this._setBackgroundColor(en),this._setDefaultPropertiesFromJS(en),this.container.append(en),this.container}}class ut extends st{constructor(zt){const{data:Nt,elements:Xt}=zt;super(zt,{isRenderable:st._hasPopupData(Nt)}),this.elements=Xt}render(){this.container.classList.add("popupAnnotation");const zt=new ft({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Nt=[];for(const Xt of this.elements)Xt.popup=zt,Nt.push(Xt.data.id),Xt.addHighlightArea();return this.container.setAttribute("aria-controls",Nt.map(Xt=>`${o.AnnotationPrefix}${Xt}`).join(",")),this.container}}class ft{constructor({container:zt,color:Nt,elements:Xt,titleObj:en,modificationDate:ln,contentsObj:dn,richText:fn,parent:_n,rect:wn,parentRect:mn,open:Rn}){tn(this,un);tn(this,Gt,null);tn(this,Yt,qt(this,un,bs).bind(this));tn(this,Jt,qt(this,un,Hr).bind(this));tn(this,an,qt(this,un,Wr).bind(this));tn(this,ht,qt(this,un,fr).bind(this));tn(this,Wt,null);tn(this,kt,null);tn(this,wt,null);tn(this,dt,null);tn(this,bt,null);tn(this,Dt,null);tn(this,Bt,!1);tn(this,It,null);tn(this,Kt,null);tn(this,Zt,null);tn(this,Vt,null);tn(this,sn,!1);var Tn;rn(this,kt,zt),rn(this,Vt,en),rn(this,wt,dn),rn(this,Zt,fn),rn(this,bt,_n),rn(this,Wt,Nt),rn(this,Kt,wn),rn(this,Dt,mn),rn(this,dt,Xt);const Cn=a.PDFDateString.toDateObject(ln);Cn&&rn(this,Gt,_n.l10n.get("annotation_date_string",{date:Cn.toLocaleDateString(),time:Cn.toLocaleTimeString()})),this.trigger=Xt.flatMap(Pn=>Pn.getElementsToTriggerPopup());for(const Pn of this.trigger)Pn.addEventListener("click",gt(this,ht)),Pn.addEventListener("mouseenter",gt(this,an)),Pn.addEventListener("mouseleave",gt(this,Jt)),Pn.classList.add("popupTriggerArea");for(const Pn of Xt)(Tn=Pn.container)==null||Tn.addEventListener("keydown",gt(this,Yt));gt(this,kt).hidden=!0,Rn&&qt(this,un,fr).call(this)}render(){if(gt(this,It))return;const{page:{view:zt},viewport:{rawDims:{pageWidth:Nt,pageHeight:Xt,pageX:en,pageY:ln}}}=gt(this,bt),dn=rn(this,It,document.createElement("div"));if(dn.className="popup",gt(this,Wt)){const Bn=dn.style.outlineColor=o.Util.makeHexColor(...gt(this,Wt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?dn.style.backgroundColor=`color-mix(in srgb, ${Bn} 30%, white)`:dn.style.backgroundColor=o.Util.makeHexColor(...gt(this,Wt).map(Hn=>Math.floor(.7*(255-Hn)+Hn)))}const fn=document.createElement("span");fn.className="header";const _n=document.createElement("h1");if(fn.append(_n),{dir:_n.dir,str:_n.textContent}=gt(this,Vt),dn.append(fn),gt(this,Gt)){const Bn=document.createElement("span");Bn.classList.add("popupDate"),gt(this,Gt).then(Un=>{Bn.textContent=Un}),fn.append(Bn)}const wn=gt(this,wt),mn=gt(this,Zt);if(mn!=null&&mn.str&&(!(wn!=null&&wn.str)||wn.str===mn.str))g.XfaLayer.render({xfaHtml:mn.html,intent:"richText",div:dn}),dn.lastChild.classList.add("richText","popupContent");else{const Bn=this._formatContents(wn);dn.append(Bn)}let Rn=!!gt(this,Dt),Cn=Rn?gt(this,Dt):gt(this,Kt);for(const Bn of gt(this,dt))if(!Cn||o.Util.intersect(Bn.data.rect,Cn)!==null){Cn=Bn.data.rect,Rn=!0;break}const Tn=o.Util.normalizeRect([Cn[0],zt[3]-Cn[1]+zt[1],Cn[2],zt[3]-Cn[3]+zt[1]]),In=Rn?Cn[2]-Cn[0]+5:0,Fn=Tn[0]+In,Nn=Tn[1],{style:zn}=gt(this,kt);zn.left=`${100*(Fn-en)/Nt}%`,zn.top=`${100*(Nn-ln)/Xt}%`,gt(this,kt).append(dn)}_formatContents({str:zt,dir:Nt}){const Xt=document.createElement("p");Xt.classList.add("popupContent"),Xt.dir=Nt;const en=zt.split(/(?:\r\n?|\n)/);for(let ln=0,dn=en.length;ln<dn;++ln){const fn=en[ln];Xt.append(document.createTextNode(fn)),ln<dn-1&&Xt.append(document.createElement("br"))}return Xt}forceHide(){rn(this,sn,this.isVisible),gt(this,sn)&&(gt(this,kt).hidden=!0)}maybeShow(){gt(this,sn)&&(rn(this,sn,!1),gt(this,kt).hidden=!1)}get isVisible(){return gt(this,kt).hidden===!1}}Gt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,an=new WeakMap,ht=new WeakMap,Wt=new WeakMap,kt=new WeakMap,wt=new WeakMap,dt=new WeakMap,bt=new WeakMap,Dt=new WeakMap,Bt=new WeakMap,It=new WeakMap,Kt=new WeakMap,Zt=new WeakMap,Vt=new WeakMap,sn=new WeakMap,un=new WeakSet,bs=function(zt){zt.altKey||zt.shiftKey||zt.ctrlKey||zt.metaKey||(zt.key==="Enter"||zt.key==="Escape"&&gt(this,Bt))&&qt(this,un,fr).call(this)},fr=function(){rn(this,Bt,!gt(this,Bt)),gt(this,Bt)?(qt(this,un,Wr).call(this),gt(this,kt).addEventListener("click",gt(this,ht)),gt(this,kt).addEventListener("keydown",gt(this,Yt))):(qt(this,un,Hr).call(this),gt(this,kt).removeEventListener("click",gt(this,ht)),gt(this,kt).removeEventListener("keydown",gt(this,Yt)))},Wr=function(){gt(this,It)||this.render(),this.isVisible?gt(this,Bt)&&gt(this,kt).classList.add("focused"):(gt(this,kt).hidden=!1,gt(this,kt).style.zIndex=parseInt(gt(this,kt).style.zIndex)+1e3)},Hr=function(){gt(this,kt).classList.remove("focused"),!(gt(this,Bt)||!this.isVisible)&&(gt(this,kt).hidden=!0,gt(this,kt).style.zIndex=parseInt(gt(this,kt).style.zIndex)-1e3)};class Ct extends st{constructor(zt){super(zt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=zt.data.textContent,this.textPosition=zt.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const zt=document.createElement("div");zt.classList.add("annotationTextContent"),zt.setAttribute("role","comment");for(const Nt of this.textContent){const Xt=document.createElement("span");Xt.textContent=Nt,zt.append(Xt)}this.container.append(zt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}s.FreeTextAnnotationElement=Ct;class xt extends st{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});tn(this,En,null)}render(){this.container.classList.add("lineAnnotation");const Nt=this.data,{width:Xt,height:en}=et(Nt.rect),ln=this.svgFactory.create(Xt,en,!0),dn=rn(this,En,this.svgFactory.createElement("svg:line"));return dn.setAttribute("x1",Nt.rect[2]-Nt.lineCoordinates[0]),dn.setAttribute("y1",Nt.rect[3]-Nt.lineCoordinates[1]),dn.setAttribute("x2",Nt.rect[2]-Nt.lineCoordinates[2]),dn.setAttribute("y2",Nt.rect[3]-Nt.lineCoordinates[3]),dn.setAttribute("stroke-width",Nt.borderStyle.width||1),dn.setAttribute("stroke","transparent"),dn.setAttribute("fill","transparent"),ln.append(dn),this.container.append(ln),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return gt(this,En)}addHighlightArea(){this.container.classList.add("highlightArea")}}En=new WeakMap;class pt extends st{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});tn(this,kn,null)}render(){this.container.classList.add("squareAnnotation");const Nt=this.data,{width:Xt,height:en}=et(Nt.rect),ln=this.svgFactory.create(Xt,en,!0),dn=Nt.borderStyle.width,fn=rn(this,kn,this.svgFactory.createElement("svg:rect"));return fn.setAttribute("x",dn/2),fn.setAttribute("y",dn/2),fn.setAttribute("width",Xt-dn),fn.setAttribute("height",en-dn),fn.setAttribute("stroke-width",dn||1),fn.setAttribute("stroke","transparent"),fn.setAttribute("fill","transparent"),ln.append(fn),this.container.append(ln),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return gt(this,kn)}addHighlightArea(){this.container.classList.add("highlightArea")}}kn=new WeakMap;class _t extends st{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});tn(this,Mn,null)}render(){this.container.classList.add("circleAnnotation");const Nt=this.data,{width:Xt,height:en}=et(Nt.rect),ln=this.svgFactory.create(Xt,en,!0),dn=Nt.borderStyle.width,fn=rn(this,Mn,this.svgFactory.createElement("svg:ellipse"));return fn.setAttribute("cx",Xt/2),fn.setAttribute("cy",en/2),fn.setAttribute("rx",Xt/2-dn/2),fn.setAttribute("ry",en/2-dn/2),fn.setAttribute("stroke-width",dn||1),fn.setAttribute("stroke","transparent"),fn.setAttribute("fill","transparent"),ln.append(fn),this.container.append(ln),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return gt(this,Mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mn=new WeakMap;class mt extends st{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});tn(this,hn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Nt=this.data,{width:Xt,height:en}=et(Nt.rect),ln=this.svgFactory.create(Xt,en,!0);let dn=[];for(const _n of Nt.vertices){const wn=_n.x-Nt.rect[0],mn=Nt.rect[3]-_n.y;dn.push(wn+","+mn)}dn=dn.join(" ");const fn=rn(this,hn,this.svgFactory.createElement(this.svgElementName));return fn.setAttribute("points",dn),fn.setAttribute("stroke-width",Nt.borderStyle.width||1),fn.setAttribute("stroke","transparent"),fn.setAttribute("fill","transparent"),ln.append(fn),this.container.append(ln),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return gt(this,hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}hn=new WeakMap;class Pt extends mt{constructor(zt){super(zt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ut extends st{constructor(zt){super(zt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Tt extends st{constructor(Nt){super(Nt,{isRenderable:!0,ignoreBorder:!0});tn(this,Qt,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Nt=this.data,{width:Xt,height:en}=et(Nt.rect),ln=this.svgFactory.create(Xt,en,!0);for(const dn of Nt.inkLists){let fn=[];for(const wn of dn){const mn=wn.x-Nt.rect[0],Rn=Nt.rect[3]-wn.y;fn.push(`${mn},${Rn}`)}fn=fn.join(" ");const _n=this.svgFactory.createElement(this.svgElementName);gt(this,Qt).push(_n),_n.setAttribute("points",fn),_n.setAttribute("stroke-width",Nt.borderStyle.width||1),_n.setAttribute("stroke","transparent"),_n.setAttribute("fill","transparent"),!Nt.popupRef&&this.hasPopupData&&this._createPopup(),ln.append(_n)}return this.container.append(ln),this.container}getElementsToTriggerPopup(){return gt(this,Qt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qt=new WeakMap,s.InkAnnotationElement=Tt;class Ot extends st{constructor(zt){super(zt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class At extends st{constructor(zt){super(zt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Mt extends st{constructor(zt){super(zt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Rt extends st{constructor(zt){super(zt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Et extends st{constructor(zt){super(zt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}s.StampAnnotationElement=Et;class yt extends st{constructor(Nt){var ln;super(Nt,{isRenderable:!0});tn(this,bn);tn(this,nn,null);const{filename:Xt,content:en}=this.data.file;this.filename=(0,a.getFilenameFromUrl)(Xt,!0),this.content=en,(ln=this.linkService.eventBus)==null||ln.dispatch("fileattachmentannotation",{source:this,filename:Xt,content:en})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Nt,data:Xt}=this;let en;Xt.hasAppearance||Xt.fillAlpha===0?en=document.createElement("div"):(en=document.createElement("img"),en.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Xt.name)?"paperclip":"pushpin"}.svg`,Xt.fillAlpha&&Xt.fillAlpha<1&&(en.style=`filter: opacity(${Math.round(Xt.fillAlpha*100)}%);`)),en.addEventListener("dblclick",qt(this,bn,$r).bind(this)),rn(this,nn,en);const{isMac:ln}=o.FeatureTest.platform;return Nt.addEventListener("keydown",dn=>{dn.key==="Enter"&&(ln?dn.metaKey:dn.ctrlKey)&&qt(this,bn,$r).call(this)}),!Xt.popupRef&&this.hasPopupData?this._createPopup():en.classList.add("popupTriggerArea"),Nt.append(en),Nt}getElementsToTriggerPopup(){return gt(this,nn)}addHighlightArea(){this.container.classList.add("highlightArea")}}nn=new WeakMap,bn=new WeakSet,$r=function(){var Nt;(Nt=this.downloadManager)==null||Nt.openOrDownloadData(this.container,this.content,this.filename)};class vt{constructor({div:zt,accessibilityManager:Nt,annotationCanvasMap:Xt,l10n:en,page:ln,viewport:dn}){tn(this,pn);tn(this,jn,null);tn(this,Ht,null);tn(this,on,new Map);this.div=zt,rn(this,jn,Nt),rn(this,Ht,Xt),this.l10n=en,this.page=ln,this.viewport=dn,this.zIndex=0,this.l10n||(this.l10n=h.NullL10n)}async render(zt){const{annotations:Nt}=zt,Xt=this.div;(0,a.setLayerDimensions)(Xt,this.viewport);const en=new Map,ln={data:null,layer:Xt,linkService:zt.linkService,downloadManager:zt.downloadManager,imageResourcesPath:zt.imageResourcesPath||"",renderForms:zt.renderForms!==!1,svgFactory:new a.DOMSVGFactory,annotationStorage:zt.annotationStorage||new c.AnnotationStorage,enableScripting:zt.enableScripting===!0,hasJSActions:zt.hasJSActions,fieldObjects:zt.fieldObjects,parent:this,elements:null};for(const dn of Nt){if(dn.noHTML)continue;const fn=dn.annotationType===o.AnnotationType.POPUP;if(fn){const mn=en.get(dn.id);if(!mn)continue;ln.elements=mn}else{const{width:mn,height:Rn}=et(dn.rect);if(mn<=0||Rn<=0)continue}ln.data=dn;const _n=_e.create(ln);if(!_n.isRenderable)continue;if(!fn&&dn.popupRef){const mn=en.get(dn.popupRef);mn?mn.push(_n):en.set(dn.popupRef,[_n])}_n.annotationEditorType>0&&gt(this,on).set(_n.data.id,_n);const wn=_n.render();dn.hidden&&(wn.style.visibility="hidden"),qt(this,pn,Es).call(this,wn,dn.id)}qt(this,pn,Gr).call(this),await this.l10n.translate(Xt)}update({viewport:zt}){const Nt=this.div;this.viewport=zt,(0,a.setLayerDimensions)(Nt,{rotation:zt.rotation}),qt(this,pn,Gr).call(this),Nt.hidden=!1}getEditableAnnotations(){return Array.from(gt(this,on).values())}getEditableAnnotation(zt){return gt(this,on).get(zt)}}jn=new WeakMap,Ht=new WeakMap,on=new WeakMap,pn=new WeakSet,Es=function(zt,Nt){var en;const Xt=zt.firstChild||zt;Xt.id=`${o.AnnotationPrefix}${Nt}`,this.div.append(zt),(en=gt(this,jn))==null||en.moveElementInDOM(this.div,zt,Xt,!1)},Gr=function(){if(!gt(this,Ht))return;const zt=this.div;for(const[Nt,Xt]of gt(this,Ht)){const en=zt.querySelector(`[data-annotation-id="${Nt}"]`);if(!en)continue;const{firstChild:ln}=en;ln?ln.nodeName==="CANVAS"?ln.replaceWith(Xt):ln.before(Xt):en.append(Xt)}gt(this,Ht).clear()},s.AnnotationLayer=vt},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function i(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function o(c){return Math.max(0,Math.min(255,255*c))}class a{static CMYK_G([d,h,g,b]){return["G",1-Math.min(1,.3*d+.59*g+.11*h+b)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_rgb([d]){return d=o(d),[d,d,d]}static G_HTML([d]){const h=i(d);return`#${h}${h}${h}`}static RGB_G([d,h,g]){return["G",.3*d+.59*h+.11*g]}static RGB_rgb(d){return d.map(o)}static RGB_HTML(d){return`#${d.map(i).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([d,h,g,b]){return["RGB",1-Math.min(1,d+b),1-Math.min(1,g+b),1-Math.min(1,h+b)]}static CMYK_rgb([d,h,g,b]){return[o(1-Math.min(1,d+b)),o(1-Math.min(1,g+b)),o(1-Math.min(1,h+b))]}static CMYK_HTML(d){const h=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(h)}static RGB_CMYK([d,h,g]){const b=1-d,_=1-h,$=1-g,et=Math.min(b,_,$);return["CMYK",b,_,$,et]}}s.ColorConverters=a},(e,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.getL10nFallback=o;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};i.print_progress_percent="{{progress}}%";function o(d,h){switch(d){case"find_match_count":d=`find_match_count[${h.total===1?"one":"other"}]`;break;case"find_match_count_limit":d=`find_match_count_limit[${h.limit===1?"one":"other"}]`;break}return i[d]||""}function a(d,h){return h?d.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(g,b)=>b in h?h[b]:"{{"+b+"}}"):d}const c={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(d,h=null,g=o(d,h)){return a(g,h)},async translate(d){}};s.NullL10n=c},(e,s,i)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var o=i(25);class a{static setupStorage(d,h,g,b,_){const $=b.getValue(h,{value:null});switch(g.name){case"textarea":if($.value!==null&&(d.textContent=$.value),_==="print")break;d.addEventListener("input",et=>{b.setValue(h,{value:et.target.value})});break;case"input":if(g.attributes.type==="radio"||g.attributes.type==="checkbox"){if($.value===g.attributes.xfaOn?d.setAttribute("checked",!0):$.value===g.attributes.xfaOff&&d.removeAttribute("checked"),_==="print")break;d.addEventListener("change",et=>{b.setValue(h,{value:et.target.checked?et.target.getAttribute("xfaOn"):et.target.getAttribute("xfaOff")})})}else{if($.value!==null&&d.setAttribute("value",$.value),_==="print")break;d.addEventListener("input",et=>{b.setValue(h,{value:et.target.value})})}break;case"select":if($.value!==null){d.setAttribute("value",$.value);for(const et of g.children)et.attributes.value===$.value?et.attributes.selected=!0:et.attributes.hasOwnProperty("selected")&&delete et.attributes.selected}d.addEventListener("input",et=>{const _e=et.target.options,st=_e.selectedIndex===-1?"":_e[_e.selectedIndex].value;b.setValue(h,{value:st})});break}}static setAttributes({html:d,element:h,storage:g=null,intent:b,linkService:_}){const{attributes:$}=h,et=d instanceof HTMLAnchorElement;$.type==="radio"&&($.name=`${$.name}-${b}`);for(const[_e,st]of Object.entries($))if(st!=null)switch(_e){case"class":st.length&&d.setAttribute(_e,st.join(" "));break;case"dataId":break;case"id":d.setAttribute("data-element-id",st);break;case"style":Object.assign(d.style,st);break;case"textContent":d.textContent=st;break;default:(!et||_e!=="href"&&_e!=="newWindow")&&d.setAttribute(_e,st)}et&&_.addLinkAttributes(d,$.href,$.newWindow),g&&$.dataId&&this.setupStorage(d,$.dataId,h,g)}static render(d){var nt;const h=d.annotationStorage,g=d.linkService,b=d.xfaHtml,_=d.intent||"display",$=document.createElement(b.name);b.attributes&&this.setAttributes({html:$,element:b,intent:_,linkService:g});const et=[[b,-1,$]],_e=d.div;if(_e.append($),d.viewport){const it=`matrix(${d.viewport.transform.join(",")})`;_e.style.transform=it}_!=="richText"&&_e.setAttribute("class","xfaLayer xfaFont");const st=[];for(;et.length>0;){const[it,j,tt]=et.at(-1);if(j+1===it.children.length){et.pop();continue}const ot=it.children[++et.at(-1)[1]];if(ot===null)continue;const{name:lt}=ot;if(lt==="#text"){const ct=document.createTextNode(ot.value);st.push(ct),tt.append(ct);continue}const rt=(nt=ot==null?void 0:ot.attributes)!=null&&nt.xmlns?document.createElementNS(ot.attributes.xmlns,lt):document.createElement(lt);if(tt.append(rt),ot.attributes&&this.setAttributes({html:rt,element:ot,storage:h,intent:_,linkService:g}),ot.children&&ot.children.length>0)et.push([ot,-1,rt]);else if(ot.value){const ct=document.createTextNode(ot.value);o.XfaText.shouldBuildText(lt)&&st.push(ct),rt.append(ct)}}for(const it of _e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))it.setAttribute("readOnly",!0);return{textDivs:st}}static update(d){const h=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=h,d.div.hidden=!1}}s.XfaLayer=a},(e,s,i)=>{var b,_,$,et,_e,st,nt,it,j,tt,ot,lt,rt,ct,at,ws,Ss,_s,As,Kr,Cs,Xr,ks,Ts,Rs,Ps,Ds,Wn,qr,pr,mr,Yn,Yr,gr,Ft,js,Zr,Ms,Ls,Qr,yr,Zn;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0;var o=i(1),a=i(4),c=i(29),d=i(6),h=i(5);const Wt=class Wt extends a.AnnotationEditor{constructor(dt){super({...dt,name:"inkEditor"});tn(this,at);tn(this,b,0);tn(this,_,0);tn(this,$,this.canvasPointermove.bind(this));tn(this,et,this.canvasPointerleave.bind(this));tn(this,_e,this.canvasPointerup.bind(this));tn(this,st,this.canvasPointerdown.bind(this));tn(this,nt,new Path2D);tn(this,it,!1);tn(this,j,!1);tn(this,tt,!1);tn(this,ot,null);tn(this,lt,0);tn(this,rt,0);tn(this,ct,null);this.color=dt.color||null,this.thickness=dt.thickness||null,this.opacity=dt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(dt){a.AnnotationEditor.initialize(dt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(dt,bt){switch(dt){case o.AnnotationEditorParamsType.INK_THICKNESS:Wt._defaultThickness=bt;break;case o.AnnotationEditorParamsType.INK_COLOR:Wt._defaultColor=bt;break;case o.AnnotationEditorParamsType.INK_OPACITY:Wt._defaultOpacity=bt/100;break}}updateParams(dt,bt){switch(dt){case o.AnnotationEditorParamsType.INK_THICKNESS:qt(this,at,ws).call(this,bt);break;case o.AnnotationEditorParamsType.INK_COLOR:qt(this,at,Ss).call(this,bt);break;case o.AnnotationEditorParamsType.INK_OPACITY:qt(this,at,_s).call(this,bt);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,Wt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,Wt._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(Wt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Wt._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||Wt._defaultColor||a.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Wt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(qt(this,at,pr).call(this),qt(this,at,mr).call(this)),this.isAttachedToDOM||(this.parent.add(this),qt(this,at,Yn).call(this)),qt(this,at,Zn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,gt(this,ot).disconnect(),rn(this,ot,null),super.remove())}setParent(dt){!this.parent&&dt?this._uiManager.removeShouldRescale(this):this.parent&&dt===null&&this._uiManager.addShouldRescale(this),super.setParent(dt)}onScaleChanging(){const[dt,bt]=this.parentDimensions,Dt=this.width*dt,Bt=this.height*bt;this.setDimensions(Dt,Bt)}enableEditMode(){gt(this,it)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",gt(this,st)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",gt(this,st)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){gt(this,it)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),rn(this,it,!0),this.div.classList.add("disabled"),qt(this,at,Zn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(dt){this._focusEventsAllowed&&(super.focusin(dt),this.enableEditMode())}canvasPointerdown(dt){dt.button!==0||!this.isInEditMode()||gt(this,it)||(this.setInForeground(),dt.preventDefault(),dt.type!=="mouse"&&this.div.focus(),qt(this,at,Cs).call(this,dt.offsetX,dt.offsetY))}canvasPointermove(dt){dt.preventDefault(),qt(this,at,Xr).call(this,dt.offsetX,dt.offsetY)}canvasPointerup(dt){dt.preventDefault(),qt(this,at,qr).call(this,dt)}canvasPointerleave(dt){qt(this,at,qr).call(this,dt)}get isResizable(){return!this.isEmpty()&&gt(this,it)}render(){if(this.div)return this.div;let dt,bt;this.width&&(dt=this.x,bt=this.y),super.render(),a.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Zt=>{var Vt;return(Vt=this.div)==null?void 0:Vt.setAttribute("aria-label",Zt)});const[Dt,Bt,It,Kt]=qt(this,at,As).call(this);if(this.setAt(Dt,Bt,0,0),this.setDims(It,Kt),qt(this,at,pr).call(this),this.width){const[Zt,Vt]=this.parentDimensions;this.setAspectRatio(this.width*Zt,this.height*Vt),this.setAt(dt*Zt,bt*Vt,this.width*Zt,this.height*Vt),rn(this,tt,!0),qt(this,at,Yn).call(this),this.setDims(this.width*Zt,this.height*Vt),qt(this,at,Wn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return qt(this,at,mr).call(this),this.div}setDimensions(dt,bt){const Dt=Math.round(dt),Bt=Math.round(bt);if(gt(this,lt)===Dt&&gt(this,rt)===Bt)return;rn(this,lt,Dt),rn(this,rt,Bt),this.canvas.style.visibility="hidden";const[It,Kt]=this.parentDimensions;this.width=dt/It,this.height=bt/Kt,this.fixAndSetPosition(),gt(this,it)&&qt(this,at,Yr).call(this,dt,bt),qt(this,at,Yn).call(this),qt(this,at,Wn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(dt,bt,Dt){var En,kn,Mn;if(dt instanceof c.InkAnnotationElement)return null;const Bt=super.deserialize(dt,bt,Dt);Bt.thickness=dt.thickness,Bt.color=o.Util.makeHexColor(...dt.color),Bt.opacity=dt.opacity;const[It,Kt]=Bt.pageDimensions,Zt=Bt.width*It,Vt=Bt.height*Kt,sn=Bt.parentScale,un=dt.thickness/2;rn(Bt,it,!0),rn(Bt,lt,Math.round(Zt)),rn(Bt,rt,Math.round(Vt));const{paths:yn,rect:Sn,rotation:Dn}=dt;for(let{bezier:hn}of yn){hn=qt(En=Wt,Ft,Ms).call(En,hn,Sn,Dn);const Qt=[];Bt.paths.push(Qt);let nn=sn*(hn[0]-un),bn=sn*(hn[1]-un);for(let jn=2,Ht=hn.length;jn<Ht;jn+=6){const on=sn*(hn[jn]-un),pn=sn*(hn[jn+1]-un),xn=sn*(hn[jn+2]-un),An=sn*(hn[jn+3]-un),vn=sn*(hn[jn+4]-un),zt=sn*(hn[jn+5]-un);Qt.push([[nn,bn],[on,pn],[xn,An],[vn,zt]]),nn=vn,bn=zt}const Ln=qt(this,Ft,js).call(this,Qt);Bt.bezierPath2D.push(Ln)}const gn=qt(kn=Bt,at,Qr).call(kn);return rn(Bt,_,Math.max(a.AnnotationEditor.MIN_SIZE,gn[2]-gn[0])),rn(Bt,b,Math.max(a.AnnotationEditor.MIN_SIZE,gn[3]-gn[1])),qt(Mn=Bt,at,Yr).call(Mn,Zt,Vt),Bt}serialize(){if(this.isEmpty())return null;const dt=this.getRect(0,0),bt=a.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:bt,thickness:this.thickness,opacity:this.opacity,paths:qt(this,at,Ls).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,dt),pageIndex:this.pageIndex,rect:dt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};b=new WeakMap,_=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,st=new WeakMap,nt=new WeakMap,it=new WeakMap,j=new WeakMap,tt=new WeakMap,ot=new WeakMap,lt=new WeakMap,rt=new WeakMap,ct=new WeakMap,at=new WeakSet,ws=function(dt){const bt=this.thickness;this.addCommands({cmd:()=>{this.thickness=dt,qt(this,at,Zn).call(this)},undo:()=>{this.thickness=bt,qt(this,at,Zn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ss=function(dt){const bt=this.color;this.addCommands({cmd:()=>{this.color=dt,qt(this,at,Wn).call(this)},undo:()=>{this.color=bt,qt(this,at,Wn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_s=function(dt){dt/=100;const bt=this.opacity;this.addCommands({cmd:()=>{this.opacity=dt,qt(this,at,Wn).call(this)},undo:()=>{this.opacity=bt,qt(this,at,Wn).call(this)},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},As=function(){const{parentRotation:dt,parentDimensions:[bt,Dt]}=this;switch(dt){case 90:return[0,Dt,Dt,bt];case 180:return[bt,Dt,bt,Dt];case 270:return[bt,0,Dt,bt];default:return[0,0,bt,Dt]}},Kr=function(){const{ctx:dt,color:bt,opacity:Dt,thickness:Bt,parentScale:It,scaleFactor:Kt}=this;dt.lineWidth=Bt*It/Kt,dt.lineCap="round",dt.lineJoin="round",dt.miterLimit=10,dt.strokeStyle=`${bt}${(0,h.opacityToHex)(Dt)}`},Cs=function(dt,bt){this.canvas.addEventListener("contextmenu",d.noContextMenu),this.canvas.addEventListener("pointerleave",gt(this,et)),this.canvas.addEventListener("pointermove",gt(this,$)),this.canvas.addEventListener("pointerup",gt(this,_e)),this.canvas.removeEventListener("pointerdown",gt(this,st)),this.isEditing=!0,gt(this,tt)||(rn(this,tt,!0),qt(this,at,Yn).call(this),this.thickness||(this.thickness=Wt._defaultThickness),this.color||(this.color=Wt._defaultColor||a.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Wt._defaultOpacity)),this.currentPath.push([dt,bt]),rn(this,j,!1),qt(this,at,Kr).call(this),rn(this,ct,()=>{qt(this,at,Rs).call(this),gt(this,ct)&&window.requestAnimationFrame(gt(this,ct))}),window.requestAnimationFrame(gt(this,ct))},Xr=function(dt,bt){const[Dt,Bt]=this.currentPath.at(-1);if(this.currentPath.length>1&&dt===Dt&&bt===Bt)return;const It=this.currentPath;let Kt=gt(this,nt);if(It.push([dt,bt]),rn(this,j,!0),It.length<=2){Kt.moveTo(...It[0]),Kt.lineTo(dt,bt);return}It.length===3&&(rn(this,nt,Kt=new Path2D),Kt.moveTo(...It[0])),qt(this,at,Ps).call(this,Kt,...It.at(-3),...It.at(-2),dt,bt)},ks=function(){if(this.currentPath.length===0)return;const dt=this.currentPath.at(-1);gt(this,nt).lineTo(...dt)},Ts=function(dt,bt){rn(this,ct,null),dt=Math.min(Math.max(dt,0),this.canvas.width),bt=Math.min(Math.max(bt,0),this.canvas.height),qt(this,at,Xr).call(this,dt,bt),qt(this,at,ks).call(this);let Dt;if(this.currentPath.length!==1)Dt=qt(this,at,Ds).call(this);else{const Vt=[dt,bt];Dt=[[Vt,Vt.slice(),Vt.slice(),Vt]]}const Bt=gt(this,nt),It=this.currentPath;this.currentPath=[],rn(this,nt,new Path2D);const Kt=()=>{this.allRawPaths.push(It),this.paths.push(Dt),this.bezierPath2D.push(Bt),this.rebuild()},Zt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(qt(this,at,pr).call(this),qt(this,at,mr).call(this)),qt(this,at,Zn).call(this))};this.addCommands({cmd:Kt,undo:Zt,mustExec:!0})},Rs=function(){if(!gt(this,j))return;rn(this,j,!1);const dt=Math.ceil(this.thickness*this.parentScale),bt=this.currentPath.slice(-3),Dt=bt.map(Kt=>Kt[0]),Bt=bt.map(Kt=>Kt[1]);Math.min(...Dt)-dt,Math.max(...Dt)+dt,Math.min(...Bt)-dt,Math.max(...Bt)+dt;const{ctx:It}=this;It.save(),It.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Kt of this.bezierPath2D)It.stroke(Kt);It.stroke(gt(this,nt)),It.restore()},Ps=function(dt,bt,Dt,Bt,It,Kt,Zt){const Vt=(bt+Bt)/2,sn=(Dt+It)/2,un=(Bt+Kt)/2,yn=(It+Zt)/2;dt.bezierCurveTo(Vt+2*(Bt-Vt)/3,sn+2*(It-sn)/3,un+2*(Bt-un)/3,yn+2*(It-yn)/3,un,yn)},Ds=function(){const dt=this.currentPath;if(dt.length<=2)return[[dt[0],dt[0],dt.at(-1),dt.at(-1)]];const bt=[];let Dt,[Bt,It]=dt[0];for(Dt=1;Dt<dt.length-2;Dt++){const[Sn,Dn]=dt[Dt],[gn,En]=dt[Dt+1],kn=(Sn+gn)/2,Mn=(Dn+En)/2,hn=[Bt+2*(Sn-Bt)/3,It+2*(Dn-It)/3],Qt=[kn+2*(Sn-kn)/3,Mn+2*(Dn-Mn)/3];bt.push([[Bt,It],hn,Qt,[kn,Mn]]),[Bt,It]=[kn,Mn]}const[Kt,Zt]=dt[Dt],[Vt,sn]=dt[Dt+1],un=[Bt+2*(Kt-Bt)/3,It+2*(Zt-It)/3],yn=[Vt+2*(Kt-Vt)/3,sn+2*(Zt-sn)/3];return bt.push([[Bt,It],un,yn,[Vt,sn]]),bt},Wn=function(){if(this.isEmpty()){qt(this,at,gr).call(this);return}qt(this,at,Kr).call(this);const{canvas:dt,ctx:bt}=this;bt.setTransform(1,0,0,1,0,0),bt.clearRect(0,0,dt.width,dt.height),qt(this,at,gr).call(this);for(const Dt of this.bezierPath2D)bt.stroke(Dt)},qr=function(dt){this.canvas.removeEventListener("pointerleave",gt(this,et)),this.canvas.removeEventListener("pointermove",gt(this,$)),this.canvas.removeEventListener("pointerup",gt(this,_e)),this.canvas.addEventListener("pointerdown",gt(this,st)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",d.noContextMenu)},10),qt(this,at,Ts).call(this,dt.offsetX,dt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},pr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",a.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(dt=>{var bt;return(bt=this.canvas)==null?void 0:bt.setAttribute("aria-label",dt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},mr=function(){rn(this,ot,new ResizeObserver(dt=>{const bt=dt[0].contentRect;bt.width&&bt.height&&this.setDimensions(bt.width,bt.height)})),gt(this,ot).observe(this.div)},Yn=function(){if(!gt(this,tt))return;const[dt,bt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*dt),this.canvas.height=Math.ceil(this.height*bt),qt(this,at,gr).call(this)},Yr=function(dt,bt){const Dt=qt(this,at,yr).call(this),Bt=(dt-Dt)/gt(this,_),It=(bt-Dt)/gt(this,b);this.scaleFactor=Math.min(Bt,It)},gr=function(){const dt=qt(this,at,yr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+dt,this.translationY*this.scaleFactor+dt)},Ft=new WeakSet,js=function(dt){const bt=new Path2D;for(let Dt=0,Bt=dt.length;Dt<Bt;Dt++){const[It,Kt,Zt,Vt]=dt[Dt];Dt===0&&bt.moveTo(...It),bt.bezierCurveTo(Kt[0],Kt[1],Zt[0],Zt[1],Vt[0],Vt[1])}return bt},Zr=function(dt,bt,Dt){const[Bt,It,Kt,Zt]=bt;switch(Dt){case 0:for(let Vt=0,sn=dt.length;Vt<sn;Vt+=2)dt[Vt]+=Bt,dt[Vt+1]=Zt-dt[Vt+1];break;case 90:for(let Vt=0,sn=dt.length;Vt<sn;Vt+=2){const un=dt[Vt];dt[Vt]=dt[Vt+1]+Bt,dt[Vt+1]=un+It}break;case 180:for(let Vt=0,sn=dt.length;Vt<sn;Vt+=2)dt[Vt]=Kt-dt[Vt],dt[Vt+1]+=It;break;case 270:for(let Vt=0,sn=dt.length;Vt<sn;Vt+=2){const un=dt[Vt];dt[Vt]=Kt-dt[Vt+1],dt[Vt+1]=Zt-un}break;default:throw new Error("Invalid rotation")}return dt},Ms=function(dt,bt,Dt){const[Bt,It,Kt,Zt]=bt;switch(Dt){case 0:for(let Vt=0,sn=dt.length;Vt<sn;Vt+=2)dt[Vt]-=Bt,dt[Vt+1]=Zt-dt[Vt+1];break;case 90:for(let Vt=0,sn=dt.length;Vt<sn;Vt+=2){const un=dt[Vt];dt[Vt]=dt[Vt+1]-It,dt[Vt+1]=un-Bt}break;case 180:for(let Vt=0,sn=dt.length;Vt<sn;Vt+=2)dt[Vt]=Kt-dt[Vt],dt[Vt+1]-=It;break;case 270:for(let Vt=0,sn=dt.length;Vt<sn;Vt+=2){const un=dt[Vt];dt[Vt]=Zt-dt[Vt+1],dt[Vt+1]=Kt-un}break;default:throw new Error("Invalid rotation")}return dt},Ls=function(dt,bt,Dt,Bt){var sn,un;const It=[],Kt=this.thickness/2,Zt=dt*bt+Kt,Vt=dt*Dt+Kt;for(const yn of this.paths){const Sn=[],Dn=[];for(let gn=0,En=yn.length;gn<En;gn++){const[kn,Mn,hn,Qt]=yn[gn],nn=dt*kn[0]+Zt,bn=dt*kn[1]+Vt,Ln=dt*Mn[0]+Zt,jn=dt*Mn[1]+Vt,Ht=dt*hn[0]+Zt,on=dt*hn[1]+Vt,pn=dt*Qt[0]+Zt,xn=dt*Qt[1]+Vt;gn===0&&(Sn.push(nn,bn),Dn.push(nn,bn)),Sn.push(Ln,jn,Ht,on,pn,xn),Dn.push(Ln,jn),gn===En-1&&Dn.push(pn,xn)}It.push({bezier:qt(sn=Wt,Ft,Zr).call(sn,Sn,Bt,this.rotation),points:qt(un=Wt,Ft,Zr).call(un,Dn,Bt,this.rotation)})}return It},Qr=function(){let dt=1/0,bt=-1/0,Dt=1/0,Bt=-1/0;for(const It of this.paths)for(const[Kt,Zt,Vt,sn]of It){const un=o.Util.bezierBoundingBox(...Kt,...Zt,...Vt,...sn);dt=Math.min(dt,un[0]),Dt=Math.min(Dt,un[1]),bt=Math.max(bt,un[2]),Bt=Math.max(Bt,un[3])}return[dt,Dt,bt,Bt]},yr=function(){return gt(this,it)?Math.ceil(this.thickness*this.parentScale):0},Zn=function(dt=!1){if(this.isEmpty())return;if(!gt(this,it)){qt(this,at,Wn).call(this);return}const bt=qt(this,at,Qr).call(this),Dt=qt(this,at,yr).call(this);rn(this,_,Math.max(a.AnnotationEditor.MIN_SIZE,bt[2]-bt[0])),rn(this,b,Math.max(a.AnnotationEditor.MIN_SIZE,bt[3]-bt[1]));const Bt=Math.ceil(Dt+gt(this,_)*this.scaleFactor),It=Math.ceil(Dt+gt(this,b)*this.scaleFactor),[Kt,Zt]=this.parentDimensions;this.width=Bt/Kt,this.height=It/Zt,this.setAspectRatio(Bt,It);const Vt=this.translationX,sn=this.translationY;this.translationX=-bt[0],this.translationY=-bt[1],qt(this,at,Yn).call(this),qt(this,at,Wn).call(this),rn(this,lt,Bt),rn(this,rt,It),this.setDims(Bt,It);const un=dt?Dt/this.scaleFactor/2:0;this.translate(Vt-this.translationX-un,sn-this.translationY-un)},tn(Wt,Ft),On(Wt,"_defaultColor",null),On(Wt,"_defaultOpacity",1),On(Wt,"_defaultThickness",1),On(Wt,"_type","ink");let g=Wt;s.InkEditor=g},(e,s,i)=>{var g,b,_,$,et,_e,st,nt,it,j,tt,sr,ir,vr,Jr,Is,Fs,es,xr,Ns;Object.defineProperty(s,"__esModule",{value:!0}),s.StampEditor=void 0;var o=i(1),a=i(4),c=i(6),d=i(29);const pt=class pt extends a.AnnotationEditor{constructor(Pt){super({...Pt,name:"stampEditor"});tn(this,tt);tn(this,g,null);tn(this,b,null);tn(this,_,null);tn(this,$,null);tn(this,et,null);tn(this,_e,null);tn(this,st,null);tn(this,nt,null);tn(this,it,!1);tn(this,j,!1);rn(this,$,Pt.bitmapUrl),rn(this,et,Pt.bitmapFile)}static initialize(Pt){a.AnnotationEditor.initialize(Pt)}static get supportedTypes(){const Pt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",Pt.map(Ut=>`image/${Ut}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Pt){return this.supportedTypes.includes(Pt)}static paste(Pt,Ut){Ut.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:Pt.getAsFile()})}remove(){var Pt,Ut;gt(this,b)&&(rn(this,g,null),this._uiManager.imageManager.deleteId(gt(this,b)),(Pt=gt(this,_e))==null||Pt.remove(),rn(this,_e,null),(Ut=gt(this,st))==null||Ut.disconnect(),rn(this,st,null)),super.remove()}rebuild(){if(!this.parent){gt(this,b)&&qt(this,tt,vr).call(this);return}super.rebuild(),this.div!==null&&(gt(this,b)&&qt(this,tt,vr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(gt(this,_)||gt(this,g)||gt(this,$)||gt(this,et))}get isResizable(){return!0}render(){if(this.div)return this.div;let Pt,Ut;if(this.width&&(Pt=this.x,Ut=this.y),super.render(),this.div.hidden=!0,gt(this,g)?qt(this,tt,Jr).call(this):qt(this,tt,vr).call(this),this.width){const[Tt,Ot]=this.parentDimensions;this.setAt(Pt*Tt,Ut*Ot,this.width*Tt,this.height*Ot)}return this.div}static deserialize(Pt,Ut,Tt){if(Pt instanceof d.StampAnnotationElement)return null;const Ot=super.deserialize(Pt,Ut,Tt),{rect:At,bitmapUrl:Mt,bitmapId:Rt,isSvg:Et,accessibilityData:yt}=Pt;Rt&&Tt.imageManager.isValidId(Rt)?rn(Ot,b,Rt):rn(Ot,$,Mt),rn(Ot,it,Et);const[vt,St]=Ot.pageDimensions;return Ot.width=(At[2]-At[0])/vt,Ot.height=(At[3]-At[1])/St,yt&&(Ot.altTextData=yt),Ot}serialize(Pt=!1,Ut=null){if(this.isEmpty())return null;const Tt={annotationType:o.AnnotationEditorType.STAMP,bitmapId:gt(this,b),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:gt(this,it),structTreeParentId:this._structTreeParentId};if(Pt)return Tt.bitmapUrl=qt(this,tt,xr).call(this,!0),Tt.accessibilityData=this.altTextData,Tt;const{decorative:Ot,altText:At}=this.altTextData;if(!Ot&&At&&(Tt.accessibilityData={type:"Figure",alt:At}),Ut===null)return Tt;Ut.stamps||(Ut.stamps=new Map);const Mt=gt(this,it)?(Tt.rect[2]-Tt.rect[0])*(Tt.rect[3]-Tt.rect[1]):null;if(!Ut.stamps.has(gt(this,b)))Ut.stamps.set(gt(this,b),{area:Mt,serialized:Tt}),Tt.bitmap=qt(this,tt,xr).call(this,!1);else if(gt(this,it)){const Rt=Ut.stamps.get(gt(this,b));Mt>Rt.area&&(Rt.area=Mt,Rt.serialized.bitmap.close(),Rt.serialized.bitmap=qt(this,tt,xr).call(this,!1))}return Tt}};g=new WeakMap,b=new WeakMap,_=new WeakMap,$=new WeakMap,et=new WeakMap,_e=new WeakMap,st=new WeakMap,nt=new WeakMap,it=new WeakMap,j=new WeakMap,tt=new WeakSet,sr=function(Pt,Ut=!1){if(!Pt){this.remove();return}rn(this,g,Pt.bitmap),Ut||(rn(this,b,Pt.id),rn(this,it,Pt.isSvg)),qt(this,tt,Jr).call(this)},ir=function(){rn(this,_,null),this._uiManager.enableWaiting(!1),gt(this,_e)&&this.div.focus()},vr=function(){if(gt(this,b)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(gt(this,b)).then(Ut=>qt(this,tt,sr).call(this,Ut,!0)).finally(()=>qt(this,tt,ir).call(this));return}if(gt(this,$)){const Ut=gt(this,$);rn(this,$,null),this._uiManager.enableWaiting(!0),rn(this,_,this._uiManager.imageManager.getFromUrl(Ut).then(Tt=>qt(this,tt,sr).call(this,Tt)).finally(()=>qt(this,tt,ir).call(this)));return}if(gt(this,et)){const Ut=gt(this,et);rn(this,et,null),this._uiManager.enableWaiting(!0),rn(this,_,this._uiManager.imageManager.getFromFile(Ut).then(Tt=>qt(this,tt,sr).call(this,Tt)).finally(()=>qt(this,tt,ir).call(this)));return}const Pt=document.createElement("input");Pt.type="file",Pt.accept=pt.supportedTypesStr,rn(this,_,new Promise(Ut=>{Pt.addEventListener("change",async()=>{if(!Pt.files||Pt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Tt=await this._uiManager.imageManager.getFromFile(Pt.files[0]);qt(this,tt,sr).call(this,Tt)}Ut()}),Pt.addEventListener("cancel",()=>{this.remove(),Ut()})}).finally(()=>qt(this,tt,ir).call(this))),Pt.click()},Jr=function(){const{div:Pt}=this;let{width:Ut,height:Tt}=gt(this,g);const[Ot,At]=this.pageDimensions,Mt=.75;if(this.width)Ut=this.width*Ot,Tt=this.height*At;else if(Ut>Mt*Ot||Tt>Mt*At){const vt=Math.min(Mt*Ot/Ut,Mt*At/Tt);Ut*=vt,Tt*=vt}const[Rt,Et]=this.parentDimensions;this.setDims(Ut*Rt/Ot,Tt*Et/At),this._uiManager.enableWaiting(!1);const yt=rn(this,_e,document.createElement("canvas"));Pt.append(yt),Pt.hidden=!1,qt(this,tt,es).call(this,Ut,Tt),qt(this,tt,Ns).call(this),gt(this,j)||(this.parent.addUndoableEditor(this),rn(this,j,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Is=function(Pt,Ut){var Mt;const[Tt,Ot]=this.parentDimensions;this.width=Pt/Tt,this.height=Ut/Ot,this.setDims(Pt,Ut),(Mt=this._initialOptions)!=null&&Mt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,gt(this,nt)!==null&&clearTimeout(gt(this,nt)),rn(this,nt,setTimeout(()=>{rn(this,nt,null),qt(this,tt,es).call(this,Pt,Ut)},200))},Fs=function(Pt,Ut){const{width:Tt,height:Ot}=gt(this,g);let At=Tt,Mt=Ot,Rt=gt(this,g);for(;At>2*Pt||Mt>2*Ut;){const Et=At,yt=Mt;At>2*Pt&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2)),Mt>2*Ut&&(Mt=Mt>=16384?Math.floor(Mt/2)-1:Math.ceil(Mt/2));const vt=new OffscreenCanvas(At,Mt);vt.getContext("2d").drawImage(Rt,0,0,Et,yt,0,0,At,Mt),Rt=vt.transferToImageBitmap()}return Rt},es=function(Pt,Ut){Pt=Math.ceil(Pt),Ut=Math.ceil(Ut);const Tt=gt(this,_e);if(!Tt||Tt.width===Pt&&Tt.height===Ut)return;Tt.width=Pt,Tt.height=Ut;const Ot=gt(this,it)?gt(this,g):qt(this,tt,Fs).call(this,Pt,Ut),At=Tt.getContext("2d");At.filter=this._uiManager.hcmFilter,At.drawImage(Ot,0,0,Ot.width,Ot.height,0,0,Pt,Ut)},xr=function(Pt){if(Pt){if(gt(this,it)){const Ot=this._uiManager.imageManager.getSvgUrl(gt(this,b));if(Ot)return Ot}const Ut=document.createElement("canvas");return{width:Ut.width,height:Ut.height}=gt(this,g),Ut.getContext("2d").drawImage(gt(this,g),0,0),Ut.toDataURL()}if(gt(this,it)){const[Ut,Tt]=this.pageDimensions,Ot=Math.round(this.width*Ut*c.PixelsPerInch.PDF_TO_CSS_UNITS),At=Math.round(this.height*Tt*c.PixelsPerInch.PDF_TO_CSS_UNITS),Mt=new OffscreenCanvas(Ot,At);return Mt.getContext("2d").drawImage(gt(this,g),0,0,gt(this,g).width,gt(this,g).height,0,0,Ot,At),Mt.transferToImageBitmap()}return structuredClone(gt(this,g))},Ns=function(){rn(this,st,new ResizeObserver(Pt=>{const Ut=Pt[0].contentRect;Ut.width&&Ut.height&&qt(this,tt,Is).call(this,Ut.width,Ut.height)})),gt(this,st).observe(this.div)},On(pt,"_type","stamp");let h=pt;s.StampEditor=h}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var s=__webpack_module_cache__[e];if(s!==void 0)return s.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__w_pdfjs_require__),i.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return c.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return h.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return o.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return g.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return s.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return s.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return i.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return b.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return o.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return o.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return s.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return o.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return a.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var s=__w_pdfjs_require__(1),i=__w_pdfjs_require__(2),o=__w_pdfjs_require__(6),a=__w_pdfjs_require__(26),c=__w_pdfjs_require__(27),d=__w_pdfjs_require__(5),h=__w_pdfjs_require__(29),g=__w_pdfjs_require__(14),b=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdf_default=getDefaultExportFromCjs(pdfExports),pdfjs=pdf_default;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(o,a,c,d,h,g){if(g!==ReactPropTypesSecret){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function s(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return i.PropTypes=i,i};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(e,s,i){if(i||arguments.length===2)for(var o=0,a=s.length,c;o<a;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return e.concat(c||Array.prototype.slice.call(s))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,s){var i={};return allEvents.forEach(function(o){var a=e[o];a&&(s?i[o]=function(c){return a(c,s(o))}:i[o]=a)}),i}function makeCancellablePromise(e){var s=!1,i=new Promise(function(o,a){e.then(function(c){return!s&&o(c)}).catch(function(c){return!s&&a(c)})});return{promise:i,cancel:function(){s=!0}}}var prefix="Invariant failed";function invariant(e,s){if(!e)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(e,s,i){for(i of e.keys())if(dequal(i,s))return i}function dequal(e,s){var i,o,a;if(e===s)return!0;if(e&&s&&(i=e.constructor)===s.constructor){if(i===Date)return e.getTime()===s.getTime();if(i===RegExp)return e.toString()===s.toString();if(i===Array){if((o=e.length)===s.length)for(;o--&&dequal(e[o],s[o]););return o===-1}if(i===Set){if(e.size!==s.size)return!1;for(o of e)if(a=o,a&&typeof a=="object"&&(a=find(s,a),!a)||!s.has(a))return!1;return!0}if(i===Map){if(e.size!==s.size)return!1;for(o of e)if(a=o[0],a&&typeof a=="object"&&(a=find(s,a),!a)||!dequal(o[1],s.get(a)))return!1;return!0}if(i===ArrayBuffer)e=new Uint8Array(e),s=new Uint8Array(s);else if(i===DataView){if((o=e.byteLength)===s.byteLength)for(;o--&&e.getInt8(o)===s.getInt8(o););return o===-1}if(ArrayBuffer.isView(e)){if((o=e.byteLength)===s.byteLength)for(;o--&&e[o]===s[o];);return o===-1}if(!i||typeof e=="object"){o=0;for(i in e)if(has.call(e,i)&&++o&&!has.call(s,i)||!(i in s)||!dequal(e[i],s[i]))return!1;return Object.keys(s).length===o}}return e!==e&&s!==s}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:s}){return React$2.createElement("div",{className:`react-pdf__message react-pdf__message--${s}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(s){this.pdfDocument=s}setViewer(s){this.pdfViewer=s}setExternalLinkRel(s){this.externalLinkRel=s}setExternalLinkTarget(s){this.externalLinkTarget=s}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(s){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=s}get rotation(){return 0}set rotation(s){}goToDestination(s){return new Promise(i=>{invariant(this.pdfDocument),invariant(s),typeof s=="string"?this.pdfDocument.getDestination(s).then(i):Array.isArray(s)?i(s):s.then(i)}).then(i=>{invariant(Array.isArray(i));const o=i[0];new Promise(a=>{invariant(this.pdfDocument),o instanceof Object?this.pdfDocument.getPageIndex(o).then(c=>{a(c)}).catch(()=>{invariant(!1)}):typeof o=="number"?a(o):invariant(!1)}).then(a=>{const c=a+1;invariant(this.pdfViewer),invariant(c>=1&&c<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:a,pageNumber:c})})})}navigateTo(s){this.goToDestination(s)}goToPage(s){const i=s-1;invariant(this.pdfViewer),invariant(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:s})}addLinkAttributes(s,i,o){s.href=i,s.rel=this.externalLinkRel||DEFAULT_LINK_REL,s.target=o?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e));const[s="",i=""]=e.split(",");return s.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,s){return Object.defineProperty(e,"width",{get(){return this.view[2]*s},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*s},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((s,i)=>{const o=new FileReader;o.onload=()=>{if(!o.result)return i(new Error("Error while reading a file."));s(o.result)},o.onerror=a=>{if(!a.target)return i(new Error("Error while reading a file."));const{error:c}=a.target;if(!c)return i(new Error("Error while reading a file."));switch(c.code){case c.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case c.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case c.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},o.readAsArrayBuffer(e)})}function reducer$1(e,s){switch(s.type){case"RESOLVE":return{value:s.value,error:void 0};case"REJECT":return{value:!1,error:s.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer$1,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const e={};return allEvents.forEach(s=>{e[s]=PropTypes.func}),e})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(s,i,o){const{[i]:a,pageNumber:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${i}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<0)return new Error(`Expected \`${i}\` to be greater or equal to 0.`);const{numPages:h}=d;if(a+1>h)return new Error(`Expected \`${i}\` to be less or equal to ${h-1}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPageNumber=function e(s,i,o){const{[i]:a,pageIndex:c,pdf:d}=s;if(!isDefined(d))return null;if(isDefined(a)){if(typeof a!="number")return new Error(`\`${i}\` of type \`${typeof a}\` supplied to \`${o}\`, expected \`number\`.`);if(a<1)return new Error(`Expected \`${i}\` to be greater or equal to 1.`);const{numPages:h}=d;if(a>h)return new Error(`Expected \`${i}\` to be less or equal to ${h}.`)}else if(!isDefined(c))return new Error(`\`${i}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${o}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(e,s,i,o){function a(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function h(_){try{b(o.next(_))}catch($){d($)}}function g(_){try{b(o.throw(_))}catch($){d($)}}function b(_){_.done?c(_.value):a(_.value).then(h,g)}b((o=o.apply(e,s||[])).next())})},__rest$1=function(e,s){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(i[o[a]]=e[o[a]]);return i};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(e,s)=>{switch(s){case PasswordResponses.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");e(i);break}case PasswordResponses.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");e(i);break}}};function isParameterObject(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const Document=reactExports.forwardRef(function e(s,i){var{children:o,className:a,error:c="Failed to load PDF file.",externalLinkRel:d,externalLinkTarget:h,file:g,inputRef:b,imageResourcesPath:_,loading:$="Loading PDF",noData:et="No PDF file specified.",onItemClick:_e,onLoadError:st,onLoadProgress:nt,onLoadSuccess:it,onPassword:j=defaultOnPassword,onSourceError:tt,onSourceSuccess:ot,options:lt,renderMode:rt,rotate:ct}=s,at=__rest$1(s,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[ut,ft]=useResolver(),{value:Ct,error:xt}=ut,[pt,_t]=useResolver(),{value:mt,error:Pt}=pt,Ut=reactExports.useRef(new LinkService),Tt=reactExports.useRef([]),Ot=reactExports.useRef(),At=reactExports.useRef();reactExports.useEffect(()=>{g&&g!==Ot.current&&isParameterObject(g)&&(warning$1(!dequal(g,Ot.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Ot.current=g)},[g]),reactExports.useEffect(()=>{lt&&lt!==At.current&&(warning$1(!dequal(lt,At.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),At.current=lt)},[lt]);const Mt=reactExports.useRef({scrollPageIntoView:kt=>{const{dest:wt,pageNumber:dt,pageIndex:bt=dt-1}=kt;if(_e){_e({dest:wt,pageIndex:bt,pageNumber:dt});return}const Dt=Tt.current[bt];if(Dt){Dt.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${dt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(i,()=>({linkService:Ut,pages:Tt,viewer:Mt}),[]);function Rt(){ot&&ot()}function Et(){xt&&(warning$1(!1,xt.toString()),tt&&tt(xt))}function yt(){ft({type:"RESET"})}reactExports.useEffect(yt,[g,ft]);const vt=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!g)return null;if(typeof g=="string")return isDataURI(g)?{data:dataURItoByteString(g)}:(displayCORSWarning(),{url:g});if(g instanceof PDFDataRangeTransport)return{range:g};if(isArrayBuffer(g))return{data:g};if(isBrowser&&isBlob(g))return{data:yield loadFromFile(g)};if(invariant(typeof g=="object"),invariant(isParameterObject(g)),"url"in g&&typeof g.url=="string"){if(isDataURI(g.url)){const{url:kt}=g,wt=__rest$1(g,["url"]),dt=dataURItoByteString(kt);return Object.assign({data:dt},wt)}displayCORSWarning()}return g}),[g]);reactExports.useEffect(()=>{const kt=makeCancellablePromise(vt());return kt.promise.then(wt=>{ft({type:"RESOLVE",value:wt})}).catch(wt=>{ft({type:"REJECT",error:wt})}),()=>{cancelRunningTask(kt)}},[vt,ft]),reactExports.useEffect(()=>{if(!(typeof Ct>"u")){if(Ct===!1){Et();return}Rt()}},[Ct]);function St(){mt&&(it&&it(mt),Tt.current=new Array(mt.numPages),Ut.current.setDocument(mt))}function jt(){Pt&&(warning$1(!1,Pt.toString()),st&&st(Pt))}function Ft(){_t({type:"RESET"})}reactExports.useEffect(Ft,[_t,Ct]);function Lt(){if(!Ct)return;const kt=Object.assign(Object.assign({},lt),{isEvalSupported:!1}),wt=Object.assign(Object.assign({},Ct),kt),dt=pdfjs.getDocument(wt);nt&&(dt.onProgress=nt),j&&(dt.onPassword=j);const bt=dt;return bt.promise.then(Dt=>{_t({type:"RESOLVE",value:Dt})}).catch(Dt=>{bt.destroyed||_t({type:"REJECT",error:Dt})}),()=>{bt.destroy()}}reactExports.useEffect(Lt,[lt,_t,Ct]),reactExports.useEffect(()=>{if(!(typeof mt>"u")){if(mt===!1){jt();return}St()}},[mt]);function $t(){Ut.current.setViewer(Mt.current),Ut.current.setExternalLinkRel(d),Ut.current.setExternalLinkTarget(h)}reactExports.useEffect($t,[d,h]);function Gt(kt,wt){Tt.current[kt]=wt}function Yt(kt){delete Tt.current[kt]}const Jt=reactExports.useMemo(()=>({imageResourcesPath:_,linkService:Ut.current,onItemClick:_e,pdf:mt,registerPage:Gt,renderMode:rt,rotate:ct,unregisterPage:Yt}),[_,_e,mt,rt,ct]),an=reactExports.useMemo(()=>makeEventProps(at,()=>mt),[at,mt]);function ht(){return React$2.createElement(DocumentContext.Provider,{value:Jt},o)}function Wt(){return g?mt==null?React$2.createElement(Message,{type:"loading"},typeof $=="function"?$():$):mt===!1?React$2.createElement(Message,{type:"error"},typeof c=="function"?c():c):ht():React$2.createElement(Message,{type:"no-data"},typeof et=="function"?et():et)}return React$2.createElement("div",Object.assign({className:clsx("react-pdf__Document",a),ref:b,style:{"--scale-factor":"1"}},an),Wt())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];var i=e.filter(Boolean);if(i.length<=1){var o=i[0];return o||null}return function(c){i.forEach(function(d){typeof d=="function"?d(c):d&&(d.current=c)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const s={};if(isStructTreeNode(e)){const{role:i}=e,o=i.match(HEADING_PATTERN);if(o)s.role="heading",s["aria-level"]=Number(o[1]);else if(isPdfRole(i)){const a=PDF_ROLE_TO_HTML_ROLE[i];a&&(s.role=a)}}return s}function getBaseAttributes(e){const s={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(s["aria-label"]=e.alt),e.lang!==void 0&&(s.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[i]=e.children;if(i){const o=getBaseAttributes(i);return Object.assign(Object.assign({},s),o)}}}else"id"in e&&(s["aria-owns"]=e.id);return s}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:s}){const i=reactExports.useMemo(()=>getAttributes(s),[s]),o=reactExports.useMemo(()=>!isStructTreeNode(s)||isStructTreeNodeWithOnlyContentChild(s)?null:s.children.map((a,c)=>React$2.createElement(StructTreeItem,{key:c,node:a})),[s]);return React$2.createElement("span",Object.assign({className:e},i),o)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant(e);const{onGetStructTreeError:s,onGetStructTreeSuccess:i}=e,[o,a]=useResolver(),{value:c,error:d}=o,{customTextRenderer:h,page:g}=e;function b(){c&&i&&i(c)}function _(){d&&(warning$1(!1,d.toString()),s&&s(d))}function $(){a({type:"RESET"})}reactExports.useEffect($,[a,g]);function et(){if(h||!g)return;const _e=makeCancellablePromise(g.getStructTree()),st=_e;return _e.promise.then(nt=>{a({type:"RESOLVE",value:nt})}).catch(nt=>{a({type:"REJECT",error:nt})}),()=>cancelRunningTask(st)}return reactExports.useEffect(et,[h,g,a]),reactExports.useEffect(()=>{if(c!==void 0){if(c===!1){_();return}b()}},[c]),c?React$2.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:c}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(e){const s=usePageContext();invariant(s);const i=Object.assign(Object.assign({},s),e),{_className:o,canvasBackground:a,devicePixelRatio:c=getDevicePixelRatio(),onRenderError:d,onRenderSuccess:h,page:g,renderForms:b,renderTextLayer:_,rotate:$,scale:et}=i,{canvasRef:_e}=e;invariant(g);const st=reactExports.useRef(null);function nt(){g&&h&&h(makePageCallback(g,et))}function it(rt){isCancelException(rt)||(warning$1(!1,rt.toString()),d&&d(rt))}const j=reactExports.useMemo(()=>g.getViewport({scale:et*c,rotation:$}),[c,g,$,et]),tt=reactExports.useMemo(()=>g.getViewport({scale:et,rotation:$}),[g,$,et]);function ot(){if(!g)return;g.cleanup();const{current:rt}=st;if(!rt)return;rt.width=j.width,rt.height=j.height,rt.style.width=`${Math.floor(tt.width)}px`,rt.style.height=`${Math.floor(tt.height)}px`,rt.style.visibility="hidden";const ct={annotationMode:b?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:rt.getContext("2d",{alpha:!1}),viewport:j};a&&(ct.background=a);const at=g.render(ct),ut=at;return at.promise.then(()=>{rt.style.visibility="",nt()}).catch(it),()=>cancelRunningTask(ut)}reactExports.useEffect(ot,[a,st,c,g,b,j,tt]);const lt=reactExports.useCallback(()=>{const{current:rt}=st;rt&&(rt.width=0,rt.height=0)},[st]);return reactExports.useEffect(()=>lt,[lt]),React$2.createElement("canvas",{className:`${o}__canvas`,dir:"ltr",ref:mergeRefs(_e,st),style:{display:"block",userSelect:"none"}},_?React$2.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant(e);const{_className:s,onRenderSuccess:i,onRenderError:o,page:a,rotate:c,scale:d}=e;invariant(a);const[h,g]=useResolver(),{value:b,error:_}=h;function $(){a&&i&&i(makePageCallback(a,d))}function et(){_&&(isCancelException(_)||(warning$1(!1,_.toString()),o&&o(_)))}const _e=reactExports.useMemo(()=>a.getViewport({scale:d,rotation:c}),[a,c,d]);function st(){g({type:"RESET"})}reactExports.useEffect(st,[a,g,_e]);function nt(){if(!a)return;const ot=makeCancellablePromise(a.getOperatorList());return ot.promise.then(lt=>{new pdfjs.SVGGraphics(a.commonObjs,a.objs).getSVG(lt,_e).then(ct=>{if(!(ct instanceof SVGElement))throw new Error("getSVG returned unexpected result.");g({type:"RESOLVE",value:ct})}).catch(ct=>{g({type:"REJECT",error:ct})})}).catch(lt=>{g({type:"REJECT",error:lt})}),()=>cancelRunningTask(ot)}reactExports.useEffect(nt,[a,g,_e]),reactExports.useEffect(()=>{if(b!==void 0){if(b===!1){et();return}$()}},[b]);function it(ot){if(!ot||!b)return;ot.firstElementChild||ot.appendChild(b);const{width:lt,height:rt}=_e;b.setAttribute("width",`${lt}`),b.setAttribute("height",`${rt}`)}const{width:j,height:tt}=_e;return React$2.createElement("div",{className:`${s}__svg`,ref:ot=>it(ot),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:j,height:tt,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant(e);const{customTextRenderer:s,onGetTextError:i,onGetTextSuccess:o,onRenderTextLayerError:a,onRenderTextLayerSuccess:c,page:d,pageIndex:h,pageNumber:g,rotate:b,scale:_}=e;invariant(d);const[$,et]=useResolver(),{value:_e,error:st}=$,nt=reactExports.useRef(null),it=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function j(){_e&&o&&o(_e)}function tt(){st&&(warning$1(!1,st.toString()),i&&i(st))}function ot(){et({type:"RESET"})}reactExports.useEffect(ot,[d,et]);function lt(){if(!d)return;const xt=makeCancellablePromise(d.getTextContent()),pt=xt;return xt.promise.then(_t=>{et({type:"RESOLVE",value:_t})}).catch(_t=>{et({type:"REJECT",error:_t})}),()=>cancelRunningTask(pt)}reactExports.useEffect(lt,[d,et]),reactExports.useEffect(()=>{if(_e!==void 0){if(_e===!1){tt();return}j()}},[_e]);const rt=reactExports.useCallback(()=>{c&&c()},[c]),ct=reactExports.useCallback(xt=>{warning$1(!1,xt.toString()),a&&a(xt)},[a]);function at(){const xt=it.current;xt&&xt.classList.add("active")}function ut(){const xt=it.current;xt&&xt.classList.remove("active")}const ft=reactExports.useMemo(()=>d.getViewport({scale:_,rotation:b}),[d,b,_]);function Ct(){if(!d||!_e)return;const{current:xt}=nt;if(!xt)return;xt.innerHTML="";const pt=d.streamTextContent({includeMarkedContent:!0}),_t={container:xt,textContentSource:pt,viewport:ft},mt=pdfjs.renderTextLayer(_t),Pt=mt;return mt.promise.then(()=>{const Ut=document.createElement("div");Ut.className="endOfContent",xt.append(Ut),it.current=Ut;const Tt=xt.querySelectorAll('[role="presentation"]');if(s){let Ot=0;_e.items.forEach((At,Mt)=>{if(!isTextItem(At))return;const Rt=Tt[Ot];if(!Rt)return;const Et=s(Object.assign({pageIndex:h,pageNumber:g,itemIndex:Mt},At));Rt.innerHTML=Et,Ot+=At.str&&At.hasEOL?2:1})}rt()}).catch(ct),()=>cancelRunningTask(Pt)}return reactExports.useLayoutEffect(Ct,[s,ct,rt,d,h,g,_e,ft]),React$2.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:ut,onMouseDown:at,ref:nt})}function AnnotationLayer$1(){const e=useDocumentContext(),s=usePageContext();invariant(s);const i=Object.assign(Object.assign({},e),s),{imageResourcesPath:o,linkService:a,onGetAnnotationsError:c,onGetAnnotationsSuccess:d,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:g,page:b,pdf:_,renderForms:$,rotate:et,scale:_e=1}=i;invariant(_),invariant(b),invariant(a);const[st,nt]=useResolver(),{value:it,error:j}=st,tt=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ot(){it&&d&&d(it)}function lt(){j&&(warning$1(!1,j.toString()),c&&c(j))}function rt(){nt({type:"RESET"})}reactExports.useEffect(rt,[nt,b]);function ct(){if(!b)return;const xt=makeCancellablePromise(b.getAnnotations()),pt=xt;return xt.promise.then(_t=>{nt({type:"RESOLVE",value:_t})}).catch(_t=>{nt({type:"REJECT",error:_t})}),()=>{cancelRunningTask(pt)}}reactExports.useEffect(ct,[nt,b,$]),reactExports.useEffect(()=>{if(it!==void 0){if(it===!1){lt();return}ot()}},[it]);function at(){g&&g()}function ut(xt){warning$1(!1,`${xt}`),h&&h(xt)}const ft=reactExports.useMemo(()=>b.getViewport({scale:_e,rotation:et}),[b,et,_e]);function Ct(){if(!_||!b||!a||!it)return;const{current:xt}=tt;if(!xt)return;const pt=ft.clone({dontFlip:!0}),_t={accessibilityManager:null,annotationCanvasMap:null,div:xt,l10n:null,page:b,viewport:pt},mt={annotations:it,annotationStorage:_.annotationStorage,div:xt,downloadManager:null,imageResourcesPath:o,linkService:a,page:b,renderForms:$,viewport:pt};xt.innerHTML="";try{new pdfjs.AnnotationLayer(_t).render(mt),at()}catch(Pt){ut(Pt)}return()=>{}}return reactExports.useEffect(Ct,[it,o,a,b,$,ft]),React$2.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:tt})}var __rest=function(e,s){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.indexOf(o)<0&&(i[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(i[o[a]]=e[o[a]]);return i};const defaultScale=1,Page=function e(s){const i=useDocumentContext(),o=Object.assign(Object.assign({},i),s),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:c=!0,canvasBackground:d,canvasRef:h,children:g,className:b,customRenderer:_,customTextRenderer:$,devicePixelRatio:et,error:_e="Failed to load the page.",height:st,inputRef:nt,loading:it="Loading page",noData:j="No page specified.",onGetAnnotationsError:tt,onGetAnnotationsSuccess:ot,onGetStructTreeError:lt,onGetStructTreeSuccess:rt,onGetTextError:ct,onGetTextSuccess:at,onLoadError:ut,onLoadSuccess:ft,onRenderAnnotationLayerError:Ct,onRenderAnnotationLayerSuccess:xt,onRenderError:pt,onRenderSuccess:_t,onRenderTextLayerError:mt,onRenderTextLayerSuccess:Pt,pageIndex:Ut,pageNumber:Tt,pdf:Ot,registerPage:At,renderAnnotationLayer:Mt=!0,renderForms:Rt=!1,renderMode:Et="canvas",renderTextLayer:yt=!0,rotate:vt,scale:St=defaultScale,unregisterPage:jt,width:Ft}=o,Lt=__rest(o,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[$t,Gt]=useResolver(),{value:Yt,error:Jt}=$t,an=reactExports.useRef(null);invariant(Ot);const ht=isProvided(Tt)?Tt-1:Ut??null,Wt=Tt??(isProvided(Ut)?Ut+1:null),kt=vt??(Yt?Yt.rotate:null),wt=reactExports.useMemo(()=>{if(!Yt)return null;let En=1;const kn=St??defaultScale;if(Ft||st){const Mn=Yt.getViewport({scale:1,rotation:kt});Ft?En=Ft/Mn.width:st&&(En=st/Mn.height)}return kn*En},[st,Yt,kt,St,Ft]);function dt(){return()=>{isProvided(ht)&&c&&jt&&jt(ht)}}reactExports.useEffect(dt,[c,Ot,ht,jt]);function bt(){if(ft){if(!Yt||!wt)return;ft(makePageCallback(Yt,wt))}if(c&&At){if(!isProvided(ht)||!an.current)return;At(ht,an.current)}}function Dt(){Jt&&(warning$1(!1,Jt.toString()),ut&&ut(Jt))}function Bt(){Gt({type:"RESET"})}reactExports.useEffect(Bt,[Gt,Ot,ht]);function It(){if(!Ot||!Wt)return;const En=makeCancellablePromise(Ot.getPage(Wt)),kn=En;return En.promise.then(Mn=>{Gt({type:"RESOLVE",value:Mn})}).catch(Mn=>{Gt({type:"REJECT",error:Mn})}),()=>cancelRunningTask(kn)}reactExports.useEffect(It,[Gt,Ot,ht,Wt,At]),reactExports.useEffect(()=>{if(Yt!==void 0){if(Yt===!1){Dt();return}bt()}},[Yt,wt]);const Kt=reactExports.useMemo(()=>Yt&&isProvided(ht)&&Wt&&isProvided(kt)&&isProvided(wt)?{_className:a,canvasBackground:d,customTextRenderer:$,devicePixelRatio:et,onGetAnnotationsError:tt,onGetAnnotationsSuccess:ot,onGetStructTreeError:lt,onGetStructTreeSuccess:rt,onGetTextError:ct,onGetTextSuccess:at,onRenderAnnotationLayerError:Ct,onRenderAnnotationLayerSuccess:xt,onRenderError:pt,onRenderSuccess:_t,onRenderTextLayerError:mt,onRenderTextLayerSuccess:Pt,page:Yt,pageIndex:ht,pageNumber:Wt,renderForms:Rt,renderTextLayer:yt,rotate:kt,scale:wt}:null,[a,d,$,et,tt,ot,lt,rt,ct,at,Ct,xt,pt,_t,mt,Pt,Yt,ht,Wt,Rt,yt,kt,wt]),Zt=reactExports.useMemo(()=>makeEventProps(Lt,()=>Yt&&(wt?makePageCallback(Yt,wt):void 0)),[Lt,Yt,wt]),Vt=`${ht}@${wt}/${kt}`,sn=`${ht}/${kt}`;function un(){switch(Et){case"custom":return invariant(_),React$2.createElement(_,{key:`${Vt}_custom`});case"none":return null;case"svg":return React$2.createElement(PageSVG,{key:`${sn}_svg`});case"canvas":default:return React$2.createElement(PageCanvas,{key:`${Vt}_canvas`,canvasRef:h})}}function yn(){return yt?React$2.createElement(TextLayer,{key:`${Vt}_text`}):null}function Sn(){return Mt?React$2.createElement(AnnotationLayer$1,{key:`${Vt}_annotations`}):null}function Dn(){return React$2.createElement(PageContext.Provider,{value:Kt},un(),yn(),Sn(),g)}function gn(){return Wt?Ot===null||Yt===void 0||Yt===null?React$2.createElement(Message,{type:"loading"},typeof it=="function"?it():it):Ot===!1||Yt===!1?React$2.createElement(Message,{type:"error"},typeof _e=="function"?_e():_e):Dn():React$2.createElement(Message,{type:"no-data"},typeof j=="function"?j():j)}return React$2.createElement("div",Object.assign({className:clsx(a,b),"data-page-number":Wt,ref:mergeRefs(nt,an),style:{"--scale-factor":`${wt}`,backgroundColor:d||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Zt),gn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";function AnnotationLayer({pageNumber:e,scale:s,snapshotScale:i=3,width:o,height:a,originalWidth:c,originalHeight:d,annotations:h,onAddAnnotation:g,tool:b,onSnapshotComplete:_,color:$="#ffeb3b",opacity:et=.4}){const _e=reactExports.useRef(null),[st,nt]=reactExports.useState(!1),[it,j]=reactExports.useState([]),[tt,ot]=reactExports.useState(null),[lt,rt]=reactExports.useState(null);reactExports.useEffect(()=>{const pt=_e.current;if(!pt)return;const _t=pt.getContext("2d");_t.clearRect(0,0,pt.width,pt.height),_t.lineCap="round",_t.lineJoin="round";const mt=(Pt,Ut,Tt)=>{Pt.length<1||(_t.beginPath(),_t.strokeStyle=Ut,_t.lineWidth=15*s,_t.globalAlpha=Tt,_t.moveTo(Pt[0].x*s,Pt[0].y*s),Pt.forEach(Ot=>_t.lineTo(Ot.x*s,Ot.y*s)),_t.stroke(),_t.globalAlpha=1)};if((h||[]).forEach(Pt=>{mt(Pt.points,Pt.color,Pt.opacity)}),b==="draw"&&it.length>0&&mt(it,$,et),b==="snapshot"&&tt&&lt){const Pt=Math.min(tt.x,lt.x),Ut=Math.min(tt.y,lt.y),Tt=Math.abs(lt.x-tt.x),Ot=Math.abs(lt.y-tt.y);_t.fillStyle="rgba(0, 120, 255, 0.2)",_t.strokeStyle="rgba(0, 120, 255, 0.8)",_t.lineWidth=2,_t.fillRect(Pt,Ut,Tt,Ot),_t.strokeRect(Pt,Ut,Tt,Ot)}},[h,it,s,$,et,o,a,tt,lt,b]);const ct=pt=>{const mt=_e.current.getBoundingClientRect();return{x:pt.clientX-mt.left,y:pt.clientY-mt.top}},at=pt=>{const _t=ct(pt),mt=o,Pt=a,Ut=_t.x/mt,Tt=_t.y/Pt;return{x:Ut*c,y:Tt*d}},ut=pt=>{b!=="cursor"&&(nt(!0),b==="draw"?j([at(pt)]):b==="snapshot"&&(ot(ct(pt)),rt(ct(pt))))},ft=pt=>{st&&(b==="draw"?j(_t=>[..._t,at(pt)]):b==="snapshot"&&rt(ct(pt)))},Ct=async()=>{st&&(nt(!1),b==="draw"&&it.length>1?(g(e,{type:"path",points:it,color:$,opacity:et}),j([])):b==="snapshot"&&tt&&lt&&(await xt(),ot(null),rt(null)))},xt=async()=>{if(!_e.current||!window.pdfDocument)return;const _t=Math.min(tt.x,lt.x),mt=Math.min(tt.y,lt.y),Pt=Math.abs(lt.x-tt.x),Ut=Math.abs(lt.y-tt.y);if(!(Pt<5||Ut<5))try{const Tt=_t/o*c,Ot=mt/a*d,At=Pt/o*c,Mt=Ut/a*d,Rt=i,Et=await window.pdfDocument.getPage(e),yt=Et.getViewport({scale:Rt}),vt=document.createElement("canvas");vt.width=Math.ceil(At*Rt),vt.height=Math.ceil(Mt*Rt);const St=vt.getContext("2d");St.translate(-Tt*Rt,-Ot*Rt),await Et.render({canvasContext:St,viewport:yt}).promise,vt.toBlob(jt=>{navigator.clipboard.write([new ClipboardItem({"image/png":jt})]).then(()=>{_&&_()}).catch(Ft=>console.error("Clipboard write failed",Ft))},"image/png")}catch(Tt){console.error("High-Res Snapshot failed",Tt)}};return jsxRuntimeExports.jsx("canvas",{ref:_e,width:o,height:a,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:b!=="cursor"?"auto":"none",cursor:b==="draw"?"crosshair":b==="snapshot"?"cell":"default",zIndex:b!=="cursor"?50:1},onMouseDown:ut,onMouseMove:ft,onMouseUp:Ct,onMouseLeave:Ct})}pdfjs.GlobalWorkerOptions.workerSrc=new URL("/flashcard_gen/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();const FALLBACK_WIDTH=600;function PDFViewer(){var Jt,an;const{pdfFile:e,setPdfFile:s,isProcessing:i,generateCardsFromPage:o,setActivePage:a,activePage:c,setCurrentPage:d,currentPage:h,annotations:g,addAnnotation:b,userSettings:_}=useAppStore(),$=_.snapshotScaleAuto||3,et=_.snapshotScaleManual||3,[_e,st]=reactExports.useState(null),[nt,it]=reactExports.useState(null),[j,tt]=reactExports.useState(1),[ot,lt]=reactExports.useState(null),[rt,ct]=reactExports.useState(!1),[at,ut]=reactExports.useState(null),[ft,Ct]=reactExports.useState("cursor"),[xt,pt]=reactExports.useState({}),_t=reactExports.useRef(null),mt=reactExports.useRef(null),Pt=reactExports.useRef(j),Ut=reactExports.useRef(null),Tt=reactExports.useRef(!1),Ot=async ht=>{ut(ht),window.pdfDocument=ht,st(ht.numPages);const Wt=await ht.getOutline();lt(Wt)},At=ht=>{var kt;const Wt=(kt=ht.target.files)==null?void 0:kt[0];Wt&&s(Wt)},Mt=ht=>{o(ht)},Rt=(ht,Wt,kt)=>{pt(wt=>({...wt,[Wt]:{width:ht.width/kt,height:ht.height/kt}}))},Et=ht=>{const Wt=_t.current;if(Wt){const kt=Wt.getBoundingClientRect(),wt=kt.top+kt.height/2;let dt=null;const bt=document.querySelectorAll(".pdf-page-container");for(const Dt of bt){const Bt=Dt.getBoundingClientRect();if(Bt.top<=wt&&Bt.bottom>=wt){dt=Dt;break}}if(!dt&&bt.length>0){let Dt=1/0;for(const Bt of bt){const It=Bt.getBoundingClientRect(),Kt=Math.min(Math.abs(It.top-wt),Math.abs(It.bottom-wt));Kt<Dt&&(Dt=Kt,dt=Bt)}}if(dt){const Dt=parseInt(dt.getAttribute("data-page-number")),Bt=dt.getBoundingClientRect(),It=wt-Bt.top,Kt=Math.max(0,Math.min(1,It/Bt.height));Ut.current={pageNum:Dt,ratio:Kt}}}tt(ht)};reactExports.useLayoutEffect(()=>{if(Ut.current&&_t.current&&j!==Pt.current){const ht=Ut.current,Wt=_t.current;if(ht.pageNum){const kt=document.getElementById(`page_${ht.pageNum}`);if(kt){const wt=kt.offsetTop,dt=kt.offsetHeight,Dt=wt+dt*ht.ratio-Wt.clientHeight/2;Tt.current=!0,Wt.scrollTop=Dt,setTimeout(()=>{Tt.current=!1},100)}}Ut.current=null}Pt.current=j},[j]);const yt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(yt.current){yt.current=!1;return}c&&_e&&document.getElementById(`page_${c}`)&&Lt(c)},[c,_e]);const vt=async ht=>{if(!(!at||!ht.dest))try{const Wt=typeof ht.dest=="string"?await at.getDestination(ht.dest):ht.dest;if(Wt){const wt=await at.getPageIndex(Wt[0])+1;Lt(wt),d(wt),a(wt)}}catch(Wt){console.error("Navigation failed",Wt)}},{snapshotRequest:St,generateCardsFromImage:jt}=useAppStore();reactExports.useEffect(()=>{if(!St)return;const{page:ht,id:Wt}=St;if(!document.querySelector(`.pdf-page-container[data-page-number="${ht}"]`)||!window.pdfDocument){console.error("Snapshot failed: Page not found in DOM or PDF not ready"),useAppStore.getState().setProcessing(!1);return}(async()=>{try{if(await new Promise(sn=>requestAnimationFrame(sn)),!window.pdfDocument)throw new Error("PDF Document not loaded");const dt=await window.pdfDocument.getPage(ht),bt=$,Dt=dt.getViewport({scale:bt}),Bt=document.createElement("canvas");Bt.width=Dt.width,Bt.height=Dt.height;const It=Bt.getContext("2d");await dt.render({canvasContext:It,viewport:Dt}).promise;const Kt=useAppStore.getState().annotations[ht]||[];Kt.length>0&&(It.lineCap="round",It.lineJoin="round",Kt.forEach(sn=>{sn.type==="path"&&sn.points.length>0&&(It.beginPath(),It.strokeStyle=sn.color,It.lineWidth=15*bt,It.globalAlpha=sn.opacity,It.moveTo(sn.points[0].x*bt,sn.points[0].y*bt),sn.points.forEach(un=>{It.lineTo(un.x*bt,un.y*bt)}),It.stroke(),It.globalAlpha=1)}));const Zt=Bt.toDataURL("image/jpeg",.95);let Vt="";try{Vt=(await dt.getTextContent()).items.map(un=>un.str).join(" ")}catch(sn){console.warn("Text extraction failed:",sn)}jt(Zt,ht,Vt)}catch(dt){console.error("Capture failed",dt),useAppStore.getState().setProcessing(!1)}})()},[St]);const Ft=reactExports.useRef(c);reactExports.useEffect(()=>{Ft.current=c},[c]),reactExports.useEffect(()=>{if(!_e||!_t.current)return;const ht={root:_t.current,rootMargin:"-45% 0px -45% 0px",threshold:.01},Wt=kt=>{Tt.current||kt.forEach(wt=>{if(wt.isIntersecting){const dt=parseInt(wt.target.getAttribute("data-page-number"));dt&&(d(dt),Ft.current!==dt&&(yt.current=!0,a(dt)))}})};return mt.current=new IntersectionObserver(Wt,ht),setTimeout(()=>{document.querySelectorAll(".pdf-page-container").forEach(kt=>{var wt;return(wt=mt.current)==null?void 0:wt.observe(kt)})},100),()=>{var kt;return(kt=mt.current)==null?void 0:kt.disconnect()}},[_e,e]);const Lt=(ht,Wt="smooth")=>{it(ht);const kt=document.getElementById(`page_${ht}`);kt&&kt.scrollIntoView({behavior:Wt,block:"center"})};if(!e)return jsxRuntimeExports.jsx("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center bg-secondary/20",children:jsxRuntimeExports.jsxs("label",{className:"cursor-pointer group flex flex-col items-center animate-in fade-in zoom-in duration-500",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 rounded-2xl bg-white shadow-lg flex items-center justify-center mb-6 group-hover:scale-105 transition-transform border border-border",children:jsxRuntimeExports.jsx(FileUp,{className:"w-10 h-10 text-primary"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2 tracking-tight",children:"Upload PDF"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",onChange:At,className:"hidden"})]})});const $t=3,Gt=Math.max(1,(h||1)-$t),Yt=Math.min(_e||1,(h||1)+$t);return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col bg-slate-100 dark:bg-black border-r dark:border-slate-800 relative group",onMouseEnter:()=>h&&a(h),children:[jsxRuntimeExports.jsxs("div",{className:"h-12 border-b bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 flex items-center px-4 justify-between gap-2 shadow-sm z-30 relative transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 bg-red-100 dark:bg-red-900/30 text-red-600 rounded-md mr-2",children:jsxRuntimeExports.jsx(FileText,{size:16})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 max-w-[150px] truncate",title:e==null?void 0:e.name,children:e?e.name:"No PDF Loaded"}),jsxRuntimeExports.jsx("button",{onClick:()=>s(null),className:"p-1 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors ml-2",title:"Close PDF",children:jsxRuntimeExports.jsx(X,{size:16})}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-border mx-2"}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(!rt),className:cn("p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors",rt&&"text-primary bg-primary/10"),title:"Table of Contents",disabled:!ot,children:jsxRuntimeExports.jsx(Bookmark,{size:18})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Et(Math.max(.5,j-.1)),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",children:jsxRuntimeExports.jsx(ZoomOut,{size:18})}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-mono w-12 text-center text-slate-600 dark:text-slate-400",children:[(j*100).toFixed(0),"%"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Et(Math.min(2,j+.1)),className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded",children:jsxRuntimeExports.jsx(ZoomIn,{size:18})}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-border mx-1"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ct(ft==="draw"?"cursor":"draw"),className:cn("p-1.5 rounded transition-all",ft==="draw"?"bg-yellow-100 text-yellow-600 ring-1 ring-yellow-400":"hover:bg-slate-100 dark:hover:bg-slate-800 text-muted-foreground"),title:"Highlighter",children:jsxRuntimeExports.jsx(Highlighter,{size:18})}),jsxRuntimeExports.jsx("button",{onClick:()=>Ct(ft==="snapshot"?"cursor":"snapshot"),className:cn("p-1.5 rounded transition-all",ft==="snapshot"?"bg-blue-100 text-blue-600 ring-1 ring-blue-400":"hover:bg-slate-100 dark:hover:bg-slate-800 text-muted-foreground"),title:"Snapshot Tool (Drag to copy)",children:jsxRuntimeExports.jsx(Camera,{size:18})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[rt&&ot&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-72 bg-white/95 backdrop-blur border-r z-40 shadow-2xl p-4 overflow-y-auto animate-in slide-in-from-left duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-sm",children:"Contents"}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(!1),className:"text-xs text-muted-foreground",children:"Close"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1",children:ot.map((ht,Wt)=>jsxRuntimeExports.jsx("button",{onClick:()=>vt(ht),className:"text-left text-sm text-foreground/80 hover:text-primary hover:bg-primary/5 px-2 py-1.5 rounded truncate transition-colors",children:ht.title},Wt))})]}),jsxRuntimeExports.jsx("div",{ref:_t,className:"flex-1 overflow-y-auto bg-slate-100/50",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center gap-6 transition-[padding] duration-300",style:{paddingTop:(Jt=xt==null?void 0:xt[1])!=null&&Jt.height?`max(0px, calc(45vh - ${xt[1].height*(j||1)/2}px))`:"2rem",paddingBottom:(an=xt==null?void 0:xt[_e])!=null&&an.height?`max(0px, calc(45vh - ${xt[_e].height*(j||1)/2}px))`:"2rem",minHeight:"calc(100vh - 3rem)"},children:jsxRuntimeExports.jsx(Document,{file:e,onLoadSuccess:Ot,className:"contents",loading:jsxRuntimeExports.jsx("div",{className:"py-20",children:jsxRuntimeExports.jsx(Loader2,{className:"animate-spin text-primary"})}),children:Array.from(new Array(_e),(ht,Wt)=>{const kt=Wt+1,wt=kt>=Gt&&kt<=Yt,dt=xt[kt],bt=dt?dt.width*j:FALLBACK_WIDTH*j,Dt=dt?dt.height*j:FALLBACK_WIDTH*1.414*j;return jsxRuntimeExports.jsxs("div",{id:`page_${kt}`,"data-page-number":kt,className:cn("pdf-page-container relative group origin-top bg-white shadow-sm"),style:{width:bt,height:Dt,minHeight:Dt},onClick:()=>ft==="cursor"&&Lt(kt),onDoubleClick:()=>ft==="cursor"&&Mt(kt),children:[wt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Page,{pageNumber:kt,scale:j,onLoadSuccess:Bt=>Rt(Bt,kt,j),renderTextLayer:ft==="cursor",renderAnnotationLayer:ft==="cursor"}),dt&&jsxRuntimeExports.jsx(AnnotationLayer,{pageNumber:kt,scale:j,snapshotScale:et,width:bt,height:Dt,originalWidth:dt.width,originalHeight:dt.height,annotations:g[kt],onAddAnnotation:b,tool:ft,onSnapshotComplete:()=>Ct("cursor")})]}):jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground/20 text-4xl font-bold",children:kt}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 right-2 bg-black/50 text-white text-[10px] px-1.5 py-0.5 rounded opacity-0 group-hover:opacity-100 pointer-events-none z-10",children:kt})]},`page_${kt}`)})})})})]}),(nt||i)&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30",children:jsxRuntimeExports.jsxs("button",{disabled:i||!at,onClick:()=>nt&&Mt(nt),className:"flex items-center gap-2 bg-slate-900 text-white px-6 py-3 rounded-full shadow-xl font-semibold hover:scale-105 active:scale-95 border border-white/20",children:[i?jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Wand2,{className:"w-4 h-4"}),i?"Processing...":`Process Page ${nt}`]})})]})}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,s){(function(i){e.exports=i()})(function(){return function i(o,a,c){function d(b,_){if(!a[b]){if(!o[b]){var $=typeof commonjsRequire=="function"&&commonjsRequire;if(!_&&$)return $(b,!0);if(h)return h(b,!0);var et=new Error("Cannot find module '"+b+"'");throw et.code="MODULE_NOT_FOUND",et}var _e=a[b]={exports:{}};o[b][0].call(_e.exports,function(st){var nt=o[b][1][st];return d(nt||st)},_e,_e.exports,i,o,a,c)}return a[b].exports}for(var h=typeof commonjsRequire=="function"&&commonjsRequire,g=0;g<c.length;g++)d(c[g]);return d}({1:[function(i,o,a){var c=i("./utils"),d=i("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(g){for(var b,_,$,et,_e,st,nt,it=[],j=0,tt=g.length,ot=tt,lt=c.getTypeOf(g)!=="string";j<g.length;)ot=tt-j,$=lt?(b=g[j++],_=j<tt?g[j++]:0,j<tt?g[j++]:0):(b=g.charCodeAt(j++),_=j<tt?g.charCodeAt(j++):0,j<tt?g.charCodeAt(j++):0),et=b>>2,_e=(3&b)<<4|_>>4,st=1<ot?(15&_)<<2|$>>6:64,nt=2<ot?63&$:64,it.push(h.charAt(et)+h.charAt(_e)+h.charAt(st)+h.charAt(nt));return it.join("")},a.decode=function(g){var b,_,$,et,_e,st,nt=0,it=0,j="data:";if(g.substr(0,j.length)===j)throw new Error("Invalid base64 input, it looks like a data url.");var tt,ot=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===h.charAt(64)&&ot--,g.charAt(g.length-2)===h.charAt(64)&&ot--,ot%1!=0)throw new Error("Invalid base64 input, bad content length.");for(tt=d.uint8array?new Uint8Array(0|ot):new Array(0|ot);nt<g.length;)b=h.indexOf(g.charAt(nt++))<<2|(et=h.indexOf(g.charAt(nt++)))>>4,_=(15&et)<<4|(_e=h.indexOf(g.charAt(nt++)))>>2,$=(3&_e)<<6|(st=h.indexOf(g.charAt(nt++))),tt[it++]=b,_e!==64&&(tt[it++]=_),st!==64&&(tt[it++]=$);return tt}},{"./support":30,"./utils":32}],2:[function(i,o,a){var c=i("./external"),d=i("./stream/DataWorker"),h=i("./stream/Crc32Probe"),g=i("./stream/DataLengthProbe");function b(_,$,et,_e,st){this.compressedSize=_,this.uncompressedSize=$,this.crc32=et,this.compression=_e,this.compressedContent=st}b.prototype={getContentWorker:function(){var _=new d(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),$=this;return _.on("end",function(){if(this.streamInfo.data_length!==$.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new d(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},b.createWorkerFrom=function(_,$,et){return _.pipe(new h).pipe(new g("uncompressedSize")).pipe($.compressWorker(et)).pipe(new g("compressedSize")).withStreamInfo("compression",$)},o.exports=b},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,o,a){var c=i("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},a.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,o,a){var c=i("./utils"),d=function(){for(var h,g=[],b=0;b<256;b++){h=b;for(var _=0;_<8;_++)h=1&h?3988292384^h>>>1:h>>>1;g[b]=h}return g}();o.exports=function(h,g){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?function(b,_,$,et){var _e=d,st=et+$;b^=-1;for(var nt=et;nt<st;nt++)b=b>>>8^_e[255&(b^_[nt])];return-1^b}(0|g,h,h.length,0):function(b,_,$,et){var _e=d,st=et+$;b^=-1;for(var nt=et;nt<st;nt++)b=b>>>8^_e[255&(b^_.charCodeAt(nt))];return-1^b}(0|g,h,h.length,0):0}},{"./utils":32}],5:[function(i,o,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(i,o,a){var c=null;c=typeof Promise<"u"?Promise:i("lie"),o.exports={Promise:c}},{lie:37}],7:[function(i,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=i("pako"),h=i("./utils"),g=i("./stream/GenericWorker"),b=c?"uint8array":"array";function _($,et){g.call(this,"FlateWorker/"+$),this._pako=null,this._pakoAction=$,this._pakoOptions=et,this.meta={}}a.magic="\b\0",h.inherits(_,g),_.prototype.processChunk=function($){this.meta=$.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(b,$.data),!1)},_.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var $=this;this._pako.onData=function(et){$.push({data:et,meta:$.meta})}},a.compressWorker=function($){return new _("Deflate",$)},a.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,o,a){function c(_e,st){var nt,it="";for(nt=0;nt<st;nt++)it+=String.fromCharCode(255&_e),_e>>>=8;return it}function d(_e,st,nt,it,j,tt){var ot,lt,rt=_e.file,ct=_e.compression,at=tt!==b.utf8encode,ut=h.transformTo("string",tt(rt.name)),ft=h.transformTo("string",b.utf8encode(rt.name)),Ct=rt.comment,xt=h.transformTo("string",tt(Ct)),pt=h.transformTo("string",b.utf8encode(Ct)),_t=ft.length!==rt.name.length,mt=pt.length!==Ct.length,Pt="",Ut="",Tt="",Ot=rt.dir,At=rt.date,Mt={crc32:0,compressedSize:0,uncompressedSize:0};st&&!nt||(Mt.crc32=_e.crc32,Mt.compressedSize=_e.compressedSize,Mt.uncompressedSize=_e.uncompressedSize);var Rt=0;st&&(Rt|=8),at||!_t&&!mt||(Rt|=2048);var Et=0,yt=0;Ot&&(Et|=16),j==="UNIX"?(yt=798,Et|=function(St,jt){var Ft=St;return St||(Ft=jt?16893:33204),(65535&Ft)<<16}(rt.unixPermissions,Ot)):(yt=20,Et|=function(St){return 63&(St||0)}(rt.dosPermissions)),ot=At.getUTCHours(),ot<<=6,ot|=At.getUTCMinutes(),ot<<=5,ot|=At.getUTCSeconds()/2,lt=At.getUTCFullYear()-1980,lt<<=4,lt|=At.getUTCMonth()+1,lt<<=5,lt|=At.getUTCDate(),_t&&(Ut=c(1,1)+c(_(ut),4)+ft,Pt+="up"+c(Ut.length,2)+Ut),mt&&(Tt=c(1,1)+c(_(xt),4)+pt,Pt+="uc"+c(Tt.length,2)+Tt);var vt="";return vt+=`
\0`,vt+=c(Rt,2),vt+=ct.magic,vt+=c(ot,2),vt+=c(lt,2),vt+=c(Mt.crc32,4),vt+=c(Mt.compressedSize,4),vt+=c(Mt.uncompressedSize,4),vt+=c(ut.length,2),vt+=c(Pt.length,2),{fileRecord:$.LOCAL_FILE_HEADER+vt+ut+Pt,dirRecord:$.CENTRAL_FILE_HEADER+c(yt,2)+vt+c(xt.length,2)+"\0\0\0\0"+c(Et,4)+c(it,4)+ut+Pt+xt}}var h=i("../utils"),g=i("../stream/GenericWorker"),b=i("../utf8"),_=i("../crc32"),$=i("../signature");function et(_e,st,nt,it){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=st,this.zipPlatform=nt,this.encodeFileName=it,this.streamFiles=_e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(et,g),et.prototype.push=function(_e){var st=_e.meta.percent||0,nt=this.entriesCount,it=this._sources.length;this.accumulate?this.contentBuffer.push(_e):(this.bytesWritten+=_e.data.length,g.prototype.push.call(this,{data:_e.data,meta:{currentFile:this.currentFile,percent:nt?(st+100*(nt-it-1))/nt:100}}))},et.prototype.openedSource=function(_e){this.currentSourceOffset=this.bytesWritten,this.currentFile=_e.file.name;var st=this.streamFiles&&!_e.file.dir;if(st){var nt=d(_e,st,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:nt.fileRecord,meta:{percent:0}})}else this.accumulate=!0},et.prototype.closedSource=function(_e){this.accumulate=!1;var st=this.streamFiles&&!_e.file.dir,nt=d(_e,st,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(nt.dirRecord),st)this.push({data:function(it){return $.DATA_DESCRIPTOR+c(it.crc32,4)+c(it.compressedSize,4)+c(it.uncompressedSize,4)}(_e),meta:{percent:100}});else for(this.push({data:nt.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},et.prototype.flush=function(){for(var _e=this.bytesWritten,st=0;st<this.dirRecords.length;st++)this.push({data:this.dirRecords[st],meta:{percent:100}});var nt=this.bytesWritten-_e,it=function(j,tt,ot,lt,rt){var ct=h.transformTo("string",rt(lt));return $.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(j,2)+c(j,2)+c(tt,4)+c(ot,4)+c(ct.length,2)+ct}(this.dirRecords.length,nt,_e,this.zipComment,this.encodeFileName);this.push({data:it,meta:{percent:100}})},et.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},et.prototype.registerPrevious=function(_e){this._sources.push(_e);var st=this;return _e.on("data",function(nt){st.processChunk(nt)}),_e.on("end",function(){st.closedSource(st.previous.streamInfo),st._sources.length?st.prepareNextSource():st.end()}),_e.on("error",function(nt){st.error(nt)}),this},et.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},et.prototype.error=function(_e){var st=this._sources;if(!g.prototype.error.call(this,_e))return!1;for(var nt=0;nt<st.length;nt++)try{st[nt].error(_e)}catch{}return!0},et.prototype.lock=function(){g.prototype.lock.call(this);for(var _e=this._sources,st=0;st<_e.length;st++)_e[st].lock()},o.exports=et},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,o,a){var c=i("../compressions"),d=i("./ZipFileWorker");a.generateWorker=function(h,g,b){var _=new d(g.streamFiles,b,g.platform,g.encodeFileName),$=0;try{h.forEach(function(et,_e){$++;var st=function(tt,ot){var lt=tt||ot,rt=c[lt];if(!rt)throw new Error(lt+" is not a valid compression method !");return rt}(_e.options.compression,g.compression),nt=_e.options.compressionOptions||g.compressionOptions||{},it=_e.dir,j=_e.date;_e._compressWorker(st,nt).withStreamInfo("file",{name:et,dir:it,date:j,comment:_e.comment||"",unixPermissions:_e.unixPermissions,dosPermissions:_e.dosPermissions}).pipe(_)}),_.entriesCount=$}catch(et){_.error(et)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,o,a){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new c;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(c.prototype=i("./object")).loadAsync=i("./load"),c.support=i("./support"),c.defaults=i("./defaults"),c.version="3.10.1",c.loadAsync=function(d,h){return new c().loadAsync(d,h)},c.external=i("./external"),o.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,o,a){var c=i("./utils"),d=i("./external"),h=i("./utf8"),g=i("./zipEntries"),b=i("./stream/Crc32Probe"),_=i("./nodejsUtils");function $(et){return new d.Promise(function(_e,st){var nt=et.decompressed.getContentWorker().pipe(new b);nt.on("error",function(it){st(it)}).on("end",function(){nt.streamInfo.crc32!==et.decompressed.crc32?st(new Error("Corrupted zip : CRC32 mismatch")):_e()}).resume()})}o.exports=function(et,_e){var st=this;return _e=c.extend(_e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),_.isNode&&_.isStream(et)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",et,!0,_e.optimizedBinaryString,_e.base64).then(function(nt){var it=new g(_e);return it.load(nt),it}).then(function(nt){var it=[d.Promise.resolve(nt)],j=nt.files;if(_e.checkCRC32)for(var tt=0;tt<j.length;tt++)it.push($(j[tt]));return d.Promise.all(it)}).then(function(nt){for(var it=nt.shift(),j=it.files,tt=0;tt<j.length;tt++){var ot=j[tt],lt=ot.fileNameStr,rt=c.resolve(ot.fileNameStr);st.file(rt,ot.decompressed,{binary:!0,optimizedBinaryString:!0,date:ot.date,dir:ot.dir,comment:ot.fileCommentStr.length?ot.fileCommentStr:null,unixPermissions:ot.unixPermissions,dosPermissions:ot.dosPermissions,createFolders:_e.createFolders}),ot.dir||(st.file(rt).unsafeOriginalName=lt)}return it.zipComment.length&&(st.comment=it.zipComment),st})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,o,a){var c=i("../utils"),d=i("../stream/GenericWorker");function h(g,b){d.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(b)}c.inherits(h,d),h.prototype._bindStream=function(g){var b=this;(this._stream=g).pause(),g.on("data",function(_){b.push({data:_,meta:{percent:0}})}).on("error",function(_){b.isPaused?this.generatedError=_:b.error(_)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,o,a){var c=i("readable-stream").Readable;function d(h,g,b){c.call(this,g),this._helper=h;var _=this;h.on("data",function($,et){_.push($)||_._helper.pause(),b&&b(et)}).on("error",function($){_.emit("error",$)}).on("end",function(){_.push(null)})}i("../utils").inherits(d,c),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(i,o,a){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,d);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,d)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var d=new Buffer(c);return d.fill(0),d},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(i,o,a){function c(rt,ct,at){var ut,ft=h.getTypeOf(ct),Ct=h.extend(at||{},_);Ct.date=Ct.date||new Date,Ct.compression!==null&&(Ct.compression=Ct.compression.toUpperCase()),typeof Ct.unixPermissions=="string"&&(Ct.unixPermissions=parseInt(Ct.unixPermissions,8)),Ct.unixPermissions&&16384&Ct.unixPermissions&&(Ct.dir=!0),Ct.dosPermissions&&16&Ct.dosPermissions&&(Ct.dir=!0),Ct.dir&&(rt=j(rt)),Ct.createFolders&&(ut=it(rt))&&tt.call(this,ut,!0);var xt=ft==="string"&&Ct.binary===!1&&Ct.base64===!1;at&&at.binary!==void 0||(Ct.binary=!xt),(ct instanceof $&&ct.uncompressedSize===0||Ct.dir||!ct||ct.length===0)&&(Ct.base64=!1,Ct.binary=!0,ct="",Ct.compression="STORE",ft="string");var pt=null;pt=ct instanceof $||ct instanceof g?ct:st.isNode&&st.isStream(ct)?new nt(rt,ct):h.prepareContent(rt,ct,Ct.binary,Ct.optimizedBinaryString,Ct.base64);var _t=new et(rt,pt,Ct);this.files[rt]=_t}var d=i("./utf8"),h=i("./utils"),g=i("./stream/GenericWorker"),b=i("./stream/StreamHelper"),_=i("./defaults"),$=i("./compressedObject"),et=i("./zipObject"),_e=i("./generate"),st=i("./nodejsUtils"),nt=i("./nodejs/NodejsStreamInputAdapter"),it=function(rt){rt.slice(-1)==="/"&&(rt=rt.substring(0,rt.length-1));var ct=rt.lastIndexOf("/");return 0<ct?rt.substring(0,ct):""},j=function(rt){return rt.slice(-1)!=="/"&&(rt+="/"),rt},tt=function(rt,ct){return ct=ct!==void 0?ct:_.createFolders,rt=j(rt),this.files[rt]||c.call(this,rt,null,{dir:!0,createFolders:ct}),this.files[rt]};function ot(rt){return Object.prototype.toString.call(rt)==="[object RegExp]"}var lt={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(rt){var ct,at,ut;for(ct in this.files)ut=this.files[ct],(at=ct.slice(this.root.length,ct.length))&&ct.slice(0,this.root.length)===this.root&&rt(at,ut)},filter:function(rt){var ct=[];return this.forEach(function(at,ut){rt(at,ut)&&ct.push(ut)}),ct},file:function(rt,ct,at){if(arguments.length!==1)return rt=this.root+rt,c.call(this,rt,ct,at),this;if(ot(rt)){var ut=rt;return this.filter(function(Ct,xt){return!xt.dir&&ut.test(Ct)})}var ft=this.files[this.root+rt];return ft&&!ft.dir?ft:null},folder:function(rt){if(!rt)return this;if(ot(rt))return this.filter(function(ft,Ct){return Ct.dir&&rt.test(ft)});var ct=this.root+rt,at=tt.call(this,ct),ut=this.clone();return ut.root=at.name,ut},remove:function(rt){rt=this.root+rt;var ct=this.files[rt];if(ct||(rt.slice(-1)!=="/"&&(rt+="/"),ct=this.files[rt]),ct&&!ct.dir)delete this.files[rt];else for(var at=this.filter(function(ft,Ct){return Ct.name.slice(0,rt.length)===rt}),ut=0;ut<at.length;ut++)delete this.files[at[ut].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(rt){var ct,at={};try{if((at=h.extend(rt||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=at.type.toLowerCase(),at.compression=at.compression.toUpperCase(),at.type==="binarystring"&&(at.type="string"),!at.type)throw new Error("No output type specified.");h.checkSupport(at.type),at.platform!=="darwin"&&at.platform!=="freebsd"&&at.platform!=="linux"&&at.platform!=="sunos"||(at.platform="UNIX"),at.platform==="win32"&&(at.platform="DOS");var ut=at.comment||this.comment||"";ct=_e.generateWorker(this,at,ut)}catch(ft){(ct=new g("error")).error(ft)}return new b(ct,at.type||"string",at.mimeType)},generateAsync:function(rt,ct){return this.generateInternalStream(rt).accumulate(ct)},generateNodeStream:function(rt,ct){return(rt=rt||{}).type||(rt.type="nodebuffer"),this.generateInternalStream(rt).toNodejsStream(ct)}};o.exports=lt},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,o,a){o.exports=i("stream")},{stream:void 0}],17:[function(i,o,a){var c=i("./DataReader");function d(h){c.call(this,h);for(var g=0;g<this.data.length;g++)h[g]=255&h[g]}i("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var g=h.charCodeAt(0),b=h.charCodeAt(1),_=h.charCodeAt(2),$=h.charCodeAt(3),et=this.length-4;0<=et;--et)if(this.data[et]===g&&this.data[et+1]===b&&this.data[et+2]===_&&this.data[et+3]===$)return et-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var g=h.charCodeAt(0),b=h.charCodeAt(1),_=h.charCodeAt(2),$=h.charCodeAt(3),et=this.readData(4);return g===et[0]&&b===et[1]&&_===et[2]&&$===et[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(i,o,a){var c=i("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var g,b=0;for(this.checkOffset(h),g=this.index+h-1;g>=this.index;g--)b=(b<<8)+this.byteAt(g);return this.index+=h,b},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(i,o,a){var c=i("./Uint8ArrayReader");function d(h){c.call(this,h)}i("../utils").inherits(d,c),d.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,o,a){var c=i("./DataReader");function d(h){c.call(this,h)}i("../utils").inherits(d,c),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(i,o,a){var c=i("./ArrayReader");function d(h){c.call(this,h)}i("../utils").inherits(d,c),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(i,o,a){var c=i("../utils"),d=i("../support"),h=i("./ArrayReader"),g=i("./StringReader"),b=i("./NodeBufferReader"),_=i("./Uint8ArrayReader");o.exports=function($){var et=c.getTypeOf($);return c.checkSupport(et),et!=="string"||d.uint8array?et==="nodebuffer"?new b($):d.uint8array?new _(c.transformTo("uint8array",$)):new h(c.transformTo("array",$)):new g($)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,o,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,o,a){var c=i("./GenericWorker"),d=i("../utils");function h(g){c.call(this,"ConvertWorker to "+g),this.destType=g}d.inherits(h,c),h.prototype.processChunk=function(g){this.push({data:d.transformTo(this.destType,g.data),meta:g.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(i,o,a){var c=i("./GenericWorker"),d=i("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(h,c),h.prototype.processChunk=function(g){this.streamInfo.crc32=d(g.data,this.streamInfo.crc32||0),this.push(g)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,o,a){var c=i("../utils"),d=i("./GenericWorker");function h(g){d.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}c.inherits(h,d),h.prototype.processChunk=function(g){if(g){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+g.data.length}d.prototype.processChunk.call(this,g)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(i,o,a){var c=i("../utils"),d=i("./GenericWorker");function h(g){d.call(this,"DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(_){b.dataIsReady=!0,b.data=_,b.max=_&&_.length||0,b.type=c.getTypeOf(_),b.isPaused||b._tickAndRepeat()},function(_){b.error(_)})}c.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,b=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,b);break;case"uint8array":g=this.data.subarray(this.index,b);break;case"array":case"nodebuffer":g=this.data.slice(this.index,b)}return this.index=b,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(i,o,a){function c(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var g=0;g<this._listeners[d].length;g++)this._listeners[d][g].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(g){h.processChunk(g)}),d.on("end",function(){h.end()}),d.on("error",function(g){h.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=c},{}],29:[function(i,o,a){var c=i("../utils"),d=i("./ConvertWorker"),h=i("./GenericWorker"),g=i("../base64"),b=i("../support"),_=i("../external"),$=null;if(b.nodestream)try{$=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function et(st,nt){return new _.Promise(function(it,j){var tt=[],ot=st._internalType,lt=st._outputType,rt=st._mimeType;st.on("data",function(ct,at){tt.push(ct),nt&&nt(at)}).on("error",function(ct){tt=[],j(ct)}).on("end",function(){try{var ct=function(at,ut,ft){switch(at){case"blob":return c.newBlob(c.transformTo("arraybuffer",ut),ft);case"base64":return g.encode(ut);default:return c.transformTo(at,ut)}}(lt,function(at,ut){var ft,Ct=0,xt=null,pt=0;for(ft=0;ft<ut.length;ft++)pt+=ut[ft].length;switch(at){case"string":return ut.join("");case"array":return Array.prototype.concat.apply([],ut);case"uint8array":for(xt=new Uint8Array(pt),ft=0;ft<ut.length;ft++)xt.set(ut[ft],Ct),Ct+=ut[ft].length;return xt;case"nodebuffer":return Buffer.concat(ut);default:throw new Error("concat : unsupported type '"+at+"'")}}(ot,tt),rt);it(ct)}catch(at){j(at)}tt=[]}).resume()})}function _e(st,nt,it){var j=nt;switch(nt){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string"}try{this._internalType=j,this._outputType=nt,this._mimeType=it,c.checkSupport(j),this._worker=st.pipe(new d(j)),st.lock()}catch(tt){this._worker=new h("error"),this._worker.error(tt)}}_e.prototype={accumulate:function(st){return et(this,st)},on:function(st,nt){var it=this;return st==="data"?this._worker.on(st,function(j){nt.call(it,j.data,j.meta)}):this._worker.on(st,function(){c.delay(nt,arguments,it)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(st){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new $(this,{objectMode:this._outputType!=="nodebuffer"},st)}},o.exports=_e},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,o,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var c=new ArrayBuffer(0);try{a.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(c),a.blob=d.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!i("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(i,o,a){for(var c=i("./utils"),d=i("./support"),h=i("./nodejsUtils"),g=i("./stream/GenericWorker"),b=new Array(256),_=0;_<256;_++)b[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;b[254]=b[254]=1;function $(){g.call(this,"utf-8 decode"),this.leftOver=null}function et(){g.call(this,"utf-8 encode")}a.utf8encode=function(_e){return d.nodebuffer?h.newBufferFrom(_e,"utf-8"):function(st){var nt,it,j,tt,ot,lt=st.length,rt=0;for(tt=0;tt<lt;tt++)(64512&(it=st.charCodeAt(tt)))==55296&&tt+1<lt&&(64512&(j=st.charCodeAt(tt+1)))==56320&&(it=65536+(it-55296<<10)+(j-56320),tt++),rt+=it<128?1:it<2048?2:it<65536?3:4;for(nt=d.uint8array?new Uint8Array(rt):new Array(rt),tt=ot=0;ot<rt;tt++)(64512&(it=st.charCodeAt(tt)))==55296&&tt+1<lt&&(64512&(j=st.charCodeAt(tt+1)))==56320&&(it=65536+(it-55296<<10)+(j-56320),tt++),it<128?nt[ot++]=it:(it<2048?nt[ot++]=192|it>>>6:(it<65536?nt[ot++]=224|it>>>12:(nt[ot++]=240|it>>>18,nt[ot++]=128|it>>>12&63),nt[ot++]=128|it>>>6&63),nt[ot++]=128|63&it);return nt}(_e)},a.utf8decode=function(_e){return d.nodebuffer?c.transformTo("nodebuffer",_e).toString("utf-8"):function(st){var nt,it,j,tt,ot=st.length,lt=new Array(2*ot);for(nt=it=0;nt<ot;)if((j=st[nt++])<128)lt[it++]=j;else if(4<(tt=b[j]))lt[it++]=65533,nt+=tt-1;else{for(j&=tt===2?31:tt===3?15:7;1<tt&&nt<ot;)j=j<<6|63&st[nt++],tt--;1<tt?lt[it++]=65533:j<65536?lt[it++]=j:(j-=65536,lt[it++]=55296|j>>10&1023,lt[it++]=56320|1023&j)}return lt.length!==it&&(lt.subarray?lt=lt.subarray(0,it):lt.length=it),c.applyFromCharCode(lt)}(_e=c.transformTo(d.uint8array?"uint8array":"array",_e))},c.inherits($,g),$.prototype.processChunk=function(_e){var st=c.transformTo(d.uint8array?"uint8array":"array",_e.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var nt=st;(st=new Uint8Array(nt.length+this.leftOver.length)).set(this.leftOver,0),st.set(nt,this.leftOver.length)}else st=this.leftOver.concat(st);this.leftOver=null}var it=function(tt,ot){var lt;for((ot=ot||tt.length)>tt.length&&(ot=tt.length),lt=ot-1;0<=lt&&(192&tt[lt])==128;)lt--;return lt<0||lt===0?ot:lt+b[tt[lt]]>ot?lt:ot}(st),j=st;it!==st.length&&(d.uint8array?(j=st.subarray(0,it),this.leftOver=st.subarray(it,st.length)):(j=st.slice(0,it),this.leftOver=st.slice(it,st.length))),this.push({data:a.utf8decode(j),meta:_e.meta})},$.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=$,c.inherits(et,g),et.prototype.processChunk=function(_e){this.push({data:a.utf8encode(_e.data),meta:_e.meta})},a.Utf8EncodeWorker=et},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,o,a){var c=i("./support"),d=i("./base64"),h=i("./nodejsUtils"),g=i("./external");function b(nt){return nt}function _(nt,it){for(var j=0;j<nt.length;++j)it[j]=255&nt.charCodeAt(j);return it}i("setimmediate"),a.newBlob=function(nt,it){a.checkSupport("blob");try{return new Blob([nt],{type:it})}catch{try{var j=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return j.append(nt),j.getBlob(it)}catch{throw new Error("Bug : can't construct the Blob.")}}};var $={stringifyByChunk:function(nt,it,j){var tt=[],ot=0,lt=nt.length;if(lt<=j)return String.fromCharCode.apply(null,nt);for(;ot<lt;)it==="array"||it==="nodebuffer"?tt.push(String.fromCharCode.apply(null,nt.slice(ot,Math.min(ot+j,lt)))):tt.push(String.fromCharCode.apply(null,nt.subarray(ot,Math.min(ot+j,lt)))),ot+=j;return tt.join("")},stringifyByChar:function(nt){for(var it="",j=0;j<nt.length;j++)it+=String.fromCharCode(nt[j]);return it},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function et(nt){var it=65536,j=a.getTypeOf(nt),tt=!0;if(j==="uint8array"?tt=$.applyCanBeUsed.uint8array:j==="nodebuffer"&&(tt=$.applyCanBeUsed.nodebuffer),tt)for(;1<it;)try{return $.stringifyByChunk(nt,j,it)}catch{it=Math.floor(it/2)}return $.stringifyByChar(nt)}function _e(nt,it){for(var j=0;j<nt.length;j++)it[j]=nt[j];return it}a.applyFromCharCode=et;var st={};st.string={string:b,array:function(nt){return _(nt,new Array(nt.length))},arraybuffer:function(nt){return st.string.uint8array(nt).buffer},uint8array:function(nt){return _(nt,new Uint8Array(nt.length))},nodebuffer:function(nt){return _(nt,h.allocBuffer(nt.length))}},st.array={string:et,array:b,arraybuffer:function(nt){return new Uint8Array(nt).buffer},uint8array:function(nt){return new Uint8Array(nt)},nodebuffer:function(nt){return h.newBufferFrom(nt)}},st.arraybuffer={string:function(nt){return et(new Uint8Array(nt))},array:function(nt){return _e(new Uint8Array(nt),new Array(nt.byteLength))},arraybuffer:b,uint8array:function(nt){return new Uint8Array(nt)},nodebuffer:function(nt){return h.newBufferFrom(new Uint8Array(nt))}},st.uint8array={string:et,array:function(nt){return _e(nt,new Array(nt.length))},arraybuffer:function(nt){return nt.buffer},uint8array:b,nodebuffer:function(nt){return h.newBufferFrom(nt)}},st.nodebuffer={string:et,array:function(nt){return _e(nt,new Array(nt.length))},arraybuffer:function(nt){return st.nodebuffer.uint8array(nt).buffer},uint8array:function(nt){return _e(nt,new Uint8Array(nt.length))},nodebuffer:b},a.transformTo=function(nt,it){if(it=it||"",!nt)return it;a.checkSupport(nt);var j=a.getTypeOf(it);return st[j][nt](it)},a.resolve=function(nt){for(var it=nt.split("/"),j=[],tt=0;tt<it.length;tt++){var ot=it[tt];ot==="."||ot===""&&tt!==0&&tt!==it.length-1||(ot===".."?j.pop():j.push(ot))}return j.join("/")},a.getTypeOf=function(nt){return typeof nt=="string"?"string":Object.prototype.toString.call(nt)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(nt)?"nodebuffer":c.uint8array&&nt instanceof Uint8Array?"uint8array":c.arraybuffer&&nt instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(nt){if(!c[nt.toLowerCase()])throw new Error(nt+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(nt){var it,j,tt="";for(j=0;j<(nt||"").length;j++)tt+="\\x"+((it=nt.charCodeAt(j))<16?"0":"")+it.toString(16).toUpperCase();return tt},a.delay=function(nt,it,j){setImmediate(function(){nt.apply(j||null,it||[])})},a.inherits=function(nt,it){function j(){}j.prototype=it.prototype,nt.prototype=new j},a.extend=function(){var nt,it,j={};for(nt=0;nt<arguments.length;nt++)for(it in arguments[nt])Object.prototype.hasOwnProperty.call(arguments[nt],it)&&j[it]===void 0&&(j[it]=arguments[nt][it]);return j},a.prepareContent=function(nt,it,j,tt,ot){return g.Promise.resolve(it).then(function(lt){return c.blob&&(lt instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(lt))!==-1)&&typeof FileReader<"u"?new g.Promise(function(rt,ct){var at=new FileReader;at.onload=function(ut){rt(ut.target.result)},at.onerror=function(ut){ct(ut.target.error)},at.readAsArrayBuffer(lt)}):lt}).then(function(lt){var rt=a.getTypeOf(lt);return rt?(rt==="arraybuffer"?lt=a.transformTo("uint8array",lt):rt==="string"&&(ot?lt=d.decode(lt):j&&tt!==!0&&(lt=function(ct){return _(ct,c.uint8array?new Uint8Array(ct.length):new Array(ct.length))}(lt))),lt):g.Promise.reject(new Error("Can't read the data of '"+nt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,o,a){var c=i("./reader/readerFor"),d=i("./utils"),h=i("./signature"),g=i("./zipEntry"),b=i("./support");function _($){this.files=[],this.loadOptions=$}_.prototype={checkSignature:function($){if(!this.reader.readAndCheckSignature($)){this.reader.index-=4;var et=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(et)+", expected "+d.pretty($)+")")}},isSignature:function($,et){var _e=this.reader.index;this.reader.setIndex($);var st=this.reader.readString(4)===et;return this.reader.setIndex(_e),st},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var $=this.reader.readData(this.zipCommentLength),et=b.uint8array?"uint8array":"array",_e=d.transformTo(et,$);this.zipComment=this.loadOptions.decodeFileName(_e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var $,et,_e,st=this.zip64EndOfCentralSize-44;0<st;)$=this.reader.readInt(2),et=this.reader.readInt(4),_e=this.reader.readData(et),this.zip64ExtensibleData[$]={id:$,length:et,value:_e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var $,et;for($=0;$<this.files.length;$++)et=this.files[$],this.reader.setIndex(et.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),et.readLocalPart(this.reader),et.handleUTF8(),et.processAttributes()},readCentralDir:function(){var $;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)($=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push($);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var $=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if($<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex($);var et=$;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,($=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex($),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var _e=this.centralDirOffset+this.centralDirSize;this.zip64&&(_e+=20,_e+=12+this.zip64EndOfCentralSize);var st=et-_e;if(0<st)this.isSignature(et,h.CENTRAL_FILE_HEADER)||(this.reader.zero=st);else if(st<0)throw new Error("Corrupted zip: missing "+Math.abs(st)+" bytes.")},prepareReader:function($){this.reader=c($)},load:function($){this.prepareReader($),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,o,a){var c=i("./reader/readerFor"),d=i("./utils"),h=i("./compressedObject"),g=i("./crc32"),b=i("./utf8"),_=i("./compressions"),$=i("./support");function et(_e,st){this.options=_e,this.loadOptions=st}et.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(_e){var st,nt;if(_e.skip(22),this.fileNameLength=_e.readInt(2),nt=_e.readInt(2),this.fileName=_e.readData(this.fileNameLength),_e.skip(nt),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((st=function(it){for(var j in _)if(Object.prototype.hasOwnProperty.call(_,j)&&_[j].magic===it)return _[j];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,st,_e.readData(this.compressedSize))},readCentralPart:function(_e){this.versionMadeBy=_e.readInt(2),_e.skip(2),this.bitFlag=_e.readInt(2),this.compressionMethod=_e.readString(2),this.date=_e.readDate(),this.crc32=_e.readInt(4),this.compressedSize=_e.readInt(4),this.uncompressedSize=_e.readInt(4);var st=_e.readInt(2);if(this.extraFieldsLength=_e.readInt(2),this.fileCommentLength=_e.readInt(2),this.diskNumberStart=_e.readInt(2),this.internalFileAttributes=_e.readInt(2),this.externalFileAttributes=_e.readInt(4),this.localHeaderOffset=_e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_e.skip(st),this.readExtraFields(_e),this.parseZIP64ExtraField(_e),this.fileComment=_e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),_e==0&&(this.dosPermissions=63&this.externalFileAttributes),_e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var _e=c(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=_e.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=_e.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=_e.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=_e.readInt(4))}},readExtraFields:function(_e){var st,nt,it,j=_e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_e.index+4<j;)st=_e.readInt(2),nt=_e.readInt(2),it=_e.readData(nt),this.extraFields[st]={id:st,length:nt,value:it};_e.setIndex(j)},handleUTF8:function(){var _e=$.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=b.utf8decode(this.fileName),this.fileCommentStr=b.utf8decode(this.fileComment);else{var st=this.findExtraFieldUnicodePath();if(st!==null)this.fileNameStr=st;else{var nt=d.transformTo(_e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(nt)}var it=this.findExtraFieldUnicodeComment();if(it!==null)this.fileCommentStr=it;else{var j=d.transformTo(_e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(j)}}},findExtraFieldUnicodePath:function(){var _e=this.extraFields[28789];if(_e){var st=c(_e.value);return st.readInt(1)!==1||g(this.fileName)!==st.readInt(4)?null:b.utf8decode(st.readData(_e.length-5))}return null},findExtraFieldUnicodeComment:function(){var _e=this.extraFields[25461];if(_e){var st=c(_e.value);return st.readInt(1)!==1||g(this.fileComment)!==st.readInt(4)?null:b.utf8decode(st.readData(_e.length-5))}return null}},o.exports=et},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,o,a){function c(st,nt,it){this.name=st,this.dir=it.dir,this.date=it.date,this.comment=it.comment,this.unixPermissions=it.unixPermissions,this.dosPermissions=it.dosPermissions,this._data=nt,this._dataBinary=it.binary,this.options={compression:it.compression,compressionOptions:it.compressionOptions}}var d=i("./stream/StreamHelper"),h=i("./stream/DataWorker"),g=i("./utf8"),b=i("./compressedObject"),_=i("./stream/GenericWorker");c.prototype={internalStream:function(st){var nt=null,it="string";try{if(!st)throw new Error("No output type specified.");var j=(it=st.toLowerCase())==="string"||it==="text";it!=="binarystring"&&it!=="text"||(it="string"),nt=this._decompressWorker();var tt=!this._dataBinary;tt&&!j&&(nt=nt.pipe(new g.Utf8EncodeWorker)),!tt&&j&&(nt=nt.pipe(new g.Utf8DecodeWorker))}catch(ot){(nt=new _("error")).error(ot)}return new d(nt,it,"")},async:function(st,nt){return this.internalStream(st).accumulate(nt)},nodeStream:function(st,nt){return this.internalStream(st||"nodebuffer").toNodejsStream(nt)},_compressWorker:function(st,nt){if(this._data instanceof b&&this._data.compression.magic===st.magic)return this._data.getCompressedWorker();var it=this._decompressWorker();return this._dataBinary||(it=it.pipe(new g.Utf8EncodeWorker)),b.createWorkerFrom(it,st,nt)},_decompressWorker:function(){return this._data instanceof b?this._data.getContentWorker():this._data instanceof _?this._data:new h(this._data)}};for(var $=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],et=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},_e=0;_e<$.length;_e++)c.prototype[$[_e]]=et;o.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,o,a){(function(c){var d,h,g=c.MutationObserver||c.WebKitMutationObserver;if(g){var b=0,_=new g(st),$=c.document.createTextNode("");_.observe($,{characterData:!0}),d=function(){$.data=b=++b%2}}else if(c.setImmediate||c.MessageChannel===void 0)d="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var nt=c.document.createElement("script");nt.onreadystatechange=function(){st(),nt.onreadystatechange=null,nt.parentNode.removeChild(nt),nt=null},c.document.documentElement.appendChild(nt)}:function(){setTimeout(st,0)};else{var et=new c.MessageChannel;et.port1.onmessage=st,d=function(){et.port2.postMessage(0)}}var _e=[];function st(){var nt,it;h=!0;for(var j=_e.length;j;){for(it=_e,_e=[],nt=-1;++nt<j;)it[nt]();j=_e.length}h=!1}o.exports=function(nt){_e.push(nt)!==1||h||d()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,o,a){var c=i("immediate");function d(){}var h={},g=["REJECTED"],b=["FULFILLED"],_=["PENDING"];function $(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,j!==d&&nt(this,j)}function et(j,tt,ot){this.promise=j,typeof tt=="function"&&(this.onFulfilled=tt,this.callFulfilled=this.otherCallFulfilled),typeof ot=="function"&&(this.onRejected=ot,this.callRejected=this.otherCallRejected)}function _e(j,tt,ot){c(function(){var lt;try{lt=tt(ot)}catch(rt){return h.reject(j,rt)}lt===j?h.reject(j,new TypeError("Cannot resolve promise with itself")):h.resolve(j,lt)})}function st(j){var tt=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof tt=="function")return function(){tt.apply(j,arguments)}}function nt(j,tt){var ot=!1;function lt(at){ot||(ot=!0,h.reject(j,at))}function rt(at){ot||(ot=!0,h.resolve(j,at))}var ct=it(function(){tt(rt,lt)});ct.status==="error"&&lt(ct.value)}function it(j,tt){var ot={};try{ot.value=j(tt),ot.status="success"}catch(lt){ot.status="error",ot.value=lt}return ot}(o.exports=$).prototype.finally=function(j){if(typeof j!="function")return this;var tt=this.constructor;return this.then(function(ot){return tt.resolve(j()).then(function(){return ot})},function(ot){return tt.resolve(j()).then(function(){throw ot})})},$.prototype.catch=function(j){return this.then(null,j)},$.prototype.then=function(j,tt){if(typeof j!="function"&&this.state===b||typeof tt!="function"&&this.state===g)return this;var ot=new this.constructor(d);return this.state!==_?_e(ot,this.state===b?j:tt,this.outcome):this.queue.push(new et(ot,j,tt)),ot},et.prototype.callFulfilled=function(j){h.resolve(this.promise,j)},et.prototype.otherCallFulfilled=function(j){_e(this.promise,this.onFulfilled,j)},et.prototype.callRejected=function(j){h.reject(this.promise,j)},et.prototype.otherCallRejected=function(j){_e(this.promise,this.onRejected,j)},h.resolve=function(j,tt){var ot=it(st,tt);if(ot.status==="error")return h.reject(j,ot.value);var lt=ot.value;if(lt)nt(j,lt);else{j.state=b,j.outcome=tt;for(var rt=-1,ct=j.queue.length;++rt<ct;)j.queue[rt].callFulfilled(tt)}return j},h.reject=function(j,tt){j.state=g,j.outcome=tt;for(var ot=-1,lt=j.queue.length;++ot<lt;)j.queue[ot].callRejected(tt);return j},$.resolve=function(j){return j instanceof this?j:h.resolve(new this(d),j)},$.reject=function(j){var tt=new this(d);return h.reject(tt,j)},$.all=function(j){var tt=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ot=j.length,lt=!1;if(!ot)return this.resolve([]);for(var rt=new Array(ot),ct=0,at=-1,ut=new this(d);++at<ot;)ft(j[at],at);return ut;function ft(Ct,xt){tt.resolve(Ct).then(function(pt){rt[xt]=pt,++ct!==ot||lt||(lt=!0,h.resolve(ut,rt))},function(pt){lt||(lt=!0,h.reject(ut,pt))})}},$.race=function(j){var tt=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ot=j.length,lt=!1;if(!ot)return this.resolve([]);for(var rt=-1,ct=new this(d);++rt<ot;)at=j[rt],tt.resolve(at).then(function(ut){lt||(lt=!0,h.resolve(ct,ut))},function(ut){lt||(lt=!0,h.reject(ct,ut))});var at;return ct}},{immediate:36}],38:[function(i,o,a){var c={};(0,i("./lib/utils/common").assign)(c,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),o.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,o,a){var c=i("./zlib/deflate"),d=i("./utils/common"),h=i("./utils/strings"),g=i("./zlib/messages"),b=i("./zlib/zstream"),_=Object.prototype.toString,$=0,et=-1,_e=0,st=8;function nt(j){if(!(this instanceof nt))return new nt(j);this.options=d.assign({level:et,method:st,chunkSize:16384,windowBits:15,memLevel:8,strategy:_e,to:""},j||{});var tt=this.options;tt.raw&&0<tt.windowBits?tt.windowBits=-tt.windowBits:tt.gzip&&0<tt.windowBits&&tt.windowBits<16&&(tt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var ot=c.deflateInit2(this.strm,tt.level,tt.method,tt.windowBits,tt.memLevel,tt.strategy);if(ot!==$)throw new Error(g[ot]);if(tt.header&&c.deflateSetHeader(this.strm,tt.header),tt.dictionary){var lt;if(lt=typeof tt.dictionary=="string"?h.string2buf(tt.dictionary):_.call(tt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(tt.dictionary):tt.dictionary,(ot=c.deflateSetDictionary(this.strm,lt))!==$)throw new Error(g[ot]);this._dict_set=!0}}function it(j,tt){var ot=new nt(tt);if(ot.push(j,!0),ot.err)throw ot.msg||g[ot.err];return ot.result}nt.prototype.push=function(j,tt){var ot,lt,rt=this.strm,ct=this.options.chunkSize;if(this.ended)return!1;lt=tt===~~tt?tt:tt===!0?4:0,typeof j=="string"?rt.input=h.string2buf(j):_.call(j)==="[object ArrayBuffer]"?rt.input=new Uint8Array(j):rt.input=j,rt.next_in=0,rt.avail_in=rt.input.length;do{if(rt.avail_out===0&&(rt.output=new d.Buf8(ct),rt.next_out=0,rt.avail_out=ct),(ot=c.deflate(rt,lt))!==1&&ot!==$)return this.onEnd(ot),!(this.ended=!0);rt.avail_out!==0&&(rt.avail_in!==0||lt!==4&&lt!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf(rt.output,rt.next_out))):this.onData(d.shrinkBuf(rt.output,rt.next_out)))}while((0<rt.avail_in||rt.avail_out===0)&&ot!==1);return lt===4?(ot=c.deflateEnd(this.strm),this.onEnd(ot),this.ended=!0,ot===$):lt!==2||(this.onEnd($),!(rt.avail_out=0))},nt.prototype.onData=function(j){this.chunks.push(j)},nt.prototype.onEnd=function(j){j===$&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},a.Deflate=nt,a.deflate=it,a.deflateRaw=function(j,tt){return(tt=tt||{}).raw=!0,it(j,tt)},a.gzip=function(j,tt){return(tt=tt||{}).gzip=!0,it(j,tt)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,o,a){var c=i("./zlib/inflate"),d=i("./utils/common"),h=i("./utils/strings"),g=i("./zlib/constants"),b=i("./zlib/messages"),_=i("./zlib/zstream"),$=i("./zlib/gzheader"),et=Object.prototype.toString;function _e(nt){if(!(this instanceof _e))return new _e(nt);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},nt||{});var it=this.options;it.raw&&0<=it.windowBits&&it.windowBits<16&&(it.windowBits=-it.windowBits,it.windowBits===0&&(it.windowBits=-15)),!(0<=it.windowBits&&it.windowBits<16)||nt&&nt.windowBits||(it.windowBits+=32),15<it.windowBits&&it.windowBits<48&&!(15&it.windowBits)&&(it.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var j=c.inflateInit2(this.strm,it.windowBits);if(j!==g.Z_OK)throw new Error(b[j]);this.header=new $,c.inflateGetHeader(this.strm,this.header)}function st(nt,it){var j=new _e(it);if(j.push(nt,!0),j.err)throw j.msg||b[j.err];return j.result}_e.prototype.push=function(nt,it){var j,tt,ot,lt,rt,ct,at=this.strm,ut=this.options.chunkSize,ft=this.options.dictionary,Ct=!1;if(this.ended)return!1;tt=it===~~it?it:it===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof nt=="string"?at.input=h.binstring2buf(nt):et.call(nt)==="[object ArrayBuffer]"?at.input=new Uint8Array(nt):at.input=nt,at.next_in=0,at.avail_in=at.input.length;do{if(at.avail_out===0&&(at.output=new d.Buf8(ut),at.next_out=0,at.avail_out=ut),(j=c.inflate(at,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&ft&&(ct=typeof ft=="string"?h.string2buf(ft):et.call(ft)==="[object ArrayBuffer]"?new Uint8Array(ft):ft,j=c.inflateSetDictionary(this.strm,ct)),j===g.Z_BUF_ERROR&&Ct===!0&&(j=g.Z_OK,Ct=!1),j!==g.Z_STREAM_END&&j!==g.Z_OK)return this.onEnd(j),!(this.ended=!0);at.next_out&&(at.avail_out!==0&&j!==g.Z_STREAM_END&&(at.avail_in!==0||tt!==g.Z_FINISH&&tt!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(ot=h.utf8border(at.output,at.next_out),lt=at.next_out-ot,rt=h.buf2string(at.output,ot),at.next_out=lt,at.avail_out=ut-lt,lt&&d.arraySet(at.output,at.output,ot,lt,0),this.onData(rt)):this.onData(d.shrinkBuf(at.output,at.next_out)))),at.avail_in===0&&at.avail_out===0&&(Ct=!0)}while((0<at.avail_in||at.avail_out===0)&&j!==g.Z_STREAM_END);return j===g.Z_STREAM_END&&(tt=g.Z_FINISH),tt===g.Z_FINISH?(j=c.inflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===g.Z_OK):tt!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(at.avail_out=0))},_e.prototype.onData=function(nt){this.chunks.push(nt)},_e.prototype.onEnd=function(nt){nt===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=nt,this.msg=this.strm.msg},a.Inflate=_e,a.inflate=st,a.inflateRaw=function(nt,it){return(it=it||{}).raw=!0,st(nt,it)},a.ungzip=st},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,o,a){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(g){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var _=b.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var $ in _)_.hasOwnProperty($)&&(g[$]=_[$])}}return g},a.shrinkBuf=function(g,b){return g.length===b?g:g.subarray?g.subarray(0,b):(g.length=b,g)};var d={arraySet:function(g,b,_,$,et){if(b.subarray&&g.subarray)g.set(b.subarray(_,_+$),et);else for(var _e=0;_e<$;_e++)g[et+_e]=b[_+_e]},flattenChunks:function(g){var b,_,$,et,_e,st;for(b=$=0,_=g.length;b<_;b++)$+=g[b].length;for(st=new Uint8Array($),b=et=0,_=g.length;b<_;b++)_e=g[b],st.set(_e,et),et+=_e.length;return st}},h={arraySet:function(g,b,_,$,et){for(var _e=0;_e<$;_e++)g[et+_e]=b[_+_e]},flattenChunks:function(g){return[].concat.apply([],g)}};a.setTyped=function(g){g?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,d)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,h))},a.setTyped(c)},{}],42:[function(i,o,a){var c=i("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var g=new c.Buf8(256),b=0;b<256;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;function _($,et){if(et<65537&&($.subarray&&h||!$.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf($,et));for(var _e="",st=0;st<et;st++)_e+=String.fromCharCode($[st]);return _e}g[254]=g[254]=1,a.string2buf=function($){var et,_e,st,nt,it,j=$.length,tt=0;for(nt=0;nt<j;nt++)(64512&(_e=$.charCodeAt(nt)))==55296&&nt+1<j&&(64512&(st=$.charCodeAt(nt+1)))==56320&&(_e=65536+(_e-55296<<10)+(st-56320),nt++),tt+=_e<128?1:_e<2048?2:_e<65536?3:4;for(et=new c.Buf8(tt),nt=it=0;it<tt;nt++)(64512&(_e=$.charCodeAt(nt)))==55296&&nt+1<j&&(64512&(st=$.charCodeAt(nt+1)))==56320&&(_e=65536+(_e-55296<<10)+(st-56320),nt++),_e<128?et[it++]=_e:(_e<2048?et[it++]=192|_e>>>6:(_e<65536?et[it++]=224|_e>>>12:(et[it++]=240|_e>>>18,et[it++]=128|_e>>>12&63),et[it++]=128|_e>>>6&63),et[it++]=128|63&_e);return et},a.buf2binstring=function($){return _($,$.length)},a.binstring2buf=function($){for(var et=new c.Buf8($.length),_e=0,st=et.length;_e<st;_e++)et[_e]=$.charCodeAt(_e);return et},a.buf2string=function($,et){var _e,st,nt,it,j=et||$.length,tt=new Array(2*j);for(_e=st=0;_e<j;)if((nt=$[_e++])<128)tt[st++]=nt;else if(4<(it=g[nt]))tt[st++]=65533,_e+=it-1;else{for(nt&=it===2?31:it===3?15:7;1<it&&_e<j;)nt=nt<<6|63&$[_e++],it--;1<it?tt[st++]=65533:nt<65536?tt[st++]=nt:(nt-=65536,tt[st++]=55296|nt>>10&1023,tt[st++]=56320|1023&nt)}return _(tt,st)},a.utf8border=function($,et){var _e;for((et=et||$.length)>$.length&&(et=$.length),_e=et-1;0<=_e&&(192&$[_e])==128;)_e--;return _e<0||_e===0?et:_e+g[$[_e]]>et?_e:et}},{"./common":41}],43:[function(i,o,a){o.exports=function(c,d,h,g){for(var b=65535&c|0,_=c>>>16&65535|0,$=0;h!==0;){for(h-=$=2e3<h?2e3:h;_=_+(b=b+d[g++]|0)|0,--$;);b%=65521,_%=65521}return b|_<<16|0}},{}],44:[function(i,o,a){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,o,a){var c=function(){for(var d,h=[],g=0;g<256;g++){d=g;for(var b=0;b<8;b++)d=1&d?3988292384^d>>>1:d>>>1;h[g]=d}return h}();o.exports=function(d,h,g,b){var _=c,$=b+g;d^=-1;for(var et=b;et<$;et++)d=d>>>8^_[255&(d^h[et])];return-1^d}},{}],46:[function(i,o,a){var c,d=i("../utils/common"),h=i("./trees"),g=i("./adler32"),b=i("./crc32"),_=i("./messages"),$=0,et=4,_e=0,st=-2,nt=-1,it=4,j=2,tt=8,ot=9,lt=286,rt=30,ct=19,at=2*lt+1,ut=15,ft=3,Ct=258,xt=Ct+ft+1,pt=42,_t=113,mt=1,Pt=2,Ut=3,Tt=4;function Ot(ht,Wt){return ht.msg=_[Wt],Wt}function At(ht){return(ht<<1)-(4<ht?9:0)}function Mt(ht){for(var Wt=ht.length;0<=--Wt;)ht[Wt]=0}function Rt(ht){var Wt=ht.state,kt=Wt.pending;kt>ht.avail_out&&(kt=ht.avail_out),kt!==0&&(d.arraySet(ht.output,Wt.pending_buf,Wt.pending_out,kt,ht.next_out),ht.next_out+=kt,Wt.pending_out+=kt,ht.total_out+=kt,ht.avail_out-=kt,Wt.pending-=kt,Wt.pending===0&&(Wt.pending_out=0))}function Et(ht,Wt){h._tr_flush_block(ht,0<=ht.block_start?ht.block_start:-1,ht.strstart-ht.block_start,Wt),ht.block_start=ht.strstart,Rt(ht.strm)}function yt(ht,Wt){ht.pending_buf[ht.pending++]=Wt}function vt(ht,Wt){ht.pending_buf[ht.pending++]=Wt>>>8&255,ht.pending_buf[ht.pending++]=255&Wt}function St(ht,Wt){var kt,wt,dt=ht.max_chain_length,bt=ht.strstart,Dt=ht.prev_length,Bt=ht.nice_match,It=ht.strstart>ht.w_size-xt?ht.strstart-(ht.w_size-xt):0,Kt=ht.window,Zt=ht.w_mask,Vt=ht.prev,sn=ht.strstart+Ct,un=Kt[bt+Dt-1],yn=Kt[bt+Dt];ht.prev_length>=ht.good_match&&(dt>>=2),Bt>ht.lookahead&&(Bt=ht.lookahead);do if(Kt[(kt=Wt)+Dt]===yn&&Kt[kt+Dt-1]===un&&Kt[kt]===Kt[bt]&&Kt[++kt]===Kt[bt+1]){bt+=2,kt++;do;while(Kt[++bt]===Kt[++kt]&&Kt[++bt]===Kt[++kt]&&Kt[++bt]===Kt[++kt]&&Kt[++bt]===Kt[++kt]&&Kt[++bt]===Kt[++kt]&&Kt[++bt]===Kt[++kt]&&Kt[++bt]===Kt[++kt]&&Kt[++bt]===Kt[++kt]&&bt<sn);if(wt=Ct-(sn-bt),bt=sn-Ct,Dt<wt){if(ht.match_start=Wt,Bt<=(Dt=wt))break;un=Kt[bt+Dt-1],yn=Kt[bt+Dt]}}while((Wt=Vt[Wt&Zt])>It&&--dt!=0);return Dt<=ht.lookahead?Dt:ht.lookahead}function jt(ht){var Wt,kt,wt,dt,bt,Dt,Bt,It,Kt,Zt,Vt=ht.w_size;do{if(dt=ht.window_size-ht.lookahead-ht.strstart,ht.strstart>=Vt+(Vt-xt)){for(d.arraySet(ht.window,ht.window,Vt,Vt,0),ht.match_start-=Vt,ht.strstart-=Vt,ht.block_start-=Vt,Wt=kt=ht.hash_size;wt=ht.head[--Wt],ht.head[Wt]=Vt<=wt?wt-Vt:0,--kt;);for(Wt=kt=Vt;wt=ht.prev[--Wt],ht.prev[Wt]=Vt<=wt?wt-Vt:0,--kt;);dt+=Vt}if(ht.strm.avail_in===0)break;if(Dt=ht.strm,Bt=ht.window,It=ht.strstart+ht.lookahead,Kt=dt,Zt=void 0,Zt=Dt.avail_in,Kt<Zt&&(Zt=Kt),kt=Zt===0?0:(Dt.avail_in-=Zt,d.arraySet(Bt,Dt.input,Dt.next_in,Zt,It),Dt.state.wrap===1?Dt.adler=g(Dt.adler,Bt,Zt,It):Dt.state.wrap===2&&(Dt.adler=b(Dt.adler,Bt,Zt,It)),Dt.next_in+=Zt,Dt.total_in+=Zt,Zt),ht.lookahead+=kt,ht.lookahead+ht.insert>=ft)for(bt=ht.strstart-ht.insert,ht.ins_h=ht.window[bt],ht.ins_h=(ht.ins_h<<ht.hash_shift^ht.window[bt+1])&ht.hash_mask;ht.insert&&(ht.ins_h=(ht.ins_h<<ht.hash_shift^ht.window[bt+ft-1])&ht.hash_mask,ht.prev[bt&ht.w_mask]=ht.head[ht.ins_h],ht.head[ht.ins_h]=bt,bt++,ht.insert--,!(ht.lookahead+ht.insert<ft)););}while(ht.lookahead<xt&&ht.strm.avail_in!==0)}function Ft(ht,Wt){for(var kt,wt;;){if(ht.lookahead<xt){if(jt(ht),ht.lookahead<xt&&Wt===$)return mt;if(ht.lookahead===0)break}if(kt=0,ht.lookahead>=ft&&(ht.ins_h=(ht.ins_h<<ht.hash_shift^ht.window[ht.strstart+ft-1])&ht.hash_mask,kt=ht.prev[ht.strstart&ht.w_mask]=ht.head[ht.ins_h],ht.head[ht.ins_h]=ht.strstart),kt!==0&&ht.strstart-kt<=ht.w_size-xt&&(ht.match_length=St(ht,kt)),ht.match_length>=ft)if(wt=h._tr_tally(ht,ht.strstart-ht.match_start,ht.match_length-ft),ht.lookahead-=ht.match_length,ht.match_length<=ht.max_lazy_match&&ht.lookahead>=ft){for(ht.match_length--;ht.strstart++,ht.ins_h=(ht.ins_h<<ht.hash_shift^ht.window[ht.strstart+ft-1])&ht.hash_mask,kt=ht.prev[ht.strstart&ht.w_mask]=ht.head[ht.ins_h],ht.head[ht.ins_h]=ht.strstart,--ht.match_length!=0;);ht.strstart++}else ht.strstart+=ht.match_length,ht.match_length=0,ht.ins_h=ht.window[ht.strstart],ht.ins_h=(ht.ins_h<<ht.hash_shift^ht.window[ht.strstart+1])&ht.hash_mask;else wt=h._tr_tally(ht,0,ht.window[ht.strstart]),ht.lookahead--,ht.strstart++;if(wt&&(Et(ht,!1),ht.strm.avail_out===0))return mt}return ht.insert=ht.strstart<ft-1?ht.strstart:ft-1,Wt===et?(Et(ht,!0),ht.strm.avail_out===0?Ut:Tt):ht.last_lit&&(Et(ht,!1),ht.strm.avail_out===0)?mt:Pt}function Lt(ht,Wt){for(var kt,wt,dt;;){if(ht.lookahead<xt){if(jt(ht),ht.lookahead<xt&&Wt===$)return mt;if(ht.lookahead===0)break}if(kt=0,ht.lookahead>=ft&&(ht.ins_h=(ht.ins_h<<ht.hash_shift^ht.window[ht.strstart+ft-1])&ht.hash_mask,kt=ht.prev[ht.strstart&ht.w_mask]=ht.head[ht.ins_h],ht.head[ht.ins_h]=ht.strstart),ht.prev_length=ht.match_length,ht.prev_match=ht.match_start,ht.match_length=ft-1,kt!==0&&ht.prev_length<ht.max_lazy_match&&ht.strstart-kt<=ht.w_size-xt&&(ht.match_length=St(ht,kt),ht.match_length<=5&&(ht.strategy===1||ht.match_length===ft&&4096<ht.strstart-ht.match_start)&&(ht.match_length=ft-1)),ht.prev_length>=ft&&ht.match_length<=ht.prev_length){for(dt=ht.strstart+ht.lookahead-ft,wt=h._tr_tally(ht,ht.strstart-1-ht.prev_match,ht.prev_length-ft),ht.lookahead-=ht.prev_length-1,ht.prev_length-=2;++ht.strstart<=dt&&(ht.ins_h=(ht.ins_h<<ht.hash_shift^ht.window[ht.strstart+ft-1])&ht.hash_mask,kt=ht.prev[ht.strstart&ht.w_mask]=ht.head[ht.ins_h],ht.head[ht.ins_h]=ht.strstart),--ht.prev_length!=0;);if(ht.match_available=0,ht.match_length=ft-1,ht.strstart++,wt&&(Et(ht,!1),ht.strm.avail_out===0))return mt}else if(ht.match_available){if((wt=h._tr_tally(ht,0,ht.window[ht.strstart-1]))&&Et(ht,!1),ht.strstart++,ht.lookahead--,ht.strm.avail_out===0)return mt}else ht.match_available=1,ht.strstart++,ht.lookahead--}return ht.match_available&&(wt=h._tr_tally(ht,0,ht.window[ht.strstart-1]),ht.match_available=0),ht.insert=ht.strstart<ft-1?ht.strstart:ft-1,Wt===et?(Et(ht,!0),ht.strm.avail_out===0?Ut:Tt):ht.last_lit&&(Et(ht,!1),ht.strm.avail_out===0)?mt:Pt}function $t(ht,Wt,kt,wt,dt){this.good_length=ht,this.max_lazy=Wt,this.nice_length=kt,this.max_chain=wt,this.func=dt}function Gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*at),this.dyn_dtree=new d.Buf16(2*(2*rt+1)),this.bl_tree=new d.Buf16(2*(2*ct+1)),Mt(this.dyn_ltree),Mt(this.dyn_dtree),Mt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(ut+1),this.heap=new d.Buf16(2*lt+1),Mt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*lt+1),Mt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Yt(ht){var Wt;return ht&&ht.state?(ht.total_in=ht.total_out=0,ht.data_type=j,(Wt=ht.state).pending=0,Wt.pending_out=0,Wt.wrap<0&&(Wt.wrap=-Wt.wrap),Wt.status=Wt.wrap?pt:_t,ht.adler=Wt.wrap===2?0:1,Wt.last_flush=$,h._tr_init(Wt),_e):Ot(ht,st)}function Jt(ht){var Wt=Yt(ht);return Wt===_e&&function(kt){kt.window_size=2*kt.w_size,Mt(kt.head),kt.max_lazy_match=c[kt.level].max_lazy,kt.good_match=c[kt.level].good_length,kt.nice_match=c[kt.level].nice_length,kt.max_chain_length=c[kt.level].max_chain,kt.strstart=0,kt.block_start=0,kt.lookahead=0,kt.insert=0,kt.match_length=kt.prev_length=ft-1,kt.match_available=0,kt.ins_h=0}(ht.state),Wt}function an(ht,Wt,kt,wt,dt,bt){if(!ht)return st;var Dt=1;if(Wt===nt&&(Wt=6),wt<0?(Dt=0,wt=-wt):15<wt&&(Dt=2,wt-=16),dt<1||ot<dt||kt!==tt||wt<8||15<wt||Wt<0||9<Wt||bt<0||it<bt)return Ot(ht,st);wt===8&&(wt=9);var Bt=new Gt;return(ht.state=Bt).strm=ht,Bt.wrap=Dt,Bt.gzhead=null,Bt.w_bits=wt,Bt.w_size=1<<Bt.w_bits,Bt.w_mask=Bt.w_size-1,Bt.hash_bits=dt+7,Bt.hash_size=1<<Bt.hash_bits,Bt.hash_mask=Bt.hash_size-1,Bt.hash_shift=~~((Bt.hash_bits+ft-1)/ft),Bt.window=new d.Buf8(2*Bt.w_size),Bt.head=new d.Buf16(Bt.hash_size),Bt.prev=new d.Buf16(Bt.w_size),Bt.lit_bufsize=1<<dt+6,Bt.pending_buf_size=4*Bt.lit_bufsize,Bt.pending_buf=new d.Buf8(Bt.pending_buf_size),Bt.d_buf=1*Bt.lit_bufsize,Bt.l_buf=3*Bt.lit_bufsize,Bt.level=Wt,Bt.strategy=bt,Bt.method=kt,Jt(ht)}c=[new $t(0,0,0,0,function(ht,Wt){var kt=65535;for(kt>ht.pending_buf_size-5&&(kt=ht.pending_buf_size-5);;){if(ht.lookahead<=1){if(jt(ht),ht.lookahead===0&&Wt===$)return mt;if(ht.lookahead===0)break}ht.strstart+=ht.lookahead,ht.lookahead=0;var wt=ht.block_start+kt;if((ht.strstart===0||ht.strstart>=wt)&&(ht.lookahead=ht.strstart-wt,ht.strstart=wt,Et(ht,!1),ht.strm.avail_out===0)||ht.strstart-ht.block_start>=ht.w_size-xt&&(Et(ht,!1),ht.strm.avail_out===0))return mt}return ht.insert=0,Wt===et?(Et(ht,!0),ht.strm.avail_out===0?Ut:Tt):(ht.strstart>ht.block_start&&(Et(ht,!1),ht.strm.avail_out),mt)}),new $t(4,4,8,4,Ft),new $t(4,5,16,8,Ft),new $t(4,6,32,32,Ft),new $t(4,4,16,16,Lt),new $t(8,16,32,32,Lt),new $t(8,16,128,128,Lt),new $t(8,32,128,256,Lt),new $t(32,128,258,1024,Lt),new $t(32,258,258,4096,Lt)],a.deflateInit=function(ht,Wt){return an(ht,Wt,tt,15,8,0)},a.deflateInit2=an,a.deflateReset=Jt,a.deflateResetKeep=Yt,a.deflateSetHeader=function(ht,Wt){return ht&&ht.state?ht.state.wrap!==2?st:(ht.state.gzhead=Wt,_e):st},a.deflate=function(ht,Wt){var kt,wt,dt,bt;if(!ht||!ht.state||5<Wt||Wt<0)return ht?Ot(ht,st):st;if(wt=ht.state,!ht.output||!ht.input&&ht.avail_in!==0||wt.status===666&&Wt!==et)return Ot(ht,ht.avail_out===0?-5:st);if(wt.strm=ht,kt=wt.last_flush,wt.last_flush=Wt,wt.status===pt)if(wt.wrap===2)ht.adler=0,yt(wt,31),yt(wt,139),yt(wt,8),wt.gzhead?(yt(wt,(wt.gzhead.text?1:0)+(wt.gzhead.hcrc?2:0)+(wt.gzhead.extra?4:0)+(wt.gzhead.name?8:0)+(wt.gzhead.comment?16:0)),yt(wt,255&wt.gzhead.time),yt(wt,wt.gzhead.time>>8&255),yt(wt,wt.gzhead.time>>16&255),yt(wt,wt.gzhead.time>>24&255),yt(wt,wt.level===9?2:2<=wt.strategy||wt.level<2?4:0),yt(wt,255&wt.gzhead.os),wt.gzhead.extra&&wt.gzhead.extra.length&&(yt(wt,255&wt.gzhead.extra.length),yt(wt,wt.gzhead.extra.length>>8&255)),wt.gzhead.hcrc&&(ht.adler=b(ht.adler,wt.pending_buf,wt.pending,0)),wt.gzindex=0,wt.status=69):(yt(wt,0),yt(wt,0),yt(wt,0),yt(wt,0),yt(wt,0),yt(wt,wt.level===9?2:2<=wt.strategy||wt.level<2?4:0),yt(wt,3),wt.status=_t);else{var Dt=tt+(wt.w_bits-8<<4)<<8;Dt|=(2<=wt.strategy||wt.level<2?0:wt.level<6?1:wt.level===6?2:3)<<6,wt.strstart!==0&&(Dt|=32),Dt+=31-Dt%31,wt.status=_t,vt(wt,Dt),wt.strstart!==0&&(vt(wt,ht.adler>>>16),vt(wt,65535&ht.adler)),ht.adler=1}if(wt.status===69)if(wt.gzhead.extra){for(dt=wt.pending;wt.gzindex<(65535&wt.gzhead.extra.length)&&(wt.pending!==wt.pending_buf_size||(wt.gzhead.hcrc&&wt.pending>dt&&(ht.adler=b(ht.adler,wt.pending_buf,wt.pending-dt,dt)),Rt(ht),dt=wt.pending,wt.pending!==wt.pending_buf_size));)yt(wt,255&wt.gzhead.extra[wt.gzindex]),wt.gzindex++;wt.gzhead.hcrc&&wt.pending>dt&&(ht.adler=b(ht.adler,wt.pending_buf,wt.pending-dt,dt)),wt.gzindex===wt.gzhead.extra.length&&(wt.gzindex=0,wt.status=73)}else wt.status=73;if(wt.status===73)if(wt.gzhead.name){dt=wt.pending;do{if(wt.pending===wt.pending_buf_size&&(wt.gzhead.hcrc&&wt.pending>dt&&(ht.adler=b(ht.adler,wt.pending_buf,wt.pending-dt,dt)),Rt(ht),dt=wt.pending,wt.pending===wt.pending_buf_size)){bt=1;break}bt=wt.gzindex<wt.gzhead.name.length?255&wt.gzhead.name.charCodeAt(wt.gzindex++):0,yt(wt,bt)}while(bt!==0);wt.gzhead.hcrc&&wt.pending>dt&&(ht.adler=b(ht.adler,wt.pending_buf,wt.pending-dt,dt)),bt===0&&(wt.gzindex=0,wt.status=91)}else wt.status=91;if(wt.status===91)if(wt.gzhead.comment){dt=wt.pending;do{if(wt.pending===wt.pending_buf_size&&(wt.gzhead.hcrc&&wt.pending>dt&&(ht.adler=b(ht.adler,wt.pending_buf,wt.pending-dt,dt)),Rt(ht),dt=wt.pending,wt.pending===wt.pending_buf_size)){bt=1;break}bt=wt.gzindex<wt.gzhead.comment.length?255&wt.gzhead.comment.charCodeAt(wt.gzindex++):0,yt(wt,bt)}while(bt!==0);wt.gzhead.hcrc&&wt.pending>dt&&(ht.adler=b(ht.adler,wt.pending_buf,wt.pending-dt,dt)),bt===0&&(wt.status=103)}else wt.status=103;if(wt.status===103&&(wt.gzhead.hcrc?(wt.pending+2>wt.pending_buf_size&&Rt(ht),wt.pending+2<=wt.pending_buf_size&&(yt(wt,255&ht.adler),yt(wt,ht.adler>>8&255),ht.adler=0,wt.status=_t)):wt.status=_t),wt.pending!==0){if(Rt(ht),ht.avail_out===0)return wt.last_flush=-1,_e}else if(ht.avail_in===0&&At(Wt)<=At(kt)&&Wt!==et)return Ot(ht,-5);if(wt.status===666&&ht.avail_in!==0)return Ot(ht,-5);if(ht.avail_in!==0||wt.lookahead!==0||Wt!==$&&wt.status!==666){var Bt=wt.strategy===2?function(It,Kt){for(var Zt;;){if(It.lookahead===0&&(jt(It),It.lookahead===0)){if(Kt===$)return mt;break}if(It.match_length=0,Zt=h._tr_tally(It,0,It.window[It.strstart]),It.lookahead--,It.strstart++,Zt&&(Et(It,!1),It.strm.avail_out===0))return mt}return It.insert=0,Kt===et?(Et(It,!0),It.strm.avail_out===0?Ut:Tt):It.last_lit&&(Et(It,!1),It.strm.avail_out===0)?mt:Pt}(wt,Wt):wt.strategy===3?function(It,Kt){for(var Zt,Vt,sn,un,yn=It.window;;){if(It.lookahead<=Ct){if(jt(It),It.lookahead<=Ct&&Kt===$)return mt;if(It.lookahead===0)break}if(It.match_length=0,It.lookahead>=ft&&0<It.strstart&&(Vt=yn[sn=It.strstart-1])===yn[++sn]&&Vt===yn[++sn]&&Vt===yn[++sn]){un=It.strstart+Ct;do;while(Vt===yn[++sn]&&Vt===yn[++sn]&&Vt===yn[++sn]&&Vt===yn[++sn]&&Vt===yn[++sn]&&Vt===yn[++sn]&&Vt===yn[++sn]&&Vt===yn[++sn]&&sn<un);It.match_length=Ct-(un-sn),It.match_length>It.lookahead&&(It.match_length=It.lookahead)}if(It.match_length>=ft?(Zt=h._tr_tally(It,1,It.match_length-ft),It.lookahead-=It.match_length,It.strstart+=It.match_length,It.match_length=0):(Zt=h._tr_tally(It,0,It.window[It.strstart]),It.lookahead--,It.strstart++),Zt&&(Et(It,!1),It.strm.avail_out===0))return mt}return It.insert=0,Kt===et?(Et(It,!0),It.strm.avail_out===0?Ut:Tt):It.last_lit&&(Et(It,!1),It.strm.avail_out===0)?mt:Pt}(wt,Wt):c[wt.level].func(wt,Wt);if(Bt!==Ut&&Bt!==Tt||(wt.status=666),Bt===mt||Bt===Ut)return ht.avail_out===0&&(wt.last_flush=-1),_e;if(Bt===Pt&&(Wt===1?h._tr_align(wt):Wt!==5&&(h._tr_stored_block(wt,0,0,!1),Wt===3&&(Mt(wt.head),wt.lookahead===0&&(wt.strstart=0,wt.block_start=0,wt.insert=0))),Rt(ht),ht.avail_out===0))return wt.last_flush=-1,_e}return Wt!==et?_e:wt.wrap<=0?1:(wt.wrap===2?(yt(wt,255&ht.adler),yt(wt,ht.adler>>8&255),yt(wt,ht.adler>>16&255),yt(wt,ht.adler>>24&255),yt(wt,255&ht.total_in),yt(wt,ht.total_in>>8&255),yt(wt,ht.total_in>>16&255),yt(wt,ht.total_in>>24&255)):(vt(wt,ht.adler>>>16),vt(wt,65535&ht.adler)),Rt(ht),0<wt.wrap&&(wt.wrap=-wt.wrap),wt.pending!==0?_e:1)},a.deflateEnd=function(ht){var Wt;return ht&&ht.state?(Wt=ht.state.status)!==pt&&Wt!==69&&Wt!==73&&Wt!==91&&Wt!==103&&Wt!==_t&&Wt!==666?Ot(ht,st):(ht.state=null,Wt===_t?Ot(ht,-3):_e):st},a.deflateSetDictionary=function(ht,Wt){var kt,wt,dt,bt,Dt,Bt,It,Kt,Zt=Wt.length;if(!ht||!ht.state||(bt=(kt=ht.state).wrap)===2||bt===1&&kt.status!==pt||kt.lookahead)return st;for(bt===1&&(ht.adler=g(ht.adler,Wt,Zt,0)),kt.wrap=0,Zt>=kt.w_size&&(bt===0&&(Mt(kt.head),kt.strstart=0,kt.block_start=0,kt.insert=0),Kt=new d.Buf8(kt.w_size),d.arraySet(Kt,Wt,Zt-kt.w_size,kt.w_size,0),Wt=Kt,Zt=kt.w_size),Dt=ht.avail_in,Bt=ht.next_in,It=ht.input,ht.avail_in=Zt,ht.next_in=0,ht.input=Wt,jt(kt);kt.lookahead>=ft;){for(wt=kt.strstart,dt=kt.lookahead-(ft-1);kt.ins_h=(kt.ins_h<<kt.hash_shift^kt.window[wt+ft-1])&kt.hash_mask,kt.prev[wt&kt.w_mask]=kt.head[kt.ins_h],kt.head[kt.ins_h]=wt,wt++,--dt;);kt.strstart=wt,kt.lookahead=ft-1,jt(kt)}return kt.strstart+=kt.lookahead,kt.block_start=kt.strstart,kt.insert=kt.lookahead,kt.lookahead=0,kt.match_length=kt.prev_length=ft-1,kt.match_available=0,ht.next_in=Bt,ht.input=It,ht.avail_in=Dt,kt.wrap=bt,_e},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,o,a){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,o,a){o.exports=function(c,d){var h,g,b,_,$,et,_e,st,nt,it,j,tt,ot,lt,rt,ct,at,ut,ft,Ct,xt,pt,_t,mt,Pt;h=c.state,g=c.next_in,mt=c.input,b=g+(c.avail_in-5),_=c.next_out,Pt=c.output,$=_-(d-c.avail_out),et=_+(c.avail_out-257),_e=h.dmax,st=h.wsize,nt=h.whave,it=h.wnext,j=h.window,tt=h.hold,ot=h.bits,lt=h.lencode,rt=h.distcode,ct=(1<<h.lenbits)-1,at=(1<<h.distbits)-1;e:do{ot<15&&(tt+=mt[g++]<<ot,ot+=8,tt+=mt[g++]<<ot,ot+=8),ut=lt[tt&ct];t:for(;;){if(tt>>>=ft=ut>>>24,ot-=ft,(ft=ut>>>16&255)===0)Pt[_++]=65535&ut;else{if(!(16&ft)){if(!(64&ft)){ut=lt[(65535&ut)+(tt&(1<<ft)-1)];continue t}if(32&ft){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}Ct=65535&ut,(ft&=15)&&(ot<ft&&(tt+=mt[g++]<<ot,ot+=8),Ct+=tt&(1<<ft)-1,tt>>>=ft,ot-=ft),ot<15&&(tt+=mt[g++]<<ot,ot+=8,tt+=mt[g++]<<ot,ot+=8),ut=rt[tt&at];n:for(;;){if(tt>>>=ft=ut>>>24,ot-=ft,!(16&(ft=ut>>>16&255))){if(!(64&ft)){ut=rt[(65535&ut)+(tt&(1<<ft)-1)];continue n}c.msg="invalid distance code",h.mode=30;break e}if(xt=65535&ut,ot<(ft&=15)&&(tt+=mt[g++]<<ot,(ot+=8)<ft&&(tt+=mt[g++]<<ot,ot+=8)),_e<(xt+=tt&(1<<ft)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(tt>>>=ft,ot-=ft,(ft=_-$)<xt){if(nt<(ft=xt-ft)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(_t=j,(pt=0)===it){if(pt+=st-ft,ft<Ct){for(Ct-=ft;Pt[_++]=j[pt++],--ft;);pt=_-xt,_t=Pt}}else if(it<ft){if(pt+=st+it-ft,(ft-=it)<Ct){for(Ct-=ft;Pt[_++]=j[pt++],--ft;);if(pt=0,it<Ct){for(Ct-=ft=it;Pt[_++]=j[pt++],--ft;);pt=_-xt,_t=Pt}}}else if(pt+=it-ft,ft<Ct){for(Ct-=ft;Pt[_++]=j[pt++],--ft;);pt=_-xt,_t=Pt}for(;2<Ct;)Pt[_++]=_t[pt++],Pt[_++]=_t[pt++],Pt[_++]=_t[pt++],Ct-=3;Ct&&(Pt[_++]=_t[pt++],1<Ct&&(Pt[_++]=_t[pt++]))}else{for(pt=_-xt;Pt[_++]=Pt[pt++],Pt[_++]=Pt[pt++],Pt[_++]=Pt[pt++],2<(Ct-=3););Ct&&(Pt[_++]=Pt[pt++],1<Ct&&(Pt[_++]=Pt[pt++]))}break}}break}}while(g<b&&_<et);g-=Ct=ot>>3,tt&=(1<<(ot-=Ct<<3))-1,c.next_in=g,c.next_out=_,c.avail_in=g<b?b-g+5:5-(g-b),c.avail_out=_<et?et-_+257:257-(_-et),h.hold=tt,h.bits=ot}},{}],49:[function(i,o,a){var c=i("../utils/common"),d=i("./adler32"),h=i("./crc32"),g=i("./inffast"),b=i("./inftrees"),_=1,$=2,et=0,_e=-2,st=1,nt=852,it=592;function j(pt){return(pt>>>24&255)+(pt>>>8&65280)+((65280&pt)<<8)+((255&pt)<<24)}function tt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ot(pt){var _t;return pt&&pt.state?(_t=pt.state,pt.total_in=pt.total_out=_t.total=0,pt.msg="",_t.wrap&&(pt.adler=1&_t.wrap),_t.mode=st,_t.last=0,_t.havedict=0,_t.dmax=32768,_t.head=null,_t.hold=0,_t.bits=0,_t.lencode=_t.lendyn=new c.Buf32(nt),_t.distcode=_t.distdyn=new c.Buf32(it),_t.sane=1,_t.back=-1,et):_e}function lt(pt){var _t;return pt&&pt.state?((_t=pt.state).wsize=0,_t.whave=0,_t.wnext=0,ot(pt)):_e}function rt(pt,_t){var mt,Pt;return pt&&pt.state?(Pt=pt.state,_t<0?(mt=0,_t=-_t):(mt=1+(_t>>4),_t<48&&(_t&=15)),_t&&(_t<8||15<_t)?_e:(Pt.window!==null&&Pt.wbits!==_t&&(Pt.window=null),Pt.wrap=mt,Pt.wbits=_t,lt(pt))):_e}function ct(pt,_t){var mt,Pt;return pt?(Pt=new tt,(pt.state=Pt).window=null,(mt=rt(pt,_t))!==et&&(pt.state=null),mt):_e}var at,ut,ft=!0;function Ct(pt){if(ft){var _t;for(at=new c.Buf32(512),ut=new c.Buf32(32),_t=0;_t<144;)pt.lens[_t++]=8;for(;_t<256;)pt.lens[_t++]=9;for(;_t<280;)pt.lens[_t++]=7;for(;_t<288;)pt.lens[_t++]=8;for(b(_,pt.lens,0,288,at,0,pt.work,{bits:9}),_t=0;_t<32;)pt.lens[_t++]=5;b($,pt.lens,0,32,ut,0,pt.work,{bits:5}),ft=!1}pt.lencode=at,pt.lenbits=9,pt.distcode=ut,pt.distbits=5}function xt(pt,_t,mt,Pt){var Ut,Tt=pt.state;return Tt.window===null&&(Tt.wsize=1<<Tt.wbits,Tt.wnext=0,Tt.whave=0,Tt.window=new c.Buf8(Tt.wsize)),Pt>=Tt.wsize?(c.arraySet(Tt.window,_t,mt-Tt.wsize,Tt.wsize,0),Tt.wnext=0,Tt.whave=Tt.wsize):(Pt<(Ut=Tt.wsize-Tt.wnext)&&(Ut=Pt),c.arraySet(Tt.window,_t,mt-Pt,Ut,Tt.wnext),(Pt-=Ut)?(c.arraySet(Tt.window,_t,mt-Pt,Pt,0),Tt.wnext=Pt,Tt.whave=Tt.wsize):(Tt.wnext+=Ut,Tt.wnext===Tt.wsize&&(Tt.wnext=0),Tt.whave<Tt.wsize&&(Tt.whave+=Ut))),0}a.inflateReset=lt,a.inflateReset2=rt,a.inflateResetKeep=ot,a.inflateInit=function(pt){return ct(pt,15)},a.inflateInit2=ct,a.inflate=function(pt,_t){var mt,Pt,Ut,Tt,Ot,At,Mt,Rt,Et,yt,vt,St,jt,Ft,Lt,$t,Gt,Yt,Jt,an,ht,Wt,kt,wt,dt=0,bt=new c.Buf8(4),Dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!pt||!pt.state||!pt.output||!pt.input&&pt.avail_in!==0)return _e;(mt=pt.state).mode===12&&(mt.mode=13),Ot=pt.next_out,Ut=pt.output,Mt=pt.avail_out,Tt=pt.next_in,Pt=pt.input,At=pt.avail_in,Rt=mt.hold,Et=mt.bits,yt=At,vt=Mt,Wt=et;e:for(;;)switch(mt.mode){case st:if(mt.wrap===0){mt.mode=13;break}for(;Et<16;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if(2&mt.wrap&&Rt===35615){bt[mt.check=0]=255&Rt,bt[1]=Rt>>>8&255,mt.check=h(mt.check,bt,2,0),Et=Rt=0,mt.mode=2;break}if(mt.flags=0,mt.head&&(mt.head.done=!1),!(1&mt.wrap)||(((255&Rt)<<8)+(Rt>>8))%31){pt.msg="incorrect header check",mt.mode=30;break}if((15&Rt)!=8){pt.msg="unknown compression method",mt.mode=30;break}if(Et-=4,ht=8+(15&(Rt>>>=4)),mt.wbits===0)mt.wbits=ht;else if(ht>mt.wbits){pt.msg="invalid window size",mt.mode=30;break}mt.dmax=1<<ht,pt.adler=mt.check=1,mt.mode=512&Rt?10:12,Et=Rt=0;break;case 2:for(;Et<16;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if(mt.flags=Rt,(255&mt.flags)!=8){pt.msg="unknown compression method",mt.mode=30;break}if(57344&mt.flags){pt.msg="unknown header flags set",mt.mode=30;break}mt.head&&(mt.head.text=Rt>>8&1),512&mt.flags&&(bt[0]=255&Rt,bt[1]=Rt>>>8&255,mt.check=h(mt.check,bt,2,0)),Et=Rt=0,mt.mode=3;case 3:for(;Et<32;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}mt.head&&(mt.head.time=Rt),512&mt.flags&&(bt[0]=255&Rt,bt[1]=Rt>>>8&255,bt[2]=Rt>>>16&255,bt[3]=Rt>>>24&255,mt.check=h(mt.check,bt,4,0)),Et=Rt=0,mt.mode=4;case 4:for(;Et<16;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}mt.head&&(mt.head.xflags=255&Rt,mt.head.os=Rt>>8),512&mt.flags&&(bt[0]=255&Rt,bt[1]=Rt>>>8&255,mt.check=h(mt.check,bt,2,0)),Et=Rt=0,mt.mode=5;case 5:if(1024&mt.flags){for(;Et<16;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}mt.length=Rt,mt.head&&(mt.head.extra_len=Rt),512&mt.flags&&(bt[0]=255&Rt,bt[1]=Rt>>>8&255,mt.check=h(mt.check,bt,2,0)),Et=Rt=0}else mt.head&&(mt.head.extra=null);mt.mode=6;case 6:if(1024&mt.flags&&(At<(St=mt.length)&&(St=At),St&&(mt.head&&(ht=mt.head.extra_len-mt.length,mt.head.extra||(mt.head.extra=new Array(mt.head.extra_len)),c.arraySet(mt.head.extra,Pt,Tt,St,ht)),512&mt.flags&&(mt.check=h(mt.check,Pt,St,Tt)),At-=St,Tt+=St,mt.length-=St),mt.length))break e;mt.length=0,mt.mode=7;case 7:if(2048&mt.flags){if(At===0)break e;for(St=0;ht=Pt[Tt+St++],mt.head&&ht&&mt.length<65536&&(mt.head.name+=String.fromCharCode(ht)),ht&&St<At;);if(512&mt.flags&&(mt.check=h(mt.check,Pt,St,Tt)),At-=St,Tt+=St,ht)break e}else mt.head&&(mt.head.name=null);mt.length=0,mt.mode=8;case 8:if(4096&mt.flags){if(At===0)break e;for(St=0;ht=Pt[Tt+St++],mt.head&&ht&&mt.length<65536&&(mt.head.comment+=String.fromCharCode(ht)),ht&&St<At;);if(512&mt.flags&&(mt.check=h(mt.check,Pt,St,Tt)),At-=St,Tt+=St,ht)break e}else mt.head&&(mt.head.comment=null);mt.mode=9;case 9:if(512&mt.flags){for(;Et<16;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if(Rt!==(65535&mt.check)){pt.msg="header crc mismatch",mt.mode=30;break}Et=Rt=0}mt.head&&(mt.head.hcrc=mt.flags>>9&1,mt.head.done=!0),pt.adler=mt.check=0,mt.mode=12;break;case 10:for(;Et<32;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}pt.adler=mt.check=j(Rt),Et=Rt=0,mt.mode=11;case 11:if(mt.havedict===0)return pt.next_out=Ot,pt.avail_out=Mt,pt.next_in=Tt,pt.avail_in=At,mt.hold=Rt,mt.bits=Et,2;pt.adler=mt.check=1,mt.mode=12;case 12:if(_t===5||_t===6)break e;case 13:if(mt.last){Rt>>>=7&Et,Et-=7&Et,mt.mode=27;break}for(;Et<3;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}switch(mt.last=1&Rt,Et-=1,3&(Rt>>>=1)){case 0:mt.mode=14;break;case 1:if(Ct(mt),mt.mode=20,_t!==6)break;Rt>>>=2,Et-=2;break e;case 2:mt.mode=17;break;case 3:pt.msg="invalid block type",mt.mode=30}Rt>>>=2,Et-=2;break;case 14:for(Rt>>>=7&Et,Et-=7&Et;Et<32;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if((65535&Rt)!=(Rt>>>16^65535)){pt.msg="invalid stored block lengths",mt.mode=30;break}if(mt.length=65535&Rt,Et=Rt=0,mt.mode=15,_t===6)break e;case 15:mt.mode=16;case 16:if(St=mt.length){if(At<St&&(St=At),Mt<St&&(St=Mt),St===0)break e;c.arraySet(Ut,Pt,Tt,St,Ot),At-=St,Tt+=St,Mt-=St,Ot+=St,mt.length-=St;break}mt.mode=12;break;case 17:for(;Et<14;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if(mt.nlen=257+(31&Rt),Rt>>>=5,Et-=5,mt.ndist=1+(31&Rt),Rt>>>=5,Et-=5,mt.ncode=4+(15&Rt),Rt>>>=4,Et-=4,286<mt.nlen||30<mt.ndist){pt.msg="too many length or distance symbols",mt.mode=30;break}mt.have=0,mt.mode=18;case 18:for(;mt.have<mt.ncode;){for(;Et<3;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}mt.lens[Dt[mt.have++]]=7&Rt,Rt>>>=3,Et-=3}for(;mt.have<19;)mt.lens[Dt[mt.have++]]=0;if(mt.lencode=mt.lendyn,mt.lenbits=7,kt={bits:mt.lenbits},Wt=b(0,mt.lens,0,19,mt.lencode,0,mt.work,kt),mt.lenbits=kt.bits,Wt){pt.msg="invalid code lengths set",mt.mode=30;break}mt.have=0,mt.mode=19;case 19:for(;mt.have<mt.nlen+mt.ndist;){for(;$t=(dt=mt.lencode[Rt&(1<<mt.lenbits)-1])>>>16&255,Gt=65535&dt,!((Lt=dt>>>24)<=Et);){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if(Gt<16)Rt>>>=Lt,Et-=Lt,mt.lens[mt.have++]=Gt;else{if(Gt===16){for(wt=Lt+2;Et<wt;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if(Rt>>>=Lt,Et-=Lt,mt.have===0){pt.msg="invalid bit length repeat",mt.mode=30;break}ht=mt.lens[mt.have-1],St=3+(3&Rt),Rt>>>=2,Et-=2}else if(Gt===17){for(wt=Lt+3;Et<wt;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}Et-=Lt,ht=0,St=3+(7&(Rt>>>=Lt)),Rt>>>=3,Et-=3}else{for(wt=Lt+7;Et<wt;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}Et-=Lt,ht=0,St=11+(127&(Rt>>>=Lt)),Rt>>>=7,Et-=7}if(mt.have+St>mt.nlen+mt.ndist){pt.msg="invalid bit length repeat",mt.mode=30;break}for(;St--;)mt.lens[mt.have++]=ht}}if(mt.mode===30)break;if(mt.lens[256]===0){pt.msg="invalid code -- missing end-of-block",mt.mode=30;break}if(mt.lenbits=9,kt={bits:mt.lenbits},Wt=b(_,mt.lens,0,mt.nlen,mt.lencode,0,mt.work,kt),mt.lenbits=kt.bits,Wt){pt.msg="invalid literal/lengths set",mt.mode=30;break}if(mt.distbits=6,mt.distcode=mt.distdyn,kt={bits:mt.distbits},Wt=b($,mt.lens,mt.nlen,mt.ndist,mt.distcode,0,mt.work,kt),mt.distbits=kt.bits,Wt){pt.msg="invalid distances set",mt.mode=30;break}if(mt.mode=20,_t===6)break e;case 20:mt.mode=21;case 21:if(6<=At&&258<=Mt){pt.next_out=Ot,pt.avail_out=Mt,pt.next_in=Tt,pt.avail_in=At,mt.hold=Rt,mt.bits=Et,g(pt,vt),Ot=pt.next_out,Ut=pt.output,Mt=pt.avail_out,Tt=pt.next_in,Pt=pt.input,At=pt.avail_in,Rt=mt.hold,Et=mt.bits,mt.mode===12&&(mt.back=-1);break}for(mt.back=0;$t=(dt=mt.lencode[Rt&(1<<mt.lenbits)-1])>>>16&255,Gt=65535&dt,!((Lt=dt>>>24)<=Et);){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if($t&&!(240&$t)){for(Yt=Lt,Jt=$t,an=Gt;$t=(dt=mt.lencode[an+((Rt&(1<<Yt+Jt)-1)>>Yt)])>>>16&255,Gt=65535&dt,!(Yt+(Lt=dt>>>24)<=Et);){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}Rt>>>=Yt,Et-=Yt,mt.back+=Yt}if(Rt>>>=Lt,Et-=Lt,mt.back+=Lt,mt.length=Gt,$t===0){mt.mode=26;break}if(32&$t){mt.back=-1,mt.mode=12;break}if(64&$t){pt.msg="invalid literal/length code",mt.mode=30;break}mt.extra=15&$t,mt.mode=22;case 22:if(mt.extra){for(wt=mt.extra;Et<wt;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}mt.length+=Rt&(1<<mt.extra)-1,Rt>>>=mt.extra,Et-=mt.extra,mt.back+=mt.extra}mt.was=mt.length,mt.mode=23;case 23:for(;$t=(dt=mt.distcode[Rt&(1<<mt.distbits)-1])>>>16&255,Gt=65535&dt,!((Lt=dt>>>24)<=Et);){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if(!(240&$t)){for(Yt=Lt,Jt=$t,an=Gt;$t=(dt=mt.distcode[an+((Rt&(1<<Yt+Jt)-1)>>Yt)])>>>16&255,Gt=65535&dt,!(Yt+(Lt=dt>>>24)<=Et);){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}Rt>>>=Yt,Et-=Yt,mt.back+=Yt}if(Rt>>>=Lt,Et-=Lt,mt.back+=Lt,64&$t){pt.msg="invalid distance code",mt.mode=30;break}mt.offset=Gt,mt.extra=15&$t,mt.mode=24;case 24:if(mt.extra){for(wt=mt.extra;Et<wt;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}mt.offset+=Rt&(1<<mt.extra)-1,Rt>>>=mt.extra,Et-=mt.extra,mt.back+=mt.extra}if(mt.offset>mt.dmax){pt.msg="invalid distance too far back",mt.mode=30;break}mt.mode=25;case 25:if(Mt===0)break e;if(St=vt-Mt,mt.offset>St){if((St=mt.offset-St)>mt.whave&&mt.sane){pt.msg="invalid distance too far back",mt.mode=30;break}jt=St>mt.wnext?(St-=mt.wnext,mt.wsize-St):mt.wnext-St,St>mt.length&&(St=mt.length),Ft=mt.window}else Ft=Ut,jt=Ot-mt.offset,St=mt.length;for(Mt<St&&(St=Mt),Mt-=St,mt.length-=St;Ut[Ot++]=Ft[jt++],--St;);mt.length===0&&(mt.mode=21);break;case 26:if(Mt===0)break e;Ut[Ot++]=mt.length,Mt--,mt.mode=21;break;case 27:if(mt.wrap){for(;Et<32;){if(At===0)break e;At--,Rt|=Pt[Tt++]<<Et,Et+=8}if(vt-=Mt,pt.total_out+=vt,mt.total+=vt,vt&&(pt.adler=mt.check=mt.flags?h(mt.check,Ut,vt,Ot-vt):d(mt.check,Ut,vt,Ot-vt)),vt=Mt,(mt.flags?Rt:j(Rt))!==mt.check){pt.msg="incorrect data check",mt.mode=30;break}Et=Rt=0}mt.mode=28;case 28:if(mt.wrap&&mt.flags){for(;Et<32;){if(At===0)break e;At--,Rt+=Pt[Tt++]<<Et,Et+=8}if(Rt!==(4294967295&mt.total)){pt.msg="incorrect length check",mt.mode=30;break}Et=Rt=0}mt.mode=29;case 29:Wt=1;break e;case 30:Wt=-3;break e;case 31:return-4;case 32:default:return _e}return pt.next_out=Ot,pt.avail_out=Mt,pt.next_in=Tt,pt.avail_in=At,mt.hold=Rt,mt.bits=Et,(mt.wsize||vt!==pt.avail_out&&mt.mode<30&&(mt.mode<27||_t!==4))&&xt(pt,pt.output,pt.next_out,vt-pt.avail_out)?(mt.mode=31,-4):(yt-=pt.avail_in,vt-=pt.avail_out,pt.total_in+=yt,pt.total_out+=vt,mt.total+=vt,mt.wrap&&vt&&(pt.adler=mt.check=mt.flags?h(mt.check,Ut,vt,pt.next_out-vt):d(mt.check,Ut,vt,pt.next_out-vt)),pt.data_type=mt.bits+(mt.last?64:0)+(mt.mode===12?128:0)+(mt.mode===20||mt.mode===15?256:0),(yt==0&&vt===0||_t===4)&&Wt===et&&(Wt=-5),Wt)},a.inflateEnd=function(pt){if(!pt||!pt.state)return _e;var _t=pt.state;return _t.window&&(_t.window=null),pt.state=null,et},a.inflateGetHeader=function(pt,_t){var mt;return pt&&pt.state&&2&(mt=pt.state).wrap?((mt.head=_t).done=!1,et):_e},a.inflateSetDictionary=function(pt,_t){var mt,Pt=_t.length;return pt&&pt.state?(mt=pt.state).wrap!==0&&mt.mode!==11?_e:mt.mode===11&&d(1,_t,Pt,0)!==mt.check?-3:xt(pt,_t,Pt,Pt)?(mt.mode=31,-4):(mt.havedict=1,et):_e},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,o,a){var c=i("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(_,$,et,_e,st,nt,it,j){var tt,ot,lt,rt,ct,at,ut,ft,Ct,xt=j.bits,pt=0,_t=0,mt=0,Pt=0,Ut=0,Tt=0,Ot=0,At=0,Mt=0,Rt=0,Et=null,yt=0,vt=new c.Buf16(16),St=new c.Buf16(16),jt=null,Ft=0;for(pt=0;pt<=15;pt++)vt[pt]=0;for(_t=0;_t<_e;_t++)vt[$[et+_t]]++;for(Ut=xt,Pt=15;1<=Pt&&vt[Pt]===0;Pt--);if(Pt<Ut&&(Ut=Pt),Pt===0)return st[nt++]=20971520,st[nt++]=20971520,j.bits=1,0;for(mt=1;mt<Pt&&vt[mt]===0;mt++);for(Ut<mt&&(Ut=mt),pt=At=1;pt<=15;pt++)if(At<<=1,(At-=vt[pt])<0)return-1;if(0<At&&(_===0||Pt!==1))return-1;for(St[1]=0,pt=1;pt<15;pt++)St[pt+1]=St[pt]+vt[pt];for(_t=0;_t<_e;_t++)$[et+_t]!==0&&(it[St[$[et+_t]]++]=_t);if(at=_===0?(Et=jt=it,19):_===1?(Et=d,yt-=257,jt=h,Ft-=257,256):(Et=g,jt=b,-1),pt=mt,ct=nt,Ot=_t=Rt=0,lt=-1,rt=(Mt=1<<(Tt=Ut))-1,_===1&&852<Mt||_===2&&592<Mt)return 1;for(;;){for(ut=pt-Ot,Ct=it[_t]<at?(ft=0,it[_t]):it[_t]>at?(ft=jt[Ft+it[_t]],Et[yt+it[_t]]):(ft=96,0),tt=1<<pt-Ot,mt=ot=1<<Tt;st[ct+(Rt>>Ot)+(ot-=tt)]=ut<<24|ft<<16|Ct|0,ot!==0;);for(tt=1<<pt-1;Rt&tt;)tt>>=1;if(tt!==0?(Rt&=tt-1,Rt+=tt):Rt=0,_t++,--vt[pt]==0){if(pt===Pt)break;pt=$[et+it[_t]]}if(Ut<pt&&(Rt&rt)!==lt){for(Ot===0&&(Ot=Ut),ct+=mt,At=1<<(Tt=pt-Ot);Tt+Ot<Pt&&!((At-=vt[Tt+Ot])<=0);)Tt++,At<<=1;if(Mt+=1<<Tt,_===1&&852<Mt||_===2&&592<Mt)return 1;st[lt=Rt&rt]=Ut<<24|Tt<<16|ct-nt|0}}return Rt!==0&&(st[ct+Rt]=pt-Ot<<24|64<<16|0),j.bits=Ut,0}},{"../utils/common":41}],51:[function(i,o,a){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,o,a){var c=i("../utils/common"),d=0,h=1;function g(dt){for(var bt=dt.length;0<=--bt;)dt[bt]=0}var b=0,_=29,$=256,et=$+1+_,_e=30,st=19,nt=2*et+1,it=15,j=16,tt=7,ot=256,lt=16,rt=17,ct=18,at=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ut=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ft=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xt=new Array(2*(et+2));g(xt);var pt=new Array(2*_e);g(pt);var _t=new Array(512);g(_t);var mt=new Array(256);g(mt);var Pt=new Array(_);g(Pt);var Ut,Tt,Ot,At=new Array(_e);function Mt(dt,bt,Dt,Bt,It){this.static_tree=dt,this.extra_bits=bt,this.extra_base=Dt,this.elems=Bt,this.max_length=It,this.has_stree=dt&&dt.length}function Rt(dt,bt){this.dyn_tree=dt,this.max_code=0,this.stat_desc=bt}function Et(dt){return dt<256?_t[dt]:_t[256+(dt>>>7)]}function yt(dt,bt){dt.pending_buf[dt.pending++]=255&bt,dt.pending_buf[dt.pending++]=bt>>>8&255}function vt(dt,bt,Dt){dt.bi_valid>j-Dt?(dt.bi_buf|=bt<<dt.bi_valid&65535,yt(dt,dt.bi_buf),dt.bi_buf=bt>>j-dt.bi_valid,dt.bi_valid+=Dt-j):(dt.bi_buf|=bt<<dt.bi_valid&65535,dt.bi_valid+=Dt)}function St(dt,bt,Dt){vt(dt,Dt[2*bt],Dt[2*bt+1])}function jt(dt,bt){for(var Dt=0;Dt|=1&dt,dt>>>=1,Dt<<=1,0<--bt;);return Dt>>>1}function Ft(dt,bt,Dt){var Bt,It,Kt=new Array(it+1),Zt=0;for(Bt=1;Bt<=it;Bt++)Kt[Bt]=Zt=Zt+Dt[Bt-1]<<1;for(It=0;It<=bt;It++){var Vt=dt[2*It+1];Vt!==0&&(dt[2*It]=jt(Kt[Vt]++,Vt))}}function Lt(dt){var bt;for(bt=0;bt<et;bt++)dt.dyn_ltree[2*bt]=0;for(bt=0;bt<_e;bt++)dt.dyn_dtree[2*bt]=0;for(bt=0;bt<st;bt++)dt.bl_tree[2*bt]=0;dt.dyn_ltree[2*ot]=1,dt.opt_len=dt.static_len=0,dt.last_lit=dt.matches=0}function $t(dt){8<dt.bi_valid?yt(dt,dt.bi_buf):0<dt.bi_valid&&(dt.pending_buf[dt.pending++]=dt.bi_buf),dt.bi_buf=0,dt.bi_valid=0}function Gt(dt,bt,Dt,Bt){var It=2*bt,Kt=2*Dt;return dt[It]<dt[Kt]||dt[It]===dt[Kt]&&Bt[bt]<=Bt[Dt]}function Yt(dt,bt,Dt){for(var Bt=dt.heap[Dt],It=Dt<<1;It<=dt.heap_len&&(It<dt.heap_len&&Gt(bt,dt.heap[It+1],dt.heap[It],dt.depth)&&It++,!Gt(bt,Bt,dt.heap[It],dt.depth));)dt.heap[Dt]=dt.heap[It],Dt=It,It<<=1;dt.heap[Dt]=Bt}function Jt(dt,bt,Dt){var Bt,It,Kt,Zt,Vt=0;if(dt.last_lit!==0)for(;Bt=dt.pending_buf[dt.d_buf+2*Vt]<<8|dt.pending_buf[dt.d_buf+2*Vt+1],It=dt.pending_buf[dt.l_buf+Vt],Vt++,Bt===0?St(dt,It,bt):(St(dt,(Kt=mt[It])+$+1,bt),(Zt=at[Kt])!==0&&vt(dt,It-=Pt[Kt],Zt),St(dt,Kt=Et(--Bt),Dt),(Zt=ut[Kt])!==0&&vt(dt,Bt-=At[Kt],Zt)),Vt<dt.last_lit;);St(dt,ot,bt)}function an(dt,bt){var Dt,Bt,It,Kt=bt.dyn_tree,Zt=bt.stat_desc.static_tree,Vt=bt.stat_desc.has_stree,sn=bt.stat_desc.elems,un=-1;for(dt.heap_len=0,dt.heap_max=nt,Dt=0;Dt<sn;Dt++)Kt[2*Dt]!==0?(dt.heap[++dt.heap_len]=un=Dt,dt.depth[Dt]=0):Kt[2*Dt+1]=0;for(;dt.heap_len<2;)Kt[2*(It=dt.heap[++dt.heap_len]=un<2?++un:0)]=1,dt.depth[It]=0,dt.opt_len--,Vt&&(dt.static_len-=Zt[2*It+1]);for(bt.max_code=un,Dt=dt.heap_len>>1;1<=Dt;Dt--)Yt(dt,Kt,Dt);for(It=sn;Dt=dt.heap[1],dt.heap[1]=dt.heap[dt.heap_len--],Yt(dt,Kt,1),Bt=dt.heap[1],dt.heap[--dt.heap_max]=Dt,dt.heap[--dt.heap_max]=Bt,Kt[2*It]=Kt[2*Dt]+Kt[2*Bt],dt.depth[It]=(dt.depth[Dt]>=dt.depth[Bt]?dt.depth[Dt]:dt.depth[Bt])+1,Kt[2*Dt+1]=Kt[2*Bt+1]=It,dt.heap[1]=It++,Yt(dt,Kt,1),2<=dt.heap_len;);dt.heap[--dt.heap_max]=dt.heap[1],function(yn,Sn){var Dn,gn,En,kn,Mn,hn,Qt=Sn.dyn_tree,nn=Sn.max_code,bn=Sn.stat_desc.static_tree,Ln=Sn.stat_desc.has_stree,jn=Sn.stat_desc.extra_bits,Ht=Sn.stat_desc.extra_base,on=Sn.stat_desc.max_length,pn=0;for(kn=0;kn<=it;kn++)yn.bl_count[kn]=0;for(Qt[2*yn.heap[yn.heap_max]+1]=0,Dn=yn.heap_max+1;Dn<nt;Dn++)on<(kn=Qt[2*Qt[2*(gn=yn.heap[Dn])+1]+1]+1)&&(kn=on,pn++),Qt[2*gn+1]=kn,nn<gn||(yn.bl_count[kn]++,Mn=0,Ht<=gn&&(Mn=jn[gn-Ht]),hn=Qt[2*gn],yn.opt_len+=hn*(kn+Mn),Ln&&(yn.static_len+=hn*(bn[2*gn+1]+Mn)));if(pn!==0){do{for(kn=on-1;yn.bl_count[kn]===0;)kn--;yn.bl_count[kn]--,yn.bl_count[kn+1]+=2,yn.bl_count[on]--,pn-=2}while(0<pn);for(kn=on;kn!==0;kn--)for(gn=yn.bl_count[kn];gn!==0;)nn<(En=yn.heap[--Dn])||(Qt[2*En+1]!==kn&&(yn.opt_len+=(kn-Qt[2*En+1])*Qt[2*En],Qt[2*En+1]=kn),gn--)}}(dt,bt),Ft(Kt,un,dt.bl_count)}function ht(dt,bt,Dt){var Bt,It,Kt=-1,Zt=bt[1],Vt=0,sn=7,un=4;for(Zt===0&&(sn=138,un=3),bt[2*(Dt+1)+1]=65535,Bt=0;Bt<=Dt;Bt++)It=Zt,Zt=bt[2*(Bt+1)+1],++Vt<sn&&It===Zt||(Vt<un?dt.bl_tree[2*It]+=Vt:It!==0?(It!==Kt&&dt.bl_tree[2*It]++,dt.bl_tree[2*lt]++):Vt<=10?dt.bl_tree[2*rt]++:dt.bl_tree[2*ct]++,Kt=It,un=(Vt=0)===Zt?(sn=138,3):It===Zt?(sn=6,3):(sn=7,4))}function Wt(dt,bt,Dt){var Bt,It,Kt=-1,Zt=bt[1],Vt=0,sn=7,un=4;for(Zt===0&&(sn=138,un=3),Bt=0;Bt<=Dt;Bt++)if(It=Zt,Zt=bt[2*(Bt+1)+1],!(++Vt<sn&&It===Zt)){if(Vt<un)for(;St(dt,It,dt.bl_tree),--Vt!=0;);else It!==0?(It!==Kt&&(St(dt,It,dt.bl_tree),Vt--),St(dt,lt,dt.bl_tree),vt(dt,Vt-3,2)):Vt<=10?(St(dt,rt,dt.bl_tree),vt(dt,Vt-3,3)):(St(dt,ct,dt.bl_tree),vt(dt,Vt-11,7));Kt=It,un=(Vt=0)===Zt?(sn=138,3):It===Zt?(sn=6,3):(sn=7,4)}}g(At);var kt=!1;function wt(dt,bt,Dt,Bt){vt(dt,(b<<1)+(Bt?1:0),3),function(It,Kt,Zt,Vt){$t(It),yt(It,Zt),yt(It,~Zt),c.arraySet(It.pending_buf,It.window,Kt,Zt,It.pending),It.pending+=Zt}(dt,bt,Dt)}a._tr_init=function(dt){kt||(function(){var bt,Dt,Bt,It,Kt,Zt=new Array(it+1);for(It=Bt=0;It<_-1;It++)for(Pt[It]=Bt,bt=0;bt<1<<at[It];bt++)mt[Bt++]=It;for(mt[Bt-1]=It,It=Kt=0;It<16;It++)for(At[It]=Kt,bt=0;bt<1<<ut[It];bt++)_t[Kt++]=It;for(Kt>>=7;It<_e;It++)for(At[It]=Kt<<7,bt=0;bt<1<<ut[It]-7;bt++)_t[256+Kt++]=It;for(Dt=0;Dt<=it;Dt++)Zt[Dt]=0;for(bt=0;bt<=143;)xt[2*bt+1]=8,bt++,Zt[8]++;for(;bt<=255;)xt[2*bt+1]=9,bt++,Zt[9]++;for(;bt<=279;)xt[2*bt+1]=7,bt++,Zt[7]++;for(;bt<=287;)xt[2*bt+1]=8,bt++,Zt[8]++;for(Ft(xt,et+1,Zt),bt=0;bt<_e;bt++)pt[2*bt+1]=5,pt[2*bt]=jt(bt,5);Ut=new Mt(xt,at,$+1,et,it),Tt=new Mt(pt,ut,0,_e,it),Ot=new Mt(new Array(0),ft,0,st,tt)}(),kt=!0),dt.l_desc=new Rt(dt.dyn_ltree,Ut),dt.d_desc=new Rt(dt.dyn_dtree,Tt),dt.bl_desc=new Rt(dt.bl_tree,Ot),dt.bi_buf=0,dt.bi_valid=0,Lt(dt)},a._tr_stored_block=wt,a._tr_flush_block=function(dt,bt,Dt,Bt){var It,Kt,Zt=0;0<dt.level?(dt.strm.data_type===2&&(dt.strm.data_type=function(Vt){var sn,un=4093624447;for(sn=0;sn<=31;sn++,un>>>=1)if(1&un&&Vt.dyn_ltree[2*sn]!==0)return d;if(Vt.dyn_ltree[18]!==0||Vt.dyn_ltree[20]!==0||Vt.dyn_ltree[26]!==0)return h;for(sn=32;sn<$;sn++)if(Vt.dyn_ltree[2*sn]!==0)return h;return d}(dt)),an(dt,dt.l_desc),an(dt,dt.d_desc),Zt=function(Vt){var sn;for(ht(Vt,Vt.dyn_ltree,Vt.l_desc.max_code),ht(Vt,Vt.dyn_dtree,Vt.d_desc.max_code),an(Vt,Vt.bl_desc),sn=st-1;3<=sn&&Vt.bl_tree[2*Ct[sn]+1]===0;sn--);return Vt.opt_len+=3*(sn+1)+5+5+4,sn}(dt),It=dt.opt_len+3+7>>>3,(Kt=dt.static_len+3+7>>>3)<=It&&(It=Kt)):It=Kt=Dt+5,Dt+4<=It&&bt!==-1?wt(dt,bt,Dt,Bt):dt.strategy===4||Kt===It?(vt(dt,2+(Bt?1:0),3),Jt(dt,xt,pt)):(vt(dt,4+(Bt?1:0),3),function(Vt,sn,un,yn){var Sn;for(vt(Vt,sn-257,5),vt(Vt,un-1,5),vt(Vt,yn-4,4),Sn=0;Sn<yn;Sn++)vt(Vt,Vt.bl_tree[2*Ct[Sn]+1],3);Wt(Vt,Vt.dyn_ltree,sn-1),Wt(Vt,Vt.dyn_dtree,un-1)}(dt,dt.l_desc.max_code+1,dt.d_desc.max_code+1,Zt+1),Jt(dt,dt.dyn_ltree,dt.dyn_dtree)),Lt(dt),Bt&&$t(dt)},a._tr_tally=function(dt,bt,Dt){return dt.pending_buf[dt.d_buf+2*dt.last_lit]=bt>>>8&255,dt.pending_buf[dt.d_buf+2*dt.last_lit+1]=255&bt,dt.pending_buf[dt.l_buf+dt.last_lit]=255&Dt,dt.last_lit++,bt===0?dt.dyn_ltree[2*Dt]++:(dt.matches++,bt--,dt.dyn_ltree[2*(mt[Dt]+$+1)]++,dt.dyn_dtree[2*Et(bt)]++),dt.last_lit===dt.lit_bufsize-1},a._tr_align=function(dt){vt(dt,2,3),St(dt,ot,xt),function(bt){bt.bi_valid===16?(yt(bt,bt.bi_buf),bt.bi_buf=0,bt.bi_valid=0):8<=bt.bi_valid&&(bt.pending_buf[bt.pending++]=255&bt.bi_buf,bt.bi_buf>>=8,bt.bi_valid-=8)}(dt)}},{"../utils/common":41}],53:[function(i,o,a){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,o,a){(function(c){(function(d,h){if(!d.setImmediate){var g,b,_,$,et=1,_e={},st=!1,nt=d.document,it=Object.getPrototypeOf&&Object.getPrototypeOf(d);it=it&&it.setTimeout?it:d,g={}.toString.call(d.process)==="[object process]"?function(lt){process.nextTick(function(){tt(lt)})}:function(){if(d.postMessage&&!d.importScripts){var lt=!0,rt=d.onmessage;return d.onmessage=function(){lt=!1},d.postMessage("","*"),d.onmessage=rt,lt}}()?($="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",ot,!1):d.attachEvent("onmessage",ot),function(lt){d.postMessage($+lt,"*")}):d.MessageChannel?((_=new MessageChannel).port1.onmessage=function(lt){tt(lt.data)},function(lt){_.port2.postMessage(lt)}):nt&&"onreadystatechange"in nt.createElement("script")?(b=nt.documentElement,function(lt){var rt=nt.createElement("script");rt.onreadystatechange=function(){tt(lt),rt.onreadystatechange=null,b.removeChild(rt),rt=null},b.appendChild(rt)}):function(lt){setTimeout(tt,0,lt)},it.setImmediate=function(lt){typeof lt!="function"&&(lt=new Function(""+lt));for(var rt=new Array(arguments.length-1),ct=0;ct<rt.length;ct++)rt[ct]=arguments[ct+1];var at={callback:lt,args:rt};return _e[et]=at,g(et),et++},it.clearImmediate=j}function j(lt){delete _e[lt]}function tt(lt){if(st)setTimeout(tt,0,lt);else{var rt=_e[lt];if(rt){st=!0;try{(function(ct){var at=ct.callback,ut=ct.args;switch(ut.length){case 0:at();break;case 1:at(ut[0]);break;case 2:at(ut[0],ut[1]);break;case 3:at(ut[0],ut[1],ut[2]);break;default:at.apply(h,ut)}})(rt)}finally{j(lt),st=!1}}}}function ot(lt){lt.source===d&&typeof lt.data=="string"&&lt.data.indexOf($)===0&&tt(+lt.data.slice($.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports);var FileSaver_min={exports:{}};(function(e,s){(function(i,o){o()})(commonjsGlobal,function(){function i(b,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\uFEFF",b],{type:b.type}):b}function o(b,_,$){var et=new XMLHttpRequest;et.open("GET",b),et.responseType="blob",et.onload=function(){g(et.response,_,$)},et.onerror=function(){console.error("could not download file")},et.send()}function a(b){var _=new XMLHttpRequest;_.open("HEAD",b,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function c(b){try{b.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(_)}}var d=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,h=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=d.saveAs||(typeof window!="object"||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(b,_,$){var et=d.URL||d.webkitURL,_e=document.createElement("a");_=_||b.name||"download",_e.download=_,_e.rel="noopener",typeof b=="string"?(_e.href=b,_e.origin===location.origin?c(_e):a(_e.href)?o(b,_,$):c(_e,_e.target="_blank")):(_e.href=et.createObjectURL(b),setTimeout(function(){et.revokeObjectURL(_e.href)},4e4),setTimeout(function(){c(_e)},0))}:"msSaveOrOpenBlob"in navigator?function(b,_,$){if(_=_||b.name||"download",typeof b!="string")navigator.msSaveOrOpenBlob(i(b,$),_);else if(a(b))o(b,_,$);else{var et=document.createElement("a");et.href=b,et.target="_blank",setTimeout(function(){c(et)})}}:function(b,_,$,et){if(et=et||open("","_blank"),et&&(et.document.title=et.document.body.innerText="downloading..."),typeof b=="string")return o(b,_,$);var _e=b.type==="application/octet-stream",st=/constructor/i.test(d.HTMLElement)||d.safari,nt=/CriOS\/[\d]+/.test(navigator.userAgent);if((nt||_e&&st||h)&&typeof FileReader<"u"){var it=new FileReader;it.onloadend=function(){var ot=it.result;ot=nt?ot:ot.replace(/^data:[^;]*;/,"data:attachment/file;"),et?et.location.href=ot:location=ot,et=null},it.readAsDataURL(b)}else{var j=d.URL||d.webkitURL,tt=j.createObjectURL(b);et?et.location=tt:location.href=tt,et=null,setTimeout(function(){j.revokeObjectURL(tt)},4e4)}});d.saveAs=g.saveAs=g,e.exports=g})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;const base64ToBlob=e=>{try{const s=e.split(";base64,"),i=s[0].split(":")[1],o=window.atob(s[1]),a=o.length,c=new Uint8Array(a);for(let d=0;d<a;++d)c[d]=o.charCodeAt(d);return new Blob([c],{type:i})}catch(s){return console.error("Base64 conversion failed",s),null}},exportProjectZip=async(e,s,i)=>{const o=new JSZip,a=s?s.replace(/\.pdf$/i,"").replace(/[^\w\-_]/g,"_"):"project",c=o.folder("assets"),d=e.map($=>{var _e,st;const et={...$};return(_e=$.frontImages)!=null&&_e.length&&(et.frontImagePaths=$.frontImages.map((nt,it)=>{const j=base64ToBlob(nt);if(!j)return null;const tt=`img_${$.id}_f_${it}.png`;return c.file(tt,j),`assets/${tt}`}).filter(Boolean)),(st=$.backImages)!=null&&st.length&&(et.backImagePaths=$.backImages.map((nt,it)=>{const j=base64ToBlob(nt);if(!j)return null;const tt=`img_${$.id}_b_${it}.png`;return c.file(tt,j),`assets/${tt}`}).filter(Boolean)),et});let h=`# Flashcards: ${s}

`;const g=d.reduce(($,et)=>{const _e=et.pageNumber||"Unsorted";return $[_e]||($[_e]=[]),$[_e].push(et),$},{});Object.keys(g).sort(($,et)=>$==="Unsorted"?-1:et==="Unsorted"?1:parseInt($)-parseInt(et)).forEach($=>{h+=`## Page ${$}

`,g[$].forEach(et=>{h+=`### ${et.type==="cloze"?"Cloze":"Basic"} Card
`,et.type==="cloze"?h+=`**Text**: ${et.text}
`:h+=`**Front**: ${et.front}
`,et.frontImagePaths&&et.frontImagePaths.forEach(st=>{h+=`![Image](${st})
`}),et.type==="cloze"?et.back&&(h+=`**Extra**: ${et.back}
`):h+=`**Back**: ${et.back}
`,et.backImagePaths&&et.backImagePaths.forEach(st=>{h+=`![Image](${st})
`});const _e=et.tags?et.tags.map(st=>"#"+st.replace(/\s+/g,"_")).join(" "):"";h+=`**Tags**: #${a} #Page_${$} ${_e}
`,h+=`<!-- ID: ${et.id} -->

---

`})}),o.file("flashcards.md",h);const b={version:1,timestamp:Date.now(),source:"Antigravity Flashcards",state:i};o.file("project.json",JSON.stringify(b,null,2));const _=await o.generateAsync({type:"blob"});FileSaver_minExports.saveAs(_,`${a}_Export.zip`)},importProjectZip=async e=>{const i=(await JSZip.loadAsync(e)).file("project.json");if(i){const o=await i.async("string");return JSON.parse(o).state}throw new Error("Invalid Project File: project.json not found")};function useCombinedRefs(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return reactExports.useMemo(()=>o=>{s.forEach(a=>a(o))},s)}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function isWindow(e){const s=Object.prototype.toString.call(e);return s==="[object Window]"||s==="[object global]"}function isNode(e){return"nodeType"in e}function getWindow(e){var s,i;return e?isWindow(e)?e:isNode(e)&&(s=(i=e.ownerDocument)==null?void 0:i.defaultView)!=null?s:window:window}function isDocument(e){const{Document:s}=getWindow(e);return e instanceof s}function isHTMLElement(e){return isWindow(e)?!1:e instanceof getWindow(e).HTMLElement}function isSVGElement(e){return e instanceof getWindow(e).SVGElement}function getOwnerDocument(e){return e?isWindow(e)?e.document:isNode(e)?isDocument(e)?e:isHTMLElement(e)||isSVGElement(e)?e.ownerDocument:document:document:document}const useIsomorphicLayoutEffect=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function useEvent(e){const s=reactExports.useRef(e);return useIsomorphicLayoutEffect(()=>{s.current=e}),reactExports.useCallback(function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return s.current==null?void 0:s.current(...o)},[])}function useInterval(){const e=reactExports.useRef(null),s=reactExports.useCallback((o,a)=>{e.current=setInterval(o,a)},[]),i=reactExports.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[s,i]}function useLatestValue(e,s){s===void 0&&(s=[e]);const i=reactExports.useRef(e);return useIsomorphicLayoutEffect(()=>{i.current!==e&&(i.current=e)},s),i}function useLazyMemo(e,s){const i=reactExports.useRef();return reactExports.useMemo(()=>{const o=e(i.current);return i.current=o,o},[...s])}function useNodeRef(e){const s=useEvent(e),i=reactExports.useRef(null),o=reactExports.useCallback(a=>{a!==i.current&&(s==null||s(a,i.current)),i.current=a},[]);return[i,o]}function usePrevious(e){const s=reactExports.useRef();return reactExports.useEffect(()=>{s.current=e},[e]),s.current}let ids={};function useUniqueId(e,s){return reactExports.useMemo(()=>{if(s)return s;const i=ids[e]==null?0:ids[e]+1;return ids[e]=i,e+"-"+i},[e,s])}function createAdjustmentFn(e){return function(s){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.reduce((c,d)=>{const h=Object.entries(d);for(const[g,b]of h){const _=c[g];_!=null&&(c[g]=_+e*b)}return c},{...s})}}const add=createAdjustmentFn(1),subtract=createAdjustmentFn(-1);function hasViewportRelativeCoordinates(e){return"clientX"in e&&"clientY"in e}function isKeyboardEvent(e){if(!e)return!1;const{KeyboardEvent:s}=getWindow(e.target);return s&&e instanceof s}function isTouchEvent(e){if(!e)return!1;const{TouchEvent:s}=getWindow(e.target);return s&&e instanceof s}function getEventCoordinates(e){if(isTouchEvent(e)){if(e.touches&&e.touches.length){const{clientX:s,clientY:i}=e.touches[0];return{x:s,y:i}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:s,clientY:i}=e.changedTouches[0];return{x:s,y:i}}}return hasViewportRelativeCoordinates(e)?{x:e.clientX,y:e.clientY}:null}const CSS$1=Object.freeze({Translate:{toString(e){if(!e)return;const{x:s,y:i}=e;return"translate3d("+(s?Math.round(s):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:s,scaleY:i}=e;return"scaleX("+s+") scaleY("+i+")"}},Transform:{toString(e){if(e)return[CSS$1.Translate.toString(e),CSS$1.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:s,duration:i,easing:o}=e;return s+" "+i+"ms "+o}}}),SELECTOR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function findFirstFocusableNode(e){return e.matches(SELECTOR)?e:e.querySelector(SELECTOR)}const hiddenStyles={display:"none"};function HiddenText(e){let{id:s,value:i}=e;return React$2.createElement("div",{id:s,style:hiddenStyles},i)}function LiveRegion(e){let{id:s,announcement:i,ariaLiveType:o="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return React$2.createElement("div",{id:s,style:a,role:"status","aria-live":o,"aria-atomic":!0},i)}function useAnnouncement(){const[e,s]=reactExports.useState("");return{announce:reactExports.useCallback(o=>{o!=null&&s(o)},[]),announcement:e}}const DndMonitorContext=reactExports.createContext(null);function useDndMonitor(e){const s=reactExports.useContext(DndMonitorContext);reactExports.useEffect(()=>{if(!s)throw new Error("useDndMonitor must be used within a children of <DndContext>");return s(e)},[e,s])}function useDndMonitorProvider(){const[e]=reactExports.useState(()=>new Set),s=reactExports.useCallback(o=>(e.add(o),()=>e.delete(o)),[e]);return[reactExports.useCallback(o=>{let{type:a,event:c}=o;e.forEach(d=>{var h;return(h=d[a])==null?void 0:h.call(d,c)})},[e]),s]}const defaultScreenReaderInstructions={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},defaultAnnouncements={onDragStart(e){let{active:s}=e;return"Picked up draggable item "+s.id+"."},onDragOver(e){let{active:s,over:i}=e;return i?"Draggable item "+s.id+" was moved over droppable area "+i.id+".":"Draggable item "+s.id+" is no longer over a droppable area."},onDragEnd(e){let{active:s,over:i}=e;return i?"Draggable item "+s.id+" was dropped over droppable area "+i.id:"Draggable item "+s.id+" was dropped."},onDragCancel(e){let{active:s}=e;return"Dragging was cancelled. Draggable item "+s.id+" was dropped."}};function Accessibility(e){let{announcements:s=defaultAnnouncements,container:i,hiddenTextDescribedById:o,screenReaderInstructions:a=defaultScreenReaderInstructions}=e;const{announce:c,announcement:d}=useAnnouncement(),h=useUniqueId("DndLiveRegion"),[g,b]=reactExports.useState(!1);if(reactExports.useEffect(()=>{b(!0)},[]),useDndMonitor(reactExports.useMemo(()=>({onDragStart($){let{active:et}=$;c(s.onDragStart({active:et}))},onDragMove($){let{active:et,over:_e}=$;s.onDragMove&&c(s.onDragMove({active:et,over:_e}))},onDragOver($){let{active:et,over:_e}=$;c(s.onDragOver({active:et,over:_e}))},onDragEnd($){let{active:et,over:_e}=$;c(s.onDragEnd({active:et,over:_e}))},onDragCancel($){let{active:et,over:_e}=$;c(s.onDragCancel({active:et,over:_e}))}}),[c,s])),!g)return null;const _=React$2.createElement(React$2.Fragment,null,React$2.createElement(HiddenText,{id:o,value:a.draggable}),React$2.createElement(LiveRegion,{id:h,announcement:d}));return i?reactDomExports.createPortal(_,i):_}var Action;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Action||(Action={}));function noop(){}function useSensor(e,s){return reactExports.useMemo(()=>({sensor:e,options:s??{}}),[e,s])}function useSensors(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return reactExports.useMemo(()=>[...s].filter(o=>o!=null),[...s])}const defaultCoordinates=Object.freeze({x:0,y:0});function distanceBetween(e,s){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function sortCollisionsAsc(e,s){let{data:{value:i}}=e,{data:{value:o}}=s;return i-o}function sortCollisionsDesc(e,s){let{data:{value:i}}=e,{data:{value:o}}=s;return o-i}function cornersOfRectangle(e){let{left:s,top:i,height:o,width:a}=e;return[{x:s,y:i},{x:s+a,y:i},{x:s,y:i+o},{x:s+a,y:i+o}]}function getFirstCollision(e,s){if(!e||e.length===0)return null;const[i]=e;return i[s]}function centerOfRectangle(e,s,i){return s===void 0&&(s=e.left),i===void 0&&(i=e.top),{x:s+e.width*.5,y:i+e.height*.5}}const closestCenter=e=>{let{collisionRect:s,droppableRects:i,droppableContainers:o}=e;const a=centerOfRectangle(s,s.left,s.top),c=[];for(const d of o){const{id:h}=d,g=i.get(h);if(g){const b=distanceBetween(centerOfRectangle(g),a);c.push({id:h,data:{droppableContainer:d,value:b}})}}return c.sort(sortCollisionsAsc)},closestCorners=e=>{let{collisionRect:s,droppableRects:i,droppableContainers:o}=e;const a=cornersOfRectangle(s),c=[];for(const d of o){const{id:h}=d,g=i.get(h);if(g){const b=cornersOfRectangle(g),_=a.reduce((et,_e,st)=>et+distanceBetween(b[st],_e),0),$=Number((_/4).toFixed(4));c.push({id:h,data:{droppableContainer:d,value:$}})}}return c.sort(sortCollisionsAsc)};function getIntersectionRatio(e,s){const i=Math.max(s.top,e.top),o=Math.max(s.left,e.left),a=Math.min(s.left+s.width,e.left+e.width),c=Math.min(s.top+s.height,e.top+e.height),d=a-o,h=c-i;if(o<a&&i<c){const g=s.width*s.height,b=e.width*e.height,_=d*h,$=_/(g+b-_);return Number($.toFixed(4))}return 0}const rectIntersection=e=>{let{collisionRect:s,droppableRects:i,droppableContainers:o}=e;const a=[];for(const c of o){const{id:d}=c,h=i.get(d);if(h){const g=getIntersectionRatio(h,s);g>0&&a.push({id:d,data:{droppableContainer:c,value:g}})}}return a.sort(sortCollisionsDesc)};function adjustScale(e,s,i){return{...e,scaleX:s&&i?s.width/i.width:1,scaleY:s&&i?s.height/i.height:1}}function getRectDelta(e,s){return e&&s?{x:e.left-s.left,y:e.top-s.top}:defaultCoordinates}function createRectAdjustmentFn(e){return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return a.reduce((d,h)=>({...d,top:d.top+e*h.y,bottom:d.bottom+e*h.y,left:d.left+e*h.x,right:d.right+e*h.x}),{...i})}}const getAdjustedRect=createRectAdjustmentFn(1);function parseTransform(e){if(e.startsWith("matrix3d(")){const s=e.slice(9,-1).split(/, /);return{x:+s[12],y:+s[13],scaleX:+s[0],scaleY:+s[5]}}else if(e.startsWith("matrix(")){const s=e.slice(7,-1).split(/, /);return{x:+s[4],y:+s[5],scaleX:+s[0],scaleY:+s[3]}}return null}function inverseTransform(e,s,i){const o=parseTransform(s);if(!o)return e;const{scaleX:a,scaleY:c,x:d,y:h}=o,g=e.left-d-(1-a)*parseFloat(i),b=e.top-h-(1-c)*parseFloat(i.slice(i.indexOf(" ")+1)),_=a?e.width/a:e.width,$=c?e.height/c:e.height;return{width:_,height:$,top:b,right:g+_,bottom:b+$,left:g}}const defaultOptions={ignoreTransform:!1};function getClientRect(e,s){s===void 0&&(s=defaultOptions);let i=e.getBoundingClientRect();if(s.ignoreTransform){const{transform:b,transformOrigin:_}=getWindow(e).getComputedStyle(e);b&&(i=inverseTransform(i,b,_))}const{top:o,left:a,width:c,height:d,bottom:h,right:g}=i;return{top:o,left:a,width:c,height:d,bottom:h,right:g}}function getTransformAgnosticClientRect(e){return getClientRect(e,{ignoreTransform:!0})}function getWindowClientRect(e){const s=e.innerWidth,i=e.innerHeight;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}function isFixed(e,s){return s===void 0&&(s=getWindow(e).getComputedStyle(e)),s.position==="fixed"}function isScrollable(e,s){s===void 0&&(s=getWindow(e).getComputedStyle(e));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const c=s[a];return typeof c=="string"?i.test(c):!1})}function getScrollableAncestors(e,s){const i=[];function o(a){if(s!=null&&i.length>=s||!a)return i;if(isDocument(a)&&a.scrollingElement!=null&&!i.includes(a.scrollingElement))return i.push(a.scrollingElement),i;if(!isHTMLElement(a)||isSVGElement(a)||i.includes(a))return i;const c=getWindow(e).getComputedStyle(a);return a!==e&&isScrollable(a,c)&&i.push(a),isFixed(a,c)?i:o(a.parentNode)}return e?o(e):i}function getFirstScrollableAncestor(e){const[s]=getScrollableAncestors(e,1);return s??null}function getScrollableElement(e){return!canUseDOM||!e?null:isWindow(e)?e:isNode(e)?isDocument(e)||e===getOwnerDocument(e).scrollingElement?window:isHTMLElement(e)?e:null:null}function getScrollXCoordinate(e){return isWindow(e)?e.scrollX:e.scrollLeft}function getScrollYCoordinate(e){return isWindow(e)?e.scrollY:e.scrollTop}function getScrollCoordinates(e){return{x:getScrollXCoordinate(e),y:getScrollYCoordinate(e)}}var Direction;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Direction||(Direction={}));function isDocumentScrollingElement(e){return!canUseDOM||!e?!1:e===document.scrollingElement}function getScrollPosition(e){const s={x:0,y:0},i=isDocumentScrollingElement(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},o={x:e.scrollWidth-i.width,y:e.scrollHeight-i.height},a=e.scrollTop<=s.y,c=e.scrollLeft<=s.x,d=e.scrollTop>=o.y,h=e.scrollLeft>=o.x;return{isTop:a,isLeft:c,isBottom:d,isRight:h,maxScroll:o,minScroll:s}}const defaultThreshold={x:.2,y:.2};function getScrollDirectionAndSpeed(e,s,i,o,a){let{top:c,left:d,right:h,bottom:g}=i;o===void 0&&(o=10),a===void 0&&(a=defaultThreshold);const{isTop:b,isBottom:_,isLeft:$,isRight:et}=getScrollPosition(e),_e={x:0,y:0},st={x:0,y:0},nt={height:s.height*a.y,width:s.width*a.x};return!b&&c<=s.top+nt.height?(_e.y=Direction.Backward,st.y=o*Math.abs((s.top+nt.height-c)/nt.height)):!_&&g>=s.bottom-nt.height&&(_e.y=Direction.Forward,st.y=o*Math.abs((s.bottom-nt.height-g)/nt.height)),!et&&h>=s.right-nt.width?(_e.x=Direction.Forward,st.x=o*Math.abs((s.right-nt.width-h)/nt.width)):!$&&d<=s.left+nt.width&&(_e.x=Direction.Backward,st.x=o*Math.abs((s.left+nt.width-d)/nt.width)),{direction:_e,speed:st}}function getScrollElementRect(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:d}=window;return{top:0,left:0,right:c,bottom:d,width:c,height:d}}const{top:s,left:i,right:o,bottom:a}=e.getBoundingClientRect();return{top:s,left:i,right:o,bottom:a,width:e.clientWidth,height:e.clientHeight}}function getScrollOffsets(e){return e.reduce((s,i)=>add(s,getScrollCoordinates(i)),defaultCoordinates)}function getScrollXOffset(e){return e.reduce((s,i)=>s+getScrollXCoordinate(i),0)}function getScrollYOffset(e){return e.reduce((s,i)=>s+getScrollYCoordinate(i),0)}function scrollIntoViewIfNeeded(e,s){if(s===void 0&&(s=getClientRect),!e)return;const{top:i,left:o,bottom:a,right:c}=s(e);getFirstScrollableAncestor(e)&&(a<=0||c<=0||i>=window.innerHeight||o>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const properties=[["x",["left","right"],getScrollXOffset],["y",["top","bottom"],getScrollYOffset]];class Rect{constructor(s,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const o=getScrollableAncestors(i),a=getScrollOffsets(o);this.rect={...s},this.width=s.width,this.height=s.height;for(const[c,d,h]of properties)for(const g of d)Object.defineProperty(this,g,{get:()=>{const b=h(o),_=a[c]-b;return this.rect[g]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Listeners{constructor(s){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var o;return(o=this.target)==null?void 0:o.removeEventListener(...i)})},this.target=s}add(s,i,o){var a;(a=this.target)==null||a.addEventListener(s,i,o),this.listeners.push([s,i,o])}}function getEventListenerTarget(e){const{EventTarget:s}=getWindow(e);return e instanceof s?e:getOwnerDocument(e)}function hasExceededDistance(e,s){const i=Math.abs(e.x),o=Math.abs(e.y);return typeof s=="number"?Math.sqrt(i**2+o**2)>s:"x"in s&&"y"in s?i>s.x&&o>s.y:"x"in s?i>s.x:"y"in s?o>s.y:!1}var EventName;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(EventName||(EventName={}));function preventDefault(e){e.preventDefault()}function stopPropagation(e){e.stopPropagation()}var KeyboardCode;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(KeyboardCode||(KeyboardCode={}));const defaultKeyboardCodes={start:[KeyboardCode.Space,KeyboardCode.Enter],cancel:[KeyboardCode.Esc],end:[KeyboardCode.Space,KeyboardCode.Enter,KeyboardCode.Tab]},defaultKeyboardCoordinateGetter=(e,s)=>{let{currentCoordinates:i}=s;switch(e.code){case KeyboardCode.Right:return{...i,x:i.x+25};case KeyboardCode.Left:return{...i,x:i.x-25};case KeyboardCode.Down:return{...i,y:i.y+25};case KeyboardCode.Up:return{...i,y:i.y-25}}};class KeyboardSensor{constructor(s){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=s;const{event:{target:i}}=s;this.props=s,this.listeners=new Listeners(getOwnerDocument(i)),this.windowListeners=new Listeners(getWindow(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(EventName.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:s,onStart:i}=this.props,o=s.node.current;o&&scrollIntoViewIfNeeded(o),i(defaultCoordinates)}handleKeyDown(s){if(isKeyboardEvent(s)){const{active:i,context:o,options:a}=this.props,{keyboardCodes:c=defaultKeyboardCodes,coordinateGetter:d=defaultKeyboardCoordinateGetter,scrollBehavior:h="smooth"}=a,{code:g}=s;if(c.end.includes(g)){this.handleEnd(s);return}if(c.cancel.includes(g)){this.handleCancel(s);return}const{collisionRect:b}=o.current,_=b?{x:b.left,y:b.top}:defaultCoordinates;this.referenceCoordinates||(this.referenceCoordinates=_);const $=d(s,{active:i,context:o.current,currentCoordinates:_});if($){const et=subtract($,_),_e={x:0,y:0},{scrollableAncestors:st}=o.current;for(const nt of st){const it=s.code,{isTop:j,isRight:tt,isLeft:ot,isBottom:lt,maxScroll:rt,minScroll:ct}=getScrollPosition(nt),at=getScrollElementRect(nt),ut={x:Math.min(it===KeyboardCode.Right?at.right-at.width/2:at.right,Math.max(it===KeyboardCode.Right?at.left:at.left+at.width/2,$.x)),y:Math.min(it===KeyboardCode.Down?at.bottom-at.height/2:at.bottom,Math.max(it===KeyboardCode.Down?at.top:at.top+at.height/2,$.y))},ft=it===KeyboardCode.Right&&!tt||it===KeyboardCode.Left&&!ot,Ct=it===KeyboardCode.Down&&!lt||it===KeyboardCode.Up&&!j;if(ft&&ut.x!==$.x){const xt=nt.scrollLeft+et.x,pt=it===KeyboardCode.Right&&xt<=rt.x||it===KeyboardCode.Left&&xt>=ct.x;if(pt&&!et.y){nt.scrollTo({left:xt,behavior:h});return}pt?_e.x=nt.scrollLeft-xt:_e.x=it===KeyboardCode.Right?nt.scrollLeft-rt.x:nt.scrollLeft-ct.x,_e.x&&nt.scrollBy({left:-_e.x,behavior:h});break}else if(Ct&&ut.y!==$.y){const xt=nt.scrollTop+et.y,pt=it===KeyboardCode.Down&&xt<=rt.y||it===KeyboardCode.Up&&xt>=ct.y;if(pt&&!et.x){nt.scrollTo({top:xt,behavior:h});return}pt?_e.y=nt.scrollTop-xt:_e.y=it===KeyboardCode.Down?nt.scrollTop-rt.y:nt.scrollTop-ct.y,_e.y&&nt.scrollBy({top:-_e.y,behavior:h});break}}this.handleMove(s,add(subtract($,this.referenceCoordinates),_e))}}}handleMove(s,i){const{onMove:o}=this.props;s.preventDefault(),o(i)}handleEnd(s){const{onEnd:i}=this.props;s.preventDefault(),this.detach(),i()}handleCancel(s){const{onCancel:i}=this.props;s.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}KeyboardSensor.activators=[{eventName:"onKeyDown",handler:(e,s,i)=>{let{keyboardCodes:o=defaultKeyboardCodes,onActivation:a}=s,{active:c}=i;const{code:d}=e.nativeEvent;if(o.start.includes(d)){const h=c.activatorNode.current;return h&&e.target!==h?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function isDistanceConstraint(e){return!!(e&&"distance"in e)}function isDelayConstraint(e){return!!(e&&"delay"in e)}class AbstractPointerSensor{constructor(s,i,o){var a;o===void 0&&(o=getEventListenerTarget(s.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=s,this.events=i;const{event:c}=s,{target:d}=c;this.props=s,this.events=i,this.document=getOwnerDocument(d),this.documentListeners=new Listeners(this.document),this.listeners=new Listeners(o),this.windowListeners=new Listeners(getWindow(d)),this.initialCoordinates=(a=getEventCoordinates(c))!=null?a:defaultCoordinates,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:s,props:{options:{activationConstraint:i,bypassActivationConstraint:o}}}=this;if(this.listeners.add(s.move.name,this.handleMove,{passive:!1}),this.listeners.add(s.end.name,this.handleEnd),s.cancel&&this.listeners.add(s.cancel.name,this.handleCancel),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.DragStart,preventDefault),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),this.windowListeners.add(EventName.ContextMenu,preventDefault),this.documentListeners.add(EventName.Keydown,this.handleKeydown),i){if(o!=null&&o({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(isDelayConstraint(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(isDistanceConstraint(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(s,i){const{active:o,onPending:a}=this.props;a(o,s,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:s}=this,{onStart:i}=this.props;s&&(this.activated=!0,this.documentListeners.add(EventName.Click,stopPropagation,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(EventName.SelectionChange,this.removeTextSelection),i(s))}handleMove(s){var i;const{activated:o,initialCoordinates:a,props:c}=this,{onMove:d,options:{activationConstraint:h}}=c;if(!a)return;const g=(i=getEventCoordinates(s))!=null?i:defaultCoordinates,b=subtract(a,g);if(!o&&h){if(isDistanceConstraint(h)){if(h.tolerance!=null&&hasExceededDistance(b,h.tolerance))return this.handleCancel();if(hasExceededDistance(b,h.distance))return this.handleStart()}if(isDelayConstraint(h)&&hasExceededDistance(b,h.tolerance))return this.handleCancel();this.handlePending(h,b);return}s.cancelable&&s.preventDefault(),d(g)}handleEnd(){const{onAbort:s,onEnd:i}=this.props;this.detach(),this.activated||s(this.props.active),i()}handleCancel(){const{onAbort:s,onCancel:i}=this.props;this.detach(),this.activated||s(this.props.active),i()}handleKeydown(s){s.code===KeyboardCode.Esc&&this.handleCancel()}removeTextSelection(){var s;(s=this.document.getSelection())==null||s.removeAllRanges()}}const events={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class PointerSensor extends AbstractPointerSensor{constructor(s){const{event:i}=s,o=getOwnerDocument(i.target);super(s,events,o)}}PointerSensor.activators=[{eventName:"onPointerDown",handler:(e,s)=>{let{nativeEvent:i}=e,{onActivation:o}=s;return!i.isPrimary||i.button!==0?!1:(o==null||o({event:i}),!0)}}];const events$1={move:{name:"mousemove"},end:{name:"mouseup"}};var MouseButton;(function(e){e[e.RightClick=2]="RightClick"})(MouseButton||(MouseButton={}));class MouseSensor extends AbstractPointerSensor{constructor(s){super(s,events$1,getOwnerDocument(s.event.target))}}MouseSensor.activators=[{eventName:"onMouseDown",handler:(e,s)=>{let{nativeEvent:i}=e,{onActivation:o}=s;return i.button===MouseButton.RightClick?!1:(o==null||o({event:i}),!0)}}];const events$2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TouchSensor extends AbstractPointerSensor{constructor(s){super(s,events$2)}static setup(){return window.addEventListener(events$2.move.name,s,{capture:!1,passive:!1}),function(){window.removeEventListener(events$2.move.name,s)};function s(){}}}TouchSensor.activators=[{eventName:"onTouchStart",handler:(e,s)=>{let{nativeEvent:i}=e,{onActivation:o}=s;const{touches:a}=i;return a.length>1?!1:(o==null||o({event:i}),!0)}}];var AutoScrollActivator;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(AutoScrollActivator||(AutoScrollActivator={}));var TraversalOrder;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(TraversalOrder||(TraversalOrder={}));function useAutoScroller(e){let{acceleration:s,activator:i=AutoScrollActivator.Pointer,canScroll:o,draggingRect:a,enabled:c,interval:d=5,order:h=TraversalOrder.TreeOrder,pointerCoordinates:g,scrollableAncestors:b,scrollableAncestorRects:_,delta:$,threshold:et}=e;const _e=useScrollIntent({delta:$,disabled:!c}),[st,nt]=useInterval(),it=reactExports.useRef({x:0,y:0}),j=reactExports.useRef({x:0,y:0}),tt=reactExports.useMemo(()=>{switch(i){case AutoScrollActivator.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case AutoScrollActivator.DraggableRect:return a}},[i,a,g]),ot=reactExports.useRef(null),lt=reactExports.useCallback(()=>{const ct=ot.current;if(!ct)return;const at=it.current.x*j.current.x,ut=it.current.y*j.current.y;ct.scrollBy(at,ut)},[]),rt=reactExports.useMemo(()=>h===TraversalOrder.TreeOrder?[...b].reverse():b,[h,b]);reactExports.useEffect(()=>{if(!c||!b.length||!tt){nt();return}for(const ct of rt){if((o==null?void 0:o(ct))===!1)continue;const at=b.indexOf(ct),ut=_[at];if(!ut)continue;const{direction:ft,speed:Ct}=getScrollDirectionAndSpeed(ct,ut,tt,s,et);for(const xt of["x","y"])_e[xt][ft[xt]]||(Ct[xt]=0,ft[xt]=0);if(Ct.x>0||Ct.y>0){nt(),ot.current=ct,st(lt,d),it.current=Ct,j.current=ft;return}}it.current={x:0,y:0},j.current={x:0,y:0},nt()},[s,lt,o,nt,c,d,JSON.stringify(tt),JSON.stringify(_e),st,b,rt,_,JSON.stringify(et)])}const defaultScrollIntent={x:{[Direction.Backward]:!1,[Direction.Forward]:!1},y:{[Direction.Backward]:!1,[Direction.Forward]:!1}};function useScrollIntent(e){let{delta:s,disabled:i}=e;const o=usePrevious(s);return useLazyMemo(a=>{if(i||!o||!a)return defaultScrollIntent;const c={x:Math.sign(s.x-o.x),y:Math.sign(s.y-o.y)};return{x:{[Direction.Backward]:a.x[Direction.Backward]||c.x===-1,[Direction.Forward]:a.x[Direction.Forward]||c.x===1},y:{[Direction.Backward]:a.y[Direction.Backward]||c.y===-1,[Direction.Forward]:a.y[Direction.Forward]||c.y===1}}},[i,s,o])}function useCachedNode(e,s){const i=s!=null?e.get(s):void 0,o=i?i.node.current:null;return useLazyMemo(a=>{var c;return s==null?null:(c=o??a)!=null?c:null},[o,s])}function useCombineActivators(e,s){return reactExports.useMemo(()=>e.reduce((i,o)=>{const{sensor:a}=o,c=a.activators.map(d=>({eventName:d.eventName,handler:s(d.handler,o)}));return[...i,...c]},[]),[e,s])}var MeasuringStrategy;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(MeasuringStrategy||(MeasuringStrategy={}));var MeasuringFrequency;(function(e){e.Optimized="optimized"})(MeasuringFrequency||(MeasuringFrequency={}));const defaultValue=new Map;function useDroppableMeasuring(e,s){let{dragging:i,dependencies:o,config:a}=s;const[c,d]=reactExports.useState(null),{frequency:h,measure:g,strategy:b}=a,_=reactExports.useRef(e),$=it(),et=useLatestValue($),_e=reactExports.useCallback(function(j){j===void 0&&(j=[]),!et.current&&d(tt=>tt===null?j:tt.concat(j.filter(ot=>!tt.includes(ot))))},[et]),st=reactExports.useRef(null),nt=useLazyMemo(j=>{if($&&!i)return defaultValue;if(!j||j===defaultValue||_.current!==e||c!=null){const tt=new Map;for(let ot of e){if(!ot)continue;if(c&&c.length>0&&!c.includes(ot.id)&&ot.rect.current){tt.set(ot.id,ot.rect.current);continue}const lt=ot.node.current,rt=lt?new Rect(g(lt),lt):null;ot.rect.current=rt,rt&&tt.set(ot.id,rt)}return tt}return j},[e,c,i,$,g]);return reactExports.useEffect(()=>{_.current=e},[e]),reactExports.useEffect(()=>{$||_e()},[i,$]),reactExports.useEffect(()=>{c&&c.length>0&&d(null)},[JSON.stringify(c)]),reactExports.useEffect(()=>{$||typeof h!="number"||st.current!==null||(st.current=setTimeout(()=>{_e(),st.current=null},h))},[h,$,_e,...o]),{droppableRects:nt,measureDroppableContainers:_e,measuringScheduled:c!=null};function it(){switch(b){case MeasuringStrategy.Always:return!1;case MeasuringStrategy.BeforeDragging:return i;default:return!i}}}function useInitialValue(e,s){return useLazyMemo(i=>e?i||(typeof s=="function"?s(e):e):null,[s,e])}function useInitialRect(e,s){return useInitialValue(e,s)}function useMutationObserver(e){let{callback:s,disabled:i}=e;const o=useEvent(s),a=reactExports.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(o)},[o,i]);return reactExports.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function useResizeObserver(e){let{callback:s,disabled:i}=e;const o=useEvent(s),a=reactExports.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(o)},[i]);return reactExports.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function defaultMeasure(e){return new Rect(getClientRect(e),e)}function useRect(e,s,i){s===void 0&&(s=defaultMeasure);const[o,a]=reactExports.useState(null);function c(){a(g=>{if(!e)return null;if(e.isConnected===!1){var b;return(b=g??i)!=null?b:null}const _=s(e);return JSON.stringify(g)===JSON.stringify(_)?g:_})}const d=useMutationObserver({callback(g){if(e)for(const b of g){const{type:_,target:$}=b;if(_==="childList"&&$ instanceof HTMLElement&&$.contains(e)){c();break}}}}),h=useResizeObserver({callback:c});return useIsomorphicLayoutEffect(()=>{c(),e?(h==null||h.observe(e),d==null||d.observe(document.body,{childList:!0,subtree:!0})):(h==null||h.disconnect(),d==null||d.disconnect())},[e]),o}function useRectDelta(e){const s=useInitialValue(e);return getRectDelta(e,s)}const defaultValue$1=[];function useScrollableAncestors(e){const s=reactExports.useRef(e),i=useLazyMemo(o=>e?o&&o!==defaultValue$1&&e&&s.current&&e.parentNode===s.current.parentNode?o:getScrollableAncestors(e):defaultValue$1,[e]);return reactExports.useEffect(()=>{s.current=e},[e]),i}function useScrollOffsets(e){const[s,i]=reactExports.useState(null),o=reactExports.useRef(e),a=reactExports.useCallback(c=>{const d=getScrollableElement(c.target);d&&i(h=>h?(h.set(d,getScrollCoordinates(d)),new Map(h)):null)},[]);return reactExports.useEffect(()=>{const c=o.current;if(e!==c){d(c);const h=e.map(g=>{const b=getScrollableElement(g);return b?(b.addEventListener("scroll",a,{passive:!0}),[b,getScrollCoordinates(b)]):null}).filter(g=>g!=null);i(h.length?new Map(h):null),o.current=e}return()=>{d(e),d(c)};function d(h){h.forEach(g=>{const b=getScrollableElement(g);b==null||b.removeEventListener("scroll",a)})}},[a,e]),reactExports.useMemo(()=>e.length?s?Array.from(s.values()).reduce((c,d)=>add(c,d),defaultCoordinates):getScrollOffsets(e):defaultCoordinates,[e,s])}function useScrollOffsetsDelta(e,s){s===void 0&&(s=[]);const i=reactExports.useRef(null);return reactExports.useEffect(()=>{i.current=null},s),reactExports.useEffect(()=>{const o=e!==defaultCoordinates;o&&!i.current&&(i.current=e),!o&&i.current&&(i.current=null)},[e]),i.current?subtract(e,i.current):defaultCoordinates}function useSensorSetup(e){reactExports.useEffect(()=>{if(!canUseDOM)return;const s=e.map(i=>{let{sensor:o}=i;return o.setup==null?void 0:o.setup()});return()=>{for(const i of s)i==null||i()}},e.map(s=>{let{sensor:i}=s;return i}))}function useSyntheticListeners(e,s){return reactExports.useMemo(()=>e.reduce((i,o)=>{let{eventName:a,handler:c}=o;return i[a]=d=>{c(d,s)},i},{}),[e,s])}function useWindowRect(e){return reactExports.useMemo(()=>e?getWindowClientRect(e):null,[e])}const defaultValue$2=[];function useRects(e,s){s===void 0&&(s=getClientRect);const[i]=e,o=useWindowRect(i?getWindow(i):null),[a,c]=reactExports.useState(defaultValue$2);function d(){c(()=>e.length?e.map(g=>isDocumentScrollingElement(g)?o:new Rect(s(g),g)):defaultValue$2)}const h=useResizeObserver({callback:d});return useIsomorphicLayoutEffect(()=>{h==null||h.disconnect(),d(),e.forEach(g=>h==null?void 0:h.observe(g))},[e]),a}function getMeasurableNode(e){if(!e)return null;if(e.children.length>1)return e;const s=e.children[0];return isHTMLElement(s)?s:e}function useDragOverlayMeasuring(e){let{measure:s}=e;const[i,o]=reactExports.useState(null),a=reactExports.useCallback(b=>{for(const{target:_}of b)if(isHTMLElement(_)){o($=>{const et=s(_);return $?{...$,width:et.width,height:et.height}:et});break}},[s]),c=useResizeObserver({callback:a}),d=reactExports.useCallback(b=>{const _=getMeasurableNode(b);c==null||c.disconnect(),_&&(c==null||c.observe(_)),o(_?s(_):null)},[s,c]),[h,g]=useNodeRef(d);return reactExports.useMemo(()=>({nodeRef:h,rect:i,setRef:g}),[i,h,g])}const defaultSensors=[{sensor:PointerSensor,options:{}},{sensor:KeyboardSensor,options:{}}],defaultData={current:{}},defaultMeasuringConfiguration={draggable:{measure:getTransformAgnosticClientRect},droppable:{measure:getTransformAgnosticClientRect,strategy:MeasuringStrategy.WhileDragging,frequency:MeasuringFrequency.Optimized},dragOverlay:{measure:getClientRect}};class DroppableContainersMap extends Map{get(s){var i;return s!=null&&(i=super.get(s))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(s=>{let{disabled:i}=s;return!i})}getNodeFor(s){var i,o;return(i=(o=this.get(s))==null?void 0:o.node.current)!=null?i:void 0}}const defaultPublicContext={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new DroppableContainersMap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:noop},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:defaultMeasuringConfiguration,measureDroppableContainers:noop,windowRect:null,measuringScheduled:!1},defaultInternalContext={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:noop,draggableNodes:new Map,over:null,measureDroppableContainers:noop},InternalContext=reactExports.createContext(defaultInternalContext),PublicContext=reactExports.createContext(defaultPublicContext);function getInitialState(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new DroppableContainersMap}}}function reducer(e,s){switch(s.type){case Action.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:s.initialCoordinates,active:s.active}};case Action.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:s.coordinates.x-e.draggable.initialCoordinates.x,y:s.coordinates.y-e.draggable.initialCoordinates.y}}};case Action.DragEnd:case Action.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Action.RegisterDroppable:{const{element:i}=s,{id:o}=i,a=new DroppableContainersMap(e.droppable.containers);return a.set(o,i),{...e,droppable:{...e.droppable,containers:a}}}case Action.SetDroppableDisabled:{const{id:i,key:o,disabled:a}=s,c=e.droppable.containers.get(i);if(!c||o!==c.key)return e;const d=new DroppableContainersMap(e.droppable.containers);return d.set(i,{...c,disabled:a}),{...e,droppable:{...e.droppable,containers:d}}}case Action.UnregisterDroppable:{const{id:i,key:o}=s,a=e.droppable.containers.get(i);if(!a||o!==a.key)return e;const c=new DroppableContainersMap(e.droppable.containers);return c.delete(i),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function RestoreFocus(e){let{disabled:s}=e;const{active:i,activatorEvent:o,draggableNodes:a}=reactExports.useContext(InternalContext),c=usePrevious(o),d=usePrevious(i==null?void 0:i.id);return reactExports.useEffect(()=>{if(!s&&!o&&c&&d!=null){if(!isKeyboardEvent(c)||document.activeElement===c.target)return;const h=a.get(d);if(!h)return;const{activatorNode:g,node:b}=h;if(!g.current&&!b.current)return;requestAnimationFrame(()=>{for(const _ of[g.current,b.current]){if(!_)continue;const $=findFirstFocusableNode(_);if($){$.focus();break}}})}},[o,s,a,d,c]),null}function applyModifiers(e,s){let{transform:i,...o}=s;return e!=null&&e.length?e.reduce((a,c)=>c({transform:a,...o}),i):i}function useMeasuringConfiguration(e){return reactExports.useMemo(()=>({draggable:{...defaultMeasuringConfiguration.draggable,...e==null?void 0:e.draggable},droppable:{...defaultMeasuringConfiguration.droppable,...e==null?void 0:e.droppable},dragOverlay:{...defaultMeasuringConfiguration.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function useLayoutShiftScrollCompensation(e){let{activeNode:s,measure:i,initialRect:o,config:a=!0}=e;const c=reactExports.useRef(!1),{x:d,y:h}=typeof a=="boolean"?{x:a,y:a}:a;useIsomorphicLayoutEffect(()=>{if(!d&&!h||!s){c.current=!1;return}if(c.current||!o)return;const b=s==null?void 0:s.node.current;if(!b||b.isConnected===!1)return;const _=i(b),$=getRectDelta(_,o);if(d||($.x=0),h||($.y=0),c.current=!0,Math.abs($.x)>0||Math.abs($.y)>0){const et=getFirstScrollableAncestor(b);et&&et.scrollBy({top:$.y,left:$.x})}},[s,d,h,o,i])}const ActiveDraggableContext=reactExports.createContext({...defaultCoordinates,scaleX:1,scaleY:1});var Status;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Status||(Status={}));const DndContext=reactExports.memo(function e(s){var i,o,a,c;let{id:d,accessibility:h,autoScroll:g=!0,children:b,sensors:_=defaultSensors,collisionDetection:$=rectIntersection,measuring:et,modifiers:_e,...st}=s;const nt=reactExports.useReducer(reducer,void 0,getInitialState),[it,j]=nt,[tt,ot]=useDndMonitorProvider(),[lt,rt]=reactExports.useState(Status.Uninitialized),ct=lt===Status.Initialized,{draggable:{active:at,nodes:ut,translate:ft},droppable:{containers:Ct}}=it,xt=at!=null?ut.get(at):null,pt=reactExports.useRef({initial:null,translated:null}),_t=reactExports.useMemo(()=>{var on;return at!=null?{id:at,data:(on=xt==null?void 0:xt.data)!=null?on:defaultData,rect:pt}:null},[at,xt]),mt=reactExports.useRef(null),[Pt,Ut]=reactExports.useState(null),[Tt,Ot]=reactExports.useState(null),At=useLatestValue(st,Object.values(st)),Mt=useUniqueId("DndDescribedBy",d),Rt=reactExports.useMemo(()=>Ct.getEnabled(),[Ct]),Et=useMeasuringConfiguration(et),{droppableRects:yt,measureDroppableContainers:vt,measuringScheduled:St}=useDroppableMeasuring(Rt,{dragging:ct,dependencies:[ft.x,ft.y],config:Et.droppable}),jt=useCachedNode(ut,at),Ft=reactExports.useMemo(()=>Tt?getEventCoordinates(Tt):null,[Tt]),Lt=Ht(),$t=useInitialRect(jt,Et.draggable.measure);useLayoutShiftScrollCompensation({activeNode:at!=null?ut.get(at):null,config:Lt.layoutShiftCompensation,initialRect:$t,measure:Et.draggable.measure});const Gt=useRect(jt,Et.draggable.measure,$t),Yt=useRect(jt?jt.parentElement:null),Jt=reactExports.useRef({activatorEvent:null,active:null,activeNode:jt,collisionRect:null,collisions:null,droppableRects:yt,draggableNodes:ut,draggingNode:null,draggingNodeRect:null,droppableContainers:Ct,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),an=Ct.getNodeFor((i=Jt.current.over)==null?void 0:i.id),ht=useDragOverlayMeasuring({measure:Et.dragOverlay.measure}),Wt=(o=ht.nodeRef.current)!=null?o:jt,kt=ct?(a=ht.rect)!=null?a:Gt:null,wt=!!(ht.nodeRef.current&&ht.rect),dt=useRectDelta(wt?null:Gt),bt=useWindowRect(Wt?getWindow(Wt):null),Dt=useScrollableAncestors(ct?an??jt:null),Bt=useRects(Dt),It=applyModifiers(_e,{transform:{x:ft.x-dt.x,y:ft.y-dt.y,scaleX:1,scaleY:1},activatorEvent:Tt,active:_t,activeNodeRect:Gt,containerNodeRect:Yt,draggingNodeRect:kt,over:Jt.current.over,overlayNodeRect:ht.rect,scrollableAncestors:Dt,scrollableAncestorRects:Bt,windowRect:bt}),Kt=Ft?add(Ft,ft):null,Zt=useScrollOffsets(Dt),Vt=useScrollOffsetsDelta(Zt),sn=useScrollOffsetsDelta(Zt,[Gt]),un=add(It,Vt),yn=kt?getAdjustedRect(kt,It):null,Sn=_t&&yn?$({active:_t,collisionRect:yn,droppableRects:yt,droppableContainers:Rt,pointerCoordinates:Kt}):null,Dn=getFirstCollision(Sn,"id"),[gn,En]=reactExports.useState(null),kn=wt?It:add(It,sn),Mn=adjustScale(kn,(c=gn==null?void 0:gn.rect)!=null?c:null,Gt),hn=reactExports.useRef(null),Qt=reactExports.useCallback((on,pn)=>{let{sensor:xn,options:An}=pn;if(mt.current==null)return;const vn=ut.get(mt.current);if(!vn)return;const zt=on.nativeEvent,Nt=new xn({active:mt.current,activeNode:vn,event:zt,options:An,context:Jt,onAbort(en){if(!ut.get(en))return;const{onDragAbort:dn}=At.current,fn={id:en};dn==null||dn(fn),tt({type:"onDragAbort",event:fn})},onPending(en,ln,dn,fn){if(!ut.get(en))return;const{onDragPending:wn}=At.current,mn={id:en,constraint:ln,initialCoordinates:dn,offset:fn};wn==null||wn(mn),tt({type:"onDragPending",event:mn})},onStart(en){const ln=mt.current;if(ln==null)return;const dn=ut.get(ln);if(!dn)return;const{onDragStart:fn}=At.current,_n={activatorEvent:zt,active:{id:ln,data:dn.data,rect:pt}};reactDomExports.unstable_batchedUpdates(()=>{fn==null||fn(_n),rt(Status.Initializing),j({type:Action.DragStart,initialCoordinates:en,active:ln}),tt({type:"onDragStart",event:_n}),Ut(hn.current),Ot(zt)})},onMove(en){j({type:Action.DragMove,coordinates:en})},onEnd:Xt(Action.DragEnd),onCancel:Xt(Action.DragCancel)});hn.current=Nt;function Xt(en){return async function(){const{active:dn,collisions:fn,over:_n,scrollAdjustedTranslate:wn}=Jt.current;let mn=null;if(dn&&wn){const{cancelDrop:Rn}=At.current;mn={activatorEvent:zt,active:dn,collisions:fn,delta:wn,over:_n},en===Action.DragEnd&&typeof Rn=="function"&&await Promise.resolve(Rn(mn))&&(en=Action.DragCancel)}mt.current=null,reactDomExports.unstable_batchedUpdates(()=>{j({type:en}),rt(Status.Uninitialized),En(null),Ut(null),Ot(null),hn.current=null;const Rn=en===Action.DragEnd?"onDragEnd":"onDragCancel";if(mn){const Cn=At.current[Rn];Cn==null||Cn(mn),tt({type:Rn,event:mn})}})}}},[ut]),nn=reactExports.useCallback((on,pn)=>(xn,An)=>{const vn=xn.nativeEvent,zt=ut.get(An);if(mt.current!==null||!zt||vn.dndKit||vn.defaultPrevented)return;const Nt={active:zt};on(xn,pn.options,Nt)===!0&&(vn.dndKit={capturedBy:pn.sensor},mt.current=An,Qt(xn,pn))},[ut,Qt]),bn=useCombineActivators(_,nn);useSensorSetup(_),useIsomorphicLayoutEffect(()=>{Gt&&lt===Status.Initializing&&rt(Status.Initialized)},[Gt,lt]),reactExports.useEffect(()=>{const{onDragMove:on}=At.current,{active:pn,activatorEvent:xn,collisions:An,over:vn}=Jt.current;if(!pn||!xn)return;const zt={active:pn,activatorEvent:xn,collisions:An,delta:{x:un.x,y:un.y},over:vn};reactDomExports.unstable_batchedUpdates(()=>{on==null||on(zt),tt({type:"onDragMove",event:zt})})},[un.x,un.y]),reactExports.useEffect(()=>{const{active:on,activatorEvent:pn,collisions:xn,droppableContainers:An,scrollAdjustedTranslate:vn}=Jt.current;if(!on||mt.current==null||!pn||!vn)return;const{onDragOver:zt}=At.current,Nt=An.get(Dn),Xt=Nt&&Nt.rect.current?{id:Nt.id,rect:Nt.rect.current,data:Nt.data,disabled:Nt.disabled}:null,en={active:on,activatorEvent:pn,collisions:xn,delta:{x:vn.x,y:vn.y},over:Xt};reactDomExports.unstable_batchedUpdates(()=>{En(Xt),zt==null||zt(en),tt({type:"onDragOver",event:en})})},[Dn]),useIsomorphicLayoutEffect(()=>{Jt.current={activatorEvent:Tt,active:_t,activeNode:jt,collisionRect:yn,collisions:Sn,droppableRects:yt,draggableNodes:ut,draggingNode:Wt,draggingNodeRect:kt,droppableContainers:Ct,over:gn,scrollableAncestors:Dt,scrollAdjustedTranslate:un},pt.current={initial:kt,translated:yn}},[_t,jt,Sn,yn,ut,Wt,kt,yt,Ct,gn,Dt,un]),useAutoScroller({...Lt,delta:ft,draggingRect:yn,pointerCoordinates:Kt,scrollableAncestors:Dt,scrollableAncestorRects:Bt});const Ln=reactExports.useMemo(()=>({active:_t,activeNode:jt,activeNodeRect:Gt,activatorEvent:Tt,collisions:Sn,containerNodeRect:Yt,dragOverlay:ht,draggableNodes:ut,droppableContainers:Ct,droppableRects:yt,over:gn,measureDroppableContainers:vt,scrollableAncestors:Dt,scrollableAncestorRects:Bt,measuringConfiguration:Et,measuringScheduled:St,windowRect:bt}),[_t,jt,Gt,Tt,Sn,Yt,ht,ut,Ct,yt,gn,vt,Dt,Bt,Et,St,bt]),jn=reactExports.useMemo(()=>({activatorEvent:Tt,activators:bn,active:_t,activeNodeRect:Gt,ariaDescribedById:{draggable:Mt},dispatch:j,draggableNodes:ut,over:gn,measureDroppableContainers:vt}),[Tt,bn,_t,Gt,j,Mt,ut,gn,vt]);return React$2.createElement(DndMonitorContext.Provider,{value:ot},React$2.createElement(InternalContext.Provider,{value:jn},React$2.createElement(PublicContext.Provider,{value:Ln},React$2.createElement(ActiveDraggableContext.Provider,{value:Mn},b)),React$2.createElement(RestoreFocus,{disabled:(h==null?void 0:h.restoreFocus)===!1})),React$2.createElement(Accessibility,{...h,hiddenTextDescribedById:Mt}));function Ht(){const on=(Pt==null?void 0:Pt.autoScrollEnabled)===!1,pn=typeof g=="object"?g.enabled===!1:g===!1,xn=ct&&!on&&!pn;return typeof g=="object"?{...g,enabled:xn}:{enabled:xn}}}),NullContext=reactExports.createContext(null),defaultRole="button",ID_PREFIX$1="Draggable";function useDraggable(e){let{id:s,data:i,disabled:o=!1,attributes:a}=e;const c=useUniqueId(ID_PREFIX$1),{activators:d,activatorEvent:h,active:g,activeNodeRect:b,ariaDescribedById:_,draggableNodes:$,over:et}=reactExports.useContext(InternalContext),{role:_e=defaultRole,roleDescription:st="draggable",tabIndex:nt=0}=a??{},it=(g==null?void 0:g.id)===s,j=reactExports.useContext(it?ActiveDraggableContext:NullContext),[tt,ot]=useNodeRef(),[lt,rt]=useNodeRef(),ct=useSyntheticListeners(d,s),at=useLatestValue(i);useIsomorphicLayoutEffect(()=>($.set(s,{id:s,key:c,node:tt,activatorNode:lt,data:at}),()=>{const ft=$.get(s);ft&&ft.key===c&&$.delete(s)}),[$,s]);const ut=reactExports.useMemo(()=>({role:_e,tabIndex:nt,"aria-disabled":o,"aria-pressed":it&&_e===defaultRole?!0:void 0,"aria-roledescription":st,"aria-describedby":_.draggable}),[o,_e,nt,it,st,_.draggable]);return{active:g,activatorEvent:h,activeNodeRect:b,attributes:ut,isDragging:it,listeners:o?void 0:ct,node:tt,over:et,setNodeRef:ot,setActivatorNodeRef:rt,transform:j}}function useDndContext(){return reactExports.useContext(PublicContext)}const ID_PREFIX$1$1="Droppable",defaultResizeObserverConfig={timeout:25};function useDroppable(e){let{data:s,disabled:i=!1,id:o,resizeObserverConfig:a}=e;const c=useUniqueId(ID_PREFIX$1$1),{active:d,dispatch:h,over:g,measureDroppableContainers:b}=reactExports.useContext(InternalContext),_=reactExports.useRef({disabled:i}),$=reactExports.useRef(!1),et=reactExports.useRef(null),_e=reactExports.useRef(null),{disabled:st,updateMeasurementsFor:nt,timeout:it}={...defaultResizeObserverConfig,...a},j=useLatestValue(nt??o),tt=reactExports.useCallback(()=>{if(!$.current){$.current=!0;return}_e.current!=null&&clearTimeout(_e.current),_e.current=setTimeout(()=>{b(Array.isArray(j.current)?j.current:[j.current]),_e.current=null},it)},[it]),ot=useResizeObserver({callback:tt,disabled:st||!d}),lt=reactExports.useCallback((ut,ft)=>{ot&&(ft&&(ot.unobserve(ft),$.current=!1),ut&&ot.observe(ut))},[ot]),[rt,ct]=useNodeRef(lt),at=useLatestValue(s);return reactExports.useEffect(()=>{!ot||!rt.current||(ot.disconnect(),$.current=!1,ot.observe(rt.current))},[rt,ot]),reactExports.useEffect(()=>(h({type:Action.RegisterDroppable,element:{id:o,key:c,disabled:i,node:rt,rect:et,data:at}}),()=>h({type:Action.UnregisterDroppable,key:c,id:o})),[o]),reactExports.useEffect(()=>{i!==_.current.disabled&&(h({type:Action.SetDroppableDisabled,id:o,key:c,disabled:i}),_.current.disabled=i)},[o,c,i,h]),{active:d,rect:et,isOver:(g==null?void 0:g.id)===o,node:rt,over:g,setNodeRef:ct}}function arrayMove(e,s,i){const o=e.slice();return o.splice(i<0?o.length+i:i,0,o.splice(s,1)[0]),o}function getSortedRects(e,s){return e.reduce((i,o,a)=>{const c=s.get(o);return c&&(i[a]=c),i},Array(e.length))}function isValidIndex(e){return e!==null&&e>=0}function itemsEqual(e,s){if(e===s)return!0;if(e.length!==s.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==s[i])return!1;return!0}function normalizeDisabled(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const rectSortingStrategy=e=>{let{rects:s,activeIndex:i,overIndex:o,index:a}=e;const c=arrayMove(s,o,i),d=s[a],h=c[a];return!h||!d?null:{x:h.left-d.left,y:h.top-d.top,scaleX:h.width/d.width,scaleY:h.height/d.height}},ID_PREFIX="Sortable",Context=React$2.createContext({activeIndex:-1,containerId:ID_PREFIX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rectSortingStrategy,disabled:{draggable:!1,droppable:!1}});function SortableContext(e){let{children:s,id:i,items:o,strategy:a=rectSortingStrategy,disabled:c=!1}=e;const{active:d,dragOverlay:h,droppableRects:g,over:b,measureDroppableContainers:_}=useDndContext(),$=useUniqueId(ID_PREFIX,i),et=h.rect!==null,_e=reactExports.useMemo(()=>o.map(ct=>typeof ct=="object"&&"id"in ct?ct.id:ct),[o]),st=d!=null,nt=d?_e.indexOf(d.id):-1,it=b?_e.indexOf(b.id):-1,j=reactExports.useRef(_e),tt=!itemsEqual(_e,j.current),ot=it!==-1&&nt===-1||tt,lt=normalizeDisabled(c);useIsomorphicLayoutEffect(()=>{tt&&st&&_(_e)},[tt,_e,st,_]),reactExports.useEffect(()=>{j.current=_e},[_e]);const rt=reactExports.useMemo(()=>({activeIndex:nt,containerId:$,disabled:lt,disableTransforms:ot,items:_e,overIndex:it,useDragOverlay:et,sortedRects:getSortedRects(_e,g),strategy:a}),[nt,$,lt.draggable,lt.droppable,ot,_e,it,g,et,a]);return React$2.createElement(Context.Provider,{value:rt},s)}const defaultNewIndexGetter=e=>{let{id:s,items:i,activeIndex:o,overIndex:a}=e;return arrayMove(i,o,a).indexOf(s)},defaultAnimateLayoutChanges=e=>{let{containerId:s,isSorting:i,wasDragging:o,index:a,items:c,newIndex:d,previousItems:h,previousContainerId:g,transition:b}=e;return!b||!o||h!==c&&a===d?!1:i?!0:d!==a&&s===g},defaultTransition={duration:200,easing:"ease"},transitionProperty="transform",disabledTransition=CSS$1.Transition.toString({property:transitionProperty,duration:0,easing:"linear"}),defaultAttributes={roleDescription:"sortable"};function useDerivedTransform(e){let{disabled:s,index:i,node:o,rect:a}=e;const[c,d]=reactExports.useState(null),h=reactExports.useRef(i);return useIsomorphicLayoutEffect(()=>{if(!s&&i!==h.current&&o.current){const g=a.current;if(g){const b=getClientRect(o.current,{ignoreTransform:!0}),_={x:g.left-b.left,y:g.top-b.top,scaleX:g.width/b.width,scaleY:g.height/b.height};(_.x||_.y)&&d(_)}}i!==h.current&&(h.current=i)},[s,i,o,a]),reactExports.useEffect(()=>{c&&d(null)},[c]),c}function useSortable(e){let{animateLayoutChanges:s=defaultAnimateLayoutChanges,attributes:i,disabled:o,data:a,getNewIndex:c=defaultNewIndexGetter,id:d,strategy:h,resizeObserverConfig:g,transition:b=defaultTransition}=e;const{items:_,containerId:$,activeIndex:et,disabled:_e,disableTransforms:st,sortedRects:nt,overIndex:it,useDragOverlay:j,strategy:tt}=reactExports.useContext(Context),ot=normalizeLocalDisabled(o,_e),lt=_.indexOf(d),rt=reactExports.useMemo(()=>({sortable:{containerId:$,index:lt,items:_},...a}),[$,a,lt,_]),ct=reactExports.useMemo(()=>_.slice(_.indexOf(d)),[_,d]),{rect:at,node:ut,isOver:ft,setNodeRef:Ct}=useDroppable({id:d,data:rt,disabled:ot.droppable,resizeObserverConfig:{updateMeasurementsFor:ct,...g}}),{active:xt,activatorEvent:pt,activeNodeRect:_t,attributes:mt,setNodeRef:Pt,listeners:Ut,isDragging:Tt,over:Ot,setActivatorNodeRef:At,transform:Mt}=useDraggable({id:d,data:rt,attributes:{...defaultAttributes,...i},disabled:ot.draggable}),Rt=useCombinedRefs(Ct,Pt),Et=!!xt,yt=Et&&!st&&isValidIndex(et)&&isValidIndex(it),vt=!j&&Tt,St=vt&&yt?Mt:null,Ft=yt?St??(h??tt)({rects:nt,activeNodeRect:_t,activeIndex:et,overIndex:it,index:lt}):null,Lt=isValidIndex(et)&&isValidIndex(it)?c({id:d,items:_,activeIndex:et,overIndex:it}):lt,$t=xt==null?void 0:xt.id,Gt=reactExports.useRef({activeId:$t,items:_,newIndex:Lt,containerId:$}),Yt=_!==Gt.current.items,Jt=s({active:xt,containerId:$,isDragging:Tt,isSorting:Et,id:d,index:lt,items:_,newIndex:Gt.current.newIndex,previousItems:Gt.current.items,previousContainerId:Gt.current.containerId,transition:b,wasDragging:Gt.current.activeId!=null}),an=useDerivedTransform({disabled:!Jt,index:lt,node:ut,rect:at});return reactExports.useEffect(()=>{Et&&Gt.current.newIndex!==Lt&&(Gt.current.newIndex=Lt),$!==Gt.current.containerId&&(Gt.current.containerId=$),_!==Gt.current.items&&(Gt.current.items=_)},[Et,Lt,$,_]),reactExports.useEffect(()=>{if($t===Gt.current.activeId)return;if($t!=null&&Gt.current.activeId==null){Gt.current.activeId=$t;return}const Wt=setTimeout(()=>{Gt.current.activeId=$t},50);return()=>clearTimeout(Wt)},[$t]),{active:xt,activeIndex:et,attributes:mt,data:rt,rect:at,index:lt,newIndex:Lt,items:_,isOver:ft,isSorting:Et,isDragging:Tt,listeners:Ut,node:ut,overIndex:it,over:Ot,setNodeRef:Rt,setActivatorNodeRef:At,setDroppableNodeRef:Ct,setDraggableNodeRef:Pt,transform:an??Ft,transition:ht()};function ht(){if(an||Yt&&Gt.current.newIndex===lt)return disabledTransition;if(!(vt&&!isKeyboardEvent(pt)||!b)&&(Et||Jt))return CSS$1.Transition.toString({...b,property:transitionProperty})}}function normalizeLocalDisabled(e,s){var i,o;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(i=e==null?void 0:e.draggable)!=null?i:s.draggable,droppable:(o=e==null?void 0:e.droppable)!=null?o:s.droppable}}function hasSortableData(e){if(!e)return!1;const s=e.data.current;return!!(s&&"sortable"in s&&typeof s.sortable=="object"&&"containerId"in s.sortable&&"items"in s.sortable&&"index"in s.sortable)}const directions=[KeyboardCode.Down,KeyboardCode.Right,KeyboardCode.Up,KeyboardCode.Left],sortableKeyboardCoordinates=(e,s)=>{let{context:{active:i,collisionRect:o,droppableRects:a,droppableContainers:c,over:d,scrollableAncestors:h}}=s;if(directions.includes(e.code)){if(e.preventDefault(),!i||!o)return;const g=[];c.getEnabled().forEach($=>{if(!$||$!=null&&$.disabled)return;const et=a.get($.id);if(et)switch(e.code){case KeyboardCode.Down:o.top<et.top&&g.push($);break;case KeyboardCode.Up:o.top>et.top&&g.push($);break;case KeyboardCode.Left:o.left>et.left&&g.push($);break;case KeyboardCode.Right:o.left<et.left&&g.push($);break}});const b=closestCorners({collisionRect:o,droppableRects:a,droppableContainers:g});let _=getFirstCollision(b,"id");if(_===(d==null?void 0:d.id)&&b.length>1&&(_=b[1].id),_!=null){const $=c.get(i.id),et=c.get(_),_e=et?a.get(et.id):null,st=et==null?void 0:et.node.current;if(st&&_e&&$&&et){const it=getScrollableAncestors(st).some((ct,at)=>h[at]!==ct),j=isSameContainer($,et),tt=isAfter($,et),ot=it||!j?{x:0,y:0}:{x:tt?o.width-_e.width:0,y:tt?o.height-_e.height:0},lt={x:_e.left,y:_e.top};return ot.x&&ot.y?lt:subtract(lt,ot)}}}};function isSameContainer(e,s){return!hasSortableData(e)||!hasSortableData(s)?!1:e.data.current.sortable.containerId===s.data.current.sortable.containerId}function isAfter(e,s){return!hasSortableData(e)||!hasSortableData(s)||!isSameContainer(e,s)?!1:e.data.current.sortable.index<s.data.current.sortable.index}const formatText=e=>e?e.split(/(\*\*.*?\*\*)/g).map((s,i)=>s.startsWith("**")&&s.length>=4?jsxRuntimeExports.jsx("strong",{className:"font-bold text-slate-900",children:s.slice(2,-2)},i):s.split(/(\*[^*]+\*|_[^_]+_)/g).map((o,a)=>o.startsWith("*")&&o.endsWith("*")&&o.length>=2||o.startsWith("_")&&o.endsWith("_")&&o.length>=2?jsxRuntimeExports.jsx("em",{className:"italic",children:o.slice(1,-1)},`${i}-${a}`):jsxRuntimeExports.jsx("span",{children:o},`${i}-${a}`))):null,ClozeDisplay=({text:e})=>{if(!e)return jsxRuntimeExports.jsx("span",{className:"text-muted-foreground italic",children:"Empty Cloze Card"});const s=e.split(/({{c\d+::.*?}}|{{.*?}})/g),i=o=>{const a=["text-indigo-700 bg-indigo-100 border-indigo-200","text-emerald-700 bg-emerald-100 border-emerald-200","text-amber-700 bg-amber-100 border-amber-200","text-rose-700 bg-rose-100 border-rose-200","text-sky-700 bg-sky-100 border-sky-200"];return a[(o-1)%a.length]||a[0]};return jsxRuntimeExports.jsx("div",{className:"text-sm leading-relaxed",children:s.map((o,a)=>{const c=o.match(/{{c(\d+)::(.*?)}}/),d=o.match(/{{(.*?)}}/);let h=null,g=1;if(c?(g=parseInt(c[1],10),h=c[2]):d&&(h=d[1]),h){const b=i(g);return jsxRuntimeExports.jsx("span",{className:cn("font-bold px-1.5 py-0.5 rounded mx-0.5 border box-decoration-clone",b),children:formatText(h)},a)}return jsxRuntimeExports.jsx("span",{children:formatText(o)},a)})})},TagInput=({tags:e,onChange:s,onSave:i})=>{const{cards:o}=useAppStore(),[a,c]=reactExports.useState(e.join(", ")),[d,h]=reactExports.useState([]),[g,b]=reactExports.useState(-1),_=reactExports.useRef(null),$=React$2.useMemo(()=>{const it=new Set;return o.forEach(j=>{var tt;return(tt=j.tags)==null?void 0:tt.forEach(ot=>it.add(ot))}),Array.from(it).sort()},[o]);reactExports.useEffect(()=>{c(e.join(", "))},[e]);const et=it=>{const j=it.target.value;c(j);const tt=j.split(","),ot=tt[tt.length-1].trim().toLowerCase();if(ot&&ot.length>0){const lt=$.filter(rt=>rt.toLowerCase().startsWith(ot)&&rt.toLowerCase()!==ot).slice(0,5);h(lt),b(-1)}else h([])},_e=it=>{const j=a.split(",");j[j.length-1]=it;let tt=j.join(", ")+", ";const ot=tt.split(",").map(rt=>rt.trim()).filter(Boolean),lt=Array.from(new Set(ot));ot.length!==lt.length&&(tt=lt.join(", ")+", "),c(tt),h([]),s(lt)},st=it=>{if(d.length>0)if(it.key==="ArrowDown")it.preventDefault(),b(j=>Math.min(j+1,d.length-1));else if(it.key==="ArrowUp")it.preventDefault(),b(j=>Math.max(j-1,-1));else if(it.key==="Tab"){it.preventDefault();const j=g>=0?g:0;_e(d[j])}else it.key==="Enter"?g>=0&&(it.preventDefault(),_e(d[g])):it.key==="Escape"&&h([]);if(it.key==="Enter"&&(it.ctrlKey||it.metaKey)){it.preventDefault();const j=a.split(",").map(ot=>ot.trim()).filter(Boolean),tt=Array.from(new Set(j));JSON.stringify(tt)!==JSON.stringify(e)&&s(tt),i&&i()}},nt=()=>{setTimeout(()=>{const it=a.split(",").map(ot=>ot.trim()).filter(Boolean),j=Array.from(new Set(it));JSON.stringify(j.sort())!==JSON.stringify(e.sort())?s(j):c(j.join(", ")),h([])},200)};return jsxRuntimeExports.jsxs("div",{className:"relative flex-1",ref:_,children:[jsxRuntimeExports.jsx("input",{type:"text",className:"w-full text-xs bg-transparent border-b border-muted-foreground/30 focus:border-primary outline-none py-1",placeholder:"biology, exam, chapter1...",value:a,onChange:et,onBlur:nt,onKeyDown:st}),d.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-full left-0 mb-1 w-full bg-popover text-popover-foreground border rounded shadow-md z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-100",children:d.map((it,j)=>jsxRuntimeExports.jsx("div",{className:cn("px-2 py-1.5 text-xs cursor-pointer hover:bg-muted transition-colors",j===g?"bg-primary text-primary-foreground":""),onMouseDown:tt=>{tt.preventDefault(),_e(it)},children:it},it))})]})},ContentArea=({label:e,value:s,images:i=[],onCommit:o,onAddImage:a,onRemoveImage:c,onViewImage:d,placeholder:h,className:g,isCloze:b,isEditing:_,onSave:$})=>{const[et,_e]=reactExports.useState(s||"");reactExports.useEffect(()=>{_e(s||"")},[s]);const st=reactExports.useRef(null);React$2.useLayoutEffect(()=>{if(_&&st.current){st.current.style.height="auto";const tt=st.current.scrollHeight;st.current.style.height=`${Math.min(Math.max(tt,80),300)}px`}},[et,_]);const nt=()=>{et!==s&&o(et)},it=tt=>{tt.key==="Enter"&&(tt.ctrlKey||tt.metaKey)&&(tt.preventDefault(),tt.stopPropagation(),o(et),$&&$())},j=tt=>{const ot=tt.clipboardData.items;for(const lt of ot)if(lt.type.indexOf("image")!==-1){tt.preventDefault();const rt=lt.getAsFile(),ct=new FileReader;ct.onload=at=>{const ut=at.target.result;a&&a(ut)},ct.readAsDataURL(rt)}};return jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col flex-1 min-h-[80px] relative group/field",g),children:[e&&jsxRuntimeExports.jsx("span",{className:"text-[10px] uppercase font-bold text-muted-foreground mb-1 select-none",children:e}),_?jsxRuntimeExports.jsx("textarea",{ref:st,value:et,onChange:tt=>_e(tt.target.value),onBlur:nt,onKeyDown:it,onPaste:j,className:"w-full resize-none bg-secondary/50 p-2 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary/50 font-mono transition-all overflow-y-auto",placeholder:h,onClick:tt=>tt.stopPropagation()}):jsxRuntimeExports.jsx("div",{className:"text-sm whitespace-pre-wrap",children:b?jsxRuntimeExports.jsx(ClozeDisplay,{text:s}):s?formatText(s):jsxRuntimeExports.jsx("span",{className:"text-muted-foreground italic",children:"Empty"})}),i.length>0&&jsxRuntimeExports.jsx("div",{className:cn("flex flex-wrap gap-2 mt-2",_?"":"flex-col"),children:i.map((tt,ot)=>jsxRuntimeExports.jsxs("div",{className:cn("relative group/image",_?"w-16 h-16":"w-full"),children:[jsxRuntimeExports.jsx("img",{src:tt,alt:"Attachment",className:cn("object-cover rounded border bg-background",_?"w-full h-full cursor-pointer hover:ring-2 ring-primary":"w-full h-auto max-h-[300px] object-contain"),onDoubleClick:lt=>{lt.stopPropagation(),_&&d&&d(tt)}}),_&&jsxRuntimeExports.jsx("button",{onClick:lt=>{lt.stopPropagation(),c(ot)},className:"absolute -top-1 -right-1 bg-destructive text-white rounded-full p-0.5 opacity-0 group-hover/image:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx(X,{size:10})})]},ot))}),_&&i.length===0&&a&&jsxRuntimeExports.jsx("div",{className:"text-[10px] text-muted-foreground italic mt-2",children:"Paste images here..."})]})};function Flashcard({card:e,onUpdate:s,onDelete:i}){const{editingCardId:o,setEditingCardId:a,selectedCardIds:c,toggleCardSelection:d}=useAppStore(),h=o===e.id,g=c.includes(e.id),[b,_]=reactExports.useState({}),[$,et]=reactExports.useState(null),_e=reactExports.useRef(!1);reactExports.useEffect(()=>{h&&!_e.current?(_({front:e.front,back:e.back,text:e.text,type:e.type,frontImages:e.frontImages||[],backImages:e.backImages||[],tags:e.tags||[]}),_e.current=!0):!h&&_e.current&&(s(e.id,b),_e.current=!1)},[h,e.id,s]);const st=rt=>{rt.stopPropagation(),_({front:e.front,back:e.back,text:e.text,type:e.type,frontImages:e.frontImages||[],backImages:e.backImages||[],tags:e.tags||[]}),_e.current=!1,a(null)},nt=rt=>{rt.stopPropagation(),s(e.id,b),console.log("Saving",b),a(null)},it=rt=>{rt.stopPropagation(),a(e.id)},j=(rt,ct)=>{_(at=>({...at,[rt]:ct}))},tt=(rt,ct)=>{const at=rt==="front"?"frontImages":"backImages";_(ut=>({...ut,[at]:[...ut[at]||[],ct]}))},ot=(rt,ct)=>{const at=rt==="front"?"frontImages":"backImages";_(ut=>({...ut,[at]:(ut[at]||[]).filter((ft,Ct)=>Ct!==ct)}))},lt=rt=>{if(rt.ctrlKey||rt.metaKey){rt.stopPropagation(),d(e.id);return}if(o&&o!==e.id){a(null);return}h||it(rt)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:cn("relative rounded-lg border bg-card dark:bg-slate-900 text-card-foreground shadow-sm transition-all hover:shadow-md group","flex flex-col overflow-hidden select-none",h?"ring-2 ring-primary ring-offset-1 z-10 cursor-default":"cursor-pointer",g?"ring-2 ring-blue-500 bg-blue-50/50 dark:bg-blue-900/20":""),onClick:lt,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-muted/20",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 overflow-hidden",children:jsxRuntimeExports.jsx("span",{className:cn("text-[10px] font-bold px-1.5 py-0.5 rounded text-white uppercase flex-shrink-0",e.type==="cloze"?"bg-indigo-500":"bg-emerald-500"),children:e.type==="cloze"?"Cloze":"Basic"})}),jsxRuntimeExports.jsx("button",{onClick:rt=>{rt.stopPropagation(),i(e.id)},className:"text-muted-foreground hover:text-destructive transition-colors opacity-0 group-hover:opacity-100",title:"Delete Card",children:jsxRuntimeExports.jsx(X,{size:14})})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-0 divider-y divide-y flex-1",children:e.type==="cloze"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-white dark:bg-transparent",children:jsxRuntimeExports.jsx(ContentArea,{value:h?b.text||"":e.text||e.front,onCommit:rt=>j("text",rt),images:h?b.frontImages||[]:e.frontImages||[],onAddImage:rt=>tt("front",rt),onRemoveImage:rt=>ot("front",rt),onViewImage:et,placeholder:"The {{c1::answer}} is hidden.",isCloze:!0,isEditing:h,onSave:()=>nt({stopPropagation:()=>{}})})}),jsxRuntimeExports.jsx("div",{className:"p-3 bg-slate-50/50 dark:bg-slate-800/50 border-t border-dashed",children:jsxRuntimeExports.jsx(ContentArea,{label:"Extra Info",value:h?b.back||"":e.back,onCommit:rt=>j("back",rt),images:h?b.backImages||[]:e.backImages||[],onAddImage:rt=>tt("back",rt),onRemoveImage:rt=>ot("back",rt),onViewImage:et,placeholder:"Optional context or explanation...",isEditing:h,onSave:()=>nt({stopPropagation:()=>{}})})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-white dark:bg-transparent",children:jsxRuntimeExports.jsx(ContentArea,{label:"Front",value:h?b.front||"":e.front,onCommit:rt=>j("front",rt),images:h?b.frontImages||[]:e.frontImages||[],onAddImage:rt=>tt("front",rt),onRemoveImage:rt=>ot("front",rt),onViewImage:et,placeholder:"Question...",isEditing:h,onSave:()=>nt({stopPropagation:()=>{}})})}),jsxRuntimeExports.jsx("div",{className:"p-3 bg-slate-50/50 dark:bg-slate-800/50",children:jsxRuntimeExports.jsx(ContentArea,{label:"Back",value:h?b.back||"":e.back,onCommit:rt=>j("back",rt),images:h?b.backImages||[]:e.backImages||[],onAddImage:rt=>tt("back",rt),onRemoveImage:rt=>ot("back",rt),onViewImage:et,placeholder:"Answer...",isEditing:h,onSave:()=>nt({stopPropagation:()=>{}})})})]})}),e.tags&&e.tags.length>0&&!h&&jsxRuntimeExports.jsx("div",{className:"px-3 py-2 border-t bg-muted/10 flex flex-wrap gap-1",children:e.tags.map((rt,ct)=>jsxRuntimeExports.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 bg-secondary text-secondary-foreground rounded border",children:["#",rt]},ct))}),h&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 px-3 py-2 bg-muted/30 border-t animate-in slide-in-from-top-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase",children:"Tags:"}),jsxRuntimeExports.jsx(TagInput,{tags:b.tags||[],onChange:rt=>j("tags",rt),onSave:()=>nt({stopPropagation:()=>{}})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:rt=>{rt.stopPropagation(),j("type",b.type==="basic"?"cloze":"basic")},className:"text-xs flex items-center gap-1 text-muted-foreground hover:text-primary",children:[jsxRuntimeExports.jsx(Type,{size:12}),b.type==="basic"?"To Cloze":"To Basic"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:st,className:"text-xs flex items-center gap-1 px-2 py-1 rounded hover:bg-slate-200 text-muted-foreground",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:nt,className:"text-xs flex items-center gap-1 px-3 py-1 rounded bg-primary text-primary-foreground hover:bg-primary/90 font-medium",children:[jsxRuntimeExports.jsx(Check,{size:12}),"Save"]})]})]})]})]}),$&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-8 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>et(null),children:[jsxRuntimeExports.jsx("img",{src:$,className:"max-w-full max-h-full rounded shadow-2xl",alt:"Full View"}),jsxRuntimeExports.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-red-400 bg-black/50 rounded-full p-2",children:jsxRuntimeExports.jsx(X,{size:24})})]})]})}function SortableFlashcard({card:e,...s}){const{editingCardId:i}=useAppStore(),o=i===e.id,{attributes:a,listeners:c,setNodeRef:d,transform:h,transition:g,isDragging:b}=useSortable({id:e.id,disabled:o}),_={transform:CSS$1.Transform.toString(h),transition:g,opacity:b?.5:1,zIndex:b?50:"auto"};return jsxRuntimeExports.jsx("div",{ref:d,style:_,...a,...o?{}:c,children:jsxRuntimeExports.jsx(Flashcard,{card:e,...s})})}function CardGraph(){var Mt,Rt;const{cards:e,isProcessing:s,pdfFile:i,updateCard:o,removeCard:a,createManualCard:c,activePage:d,currentPage:h,setActivePage:g,generateCardsFromPage:b,setCurrentPage:_,selectedCardIds:$,clearSelection:et,reorderCards:_e,toggleCardSelection:st,importCards:nt,annotations:it,stats:j}=useAppStore(),tt=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:8}}),useSensor(KeyboardSensor,{coordinateGetter:sortableKeyboardCoordinates})),ot=()=>{confirm(`Delete ${$.length} cards?`)&&($.forEach(Et=>a(Et)),et())},lt=async()=>{if(e.length===0)return;const Et={cards:e,annotations:it,stats:j,currentPage:h,activePage:d};await exportProjectZip(e,i==null?void 0:i.name,Et)},rt=reactExports.useRef(null),ct=()=>{var Et;return(Et=rt.current)==null?void 0:Et.click()},at=async Et=>{var vt;const yt=(vt=Et.target.files)==null?void 0:vt[0];if(yt)try{const St=await importProjectZip(yt);St&&St.cards&&(nt(St.cards),alert(`Imported ${St.cards.length} cards successfully.`))}catch(St){console.error("Import failed:",St),alert("Failed to import project: "+St.message)}finally{rt.current&&(rt.current.value="")}},ut=reactExports.useRef(null),ft=reactExports.useRef(!1),Ct=reactExports.useRef(null),xt=e.reduce((Et,yt)=>{const vt=yt.pageNumber||"Unsorted";return Et[vt]||(Et[vt]=[]),Et[vt].push(yt),Et},{}),pt=Object.keys(xt).sort((Et,yt)=>Et==="Unsorted"?-1:yt==="Unsorted"?1:Number(Et)-Number(yt));reactExports.useEffect(()=>{if(d&&ut.current){const Et=document.getElementById(`card-group-${d}`);if(Et){ft.current=!0,Ct.current=null;const yt=Et.offsetHeight<window.innerHeight-150;Et.scrollIntoView({behavior:"smooth",block:yt?"center":"start"}),setTimeout(()=>{ft.current=!1,ut.current&&(Ct.current=ut.current.scrollTop)},800)}}},[d]);const _t=reactExports.useRef(s);reactExports.useEffect(()=>{if(_t.current&&!s&&d){const Et=document.getElementById(`card-group-${d}`);if(Et){ft.current=!0,Ct.current=null;const yt=Et.offsetHeight<window.innerHeight-150;Et.scrollIntoView({behavior:"smooth",block:yt?"center":"start"}),setTimeout(()=>{ft.current=!1,ut.current&&(Ct.current=ut.current.scrollTop)},800)}}_t.current=s},[s,d]);const mt=Et=>{const{active:yt,over:vt}=Et;if(!vt)return;const St=yt.id,jt=vt.id;if(St!==jt){const Ft=e.findIndex($t=>$t.id===St),Lt=e.findIndex($t=>$t.id===jt);if(Ft!==-1&&Lt!==-1){const $t=e[Ft],Gt=e[Lt];$t.pageNumber!==Gt.pageNumber&&o(St,{pageNumber:Gt.pageNumber}),_e(Ft,Lt)}}},Pt=Et=>{},Ut=Et=>{if(ft.current||!d)return;const yt=Et.target.scrollTop;if(Ct.current===null){Ct.current=yt;return}Math.abs(yt-Ct.current)>150&&(console.log("Exiting focus mode via scroll"),g(null),Ct.current=null)},Tt=(Et="basic")=>{const yt=d||h||1;c(yt,Et),setTimeout(()=>{const vt=document.getElementById(`card-group-${yt}`);vt&&!ft.current&&(ft.current=!0,vt.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>ft.current=!1,800))},100)},Ot=()=>{s||b(d||h||1)},At=Et=>{if(Et!=="Unsorted"){const yt=Number(Et);_(yt),g(yt)}};return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-950",children:[jsxRuntimeExports.jsx("input",{type:"file",ref:rt,onChange:at,accept:".zip",className:"hidden"}),jsxRuntimeExports.jsx(DndContext,{sensors:tt,collisionDetection:closestCenter,onDragOver:mt,onDragEnd:Pt,children:jsxRuntimeExports.jsxs("div",{ref:ut,onScroll:Ut,className:"flex-1 overflow-y-auto p-6 space-y-8 scroll-smooth",children:[jsxRuntimeExports.jsx("div",{className:"h-[40vh]"}),s&&jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-50 w-full bg-primary/10 backdrop-blur border-b border-primary/20 p-2 flex items-center justify-center gap-2 text-primary animate-in slide-in-from-top",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Processing..."})]}),e.length===0&&!s&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground opacity-50 py-12",children:[jsxRuntimeExports.jsx(Layers,{className:"w-12 h-12 mb-4 opacity-50"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"No cards yet"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Select a PDF page to generate flashcards"})]}),jsxRuntimeExports.jsx(SortableContext,{items:e.map(Et=>Et.id),strategy:rectSortingStrategy,children:pt.map(Et=>jsxRuntimeExports.jsxs("div",{id:`card-group-${Et}`,className:cn("transition-all duration-500 w-full",d&&String(d)!==String(Et)?"opacity-30 blur-[2px] grayscale":"opacity-100 scale-100"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-4 group cursor-pointer",onClick:()=>At(Et),children:[jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-border group-hover:bg-primary/50 transition-colors"}),jsxRuntimeExports.jsx("span",{className:cn("text-xs font-bold text-muted-foreground uppercase tracking-wider bg-secondary/50 px-3 py-1 rounded-full transition-colors","group-hover:bg-primary group-hover:text-primary-foreground"),children:Et==="Unsorted"?"General":`Page ${Et}`}),jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-border group-hover:bg-primary/50 transition-colors"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-4 justify-center items-start",children:xt[Et].map(yt=>jsxRuntimeExports.jsx("div",{className:"w-full max-w-[320px] flex-grow-0 flex-shrink-0",children:jsxRuntimeExports.jsx(SortableFlashcard,{card:yt,onUpdate:o,onDelete:a})},yt.id))})]},Et))}),jsxRuntimeExports.jsx("div",{className:"h-[40vh]"})]})}),$.length>0?jsxRuntimeExports.jsxs("div",{className:"h-20 border-t bg-blue-50/90 dark:bg-blue-900/50 backdrop-blur-md flex items-center justify-between px-8 sticky bottom-0 z-40 animate-in slide-in-from-bottom",children:[jsxRuntimeExports.jsxs("span",{className:"font-bold text-blue-700 dark:text-blue-100",children:[$.length," Selected"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:et,className:"px-4 py-2 text-sm font-medium hover:bg-black/5 rounded",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:()=>{const Et=prompt("Enter tags to add (comma separated):");if(Et){const yt=Et.split(",").map(vt=>vt.trim()).filter(Boolean);yt.length>0&&(useAppStore.getState().addTagsToCards($,yt),et())}},className:"bg-indigo-600 text-white px-5 py-2 rounded-full shadow hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Hash,{size:16}),"Add Tags"]}),jsxRuntimeExports.jsxs("button",{onClick:ot,className:"bg-destructive text-white px-6 py-2 rounded-full shadow hover:bg-destructive/90 transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Trash2,{size:16}),"Delete Selected"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"h-20 border-t bg-background/80 backdrop-blur-md flex items-center justify-center gap-4 px-8 sticky bottom-0 z-40",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Tt("basic"),className:"flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2.5 rounded-l-full font-medium hover:bg-secondary/80 transition-colors shadow-sm active:scale-95 text-sm border-r border-border",title:"Add a Basic card (Front/Back)",children:[jsxRuntimeExports.jsx(FilePlus,{size:16}),"Basic"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Tt("cloze"),className:"flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2.5 rounded-r-full font-medium hover:bg-secondary/80 transition-colors shadow-sm active:scale-95 text-sm",title:"Add a Cloze card (Fill in the blank)",children:[jsxRuntimeExports.jsx(FileType,{size:16}),"Cloze"]})]}),jsxRuntimeExports.jsx("div",{className:"h-8 w-px bg-border mx-2"}),jsxRuntimeExports.jsxs("button",{onClick:Ot,disabled:!d&&!h||!(((Mt=xt[d||h])==null?void 0:Mt.length)>0),className:"flex items-center gap-2 bg-[var(--primary-soft)] text-primary px-5 py-2.5 rounded-full font-medium hover:opacity-90 transition-all shadow-md active:scale-95 text-sm mr-auto disabled:opacity-50 disabled:cursor-not-allowed",title:((Rt=xt[d||h])==null?void 0:Rt.length)>0?"Ask AI to generate more cards from this page":"No cards on this page yet",children:[jsxRuntimeExports.jsx(BrainCircuit,{size:16}),"Generate More"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:ct,className:"flex items-center gap-2 bg-secondary text-secondary-foreground px-4 py-2.5 rounded-l-full font-medium hover:bg-secondary/80 transition-colors shadow-sm active:scale-95 text-sm border-r border-border",title:"Import project from ZIP",children:[jsxRuntimeExports.jsx(Upload,{size:16}),"Import"]}),jsxRuntimeExports.jsxs("button",{onClick:lt,className:"flex items-center gap-2 bg-primary text-primary-foreground px-6 py-2.5 rounded-r-full font-medium hover:bg-primary/90 transition-colors shadow-lg shadow-primary/20 active:scale-95 text-sm",children:[jsxRuntimeExports.jsx(Download,{size:16}),"Export"]})]})]})]})}function Dashboard(){const{recentFiles:e,stats:s,setPdfFile:i,setActiveTab:o,userSettings:a,openProject:c,storedFiles:d}=useAppStore(),h=a.clozePalette||["#3b82f6","#ef4444","#22c55e","#a855f7"],[g,b]=React$2.useState(!1),_={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},$={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},et=g?e:e.slice(0,3);return jsxRuntimeExports.jsx("div",{className:"flex-1 h-full overflow-y-auto bg-background p-8 md:p-12",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto space-y-16",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center space-y-6",style:{paddingTop:"30vh"},children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl md:text-6xl font-bold tracking-tight text-foreground",children:"Welcome back"}),jsxRuntimeExports.jsxs("p",{className:"text-xl text-muted-foreground",children:["You've created ",jsxRuntimeExports.jsxs("span",{className:"font-semibold text-primary",children:[s.totalCards||0," cards"]})," across ",jsxRuntimeExports.jsxs("span",{className:"font-semibold text-primary",children:[(d==null?void 0:d.length)||0," knowledge sources"]}),"."]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{i(null),o("workspace")},className:"inline-flex items-center gap-2 px-6 py-3 rounded-full bg-primary text-primary-foreground font-medium shadow-lg hover:bg-primary/90 transition-all hover:scale-105",children:[jsxRuntimeExports.jsx(FileText,{size:20}),"Open New PDF to Study"]})]}),jsxRuntimeExports.jsxs(motion.div,{variants:_,initial:"hidden",animate:"show",className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(StatsCard,{icon:Layers,label:"Total Cards",value:s.totalCards,colorHex:h[0],theme:useAppStore.getState().theme}),jsxRuntimeExports.jsx(StatsCard,{icon:FileText,label:"Documents",value:(d==null?void 0:d.length)||0,colorHex:h[1],theme:useAppStore.getState().theme}),jsxRuntimeExports.jsx(StatsCard,{icon:TrendingUp,label:"Day Streak",value:s.streakDays,colorHex:h[2],theme:useAppStore.getState().theme}),jsxRuntimeExports.jsx(StatsCard,{icon:Clock,label:"Study Hours",value:((s.studySeconds||0)/3600).toFixed(1),colorHex:h[3],theme:useAppStore.getState().theme})]}),jsxRuntimeExports.jsxs(motion.div,{variants:$,initial:"hidden",animate:"show",className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Recent Libraries"}),e.length>3&&jsxRuntimeExports.jsx("button",{onClick:()=>b(!g),className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:g?"Show Less":"See More"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-2",children:e.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-muted-foreground italic",children:"No recent files found."}):et.map(_e=>jsxRuntimeExports.jsxs("button",{onClick:()=>c(_e.name),className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors border border-transparent hover:border-border text-left group",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 shrink-0 rounded bg-red-100 dark:bg-red-900/20 text-red-600 flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-foreground truncate",children:_e.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(_e.date).toLocaleDateString()})]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity",children:"Open "})]},_e.id||_e.name))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 pt-8 pb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground text-center",children:"Activity Heatmap"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(HeatmapCalendar,{})})]})]})})}function getYearDates(){const e=[],s=new Date().getFullYear(),i=new Date(Date.UTC(s,0,1)),o=new Date(Date.UTC(s,11,31));for(let a=new Date(i);a<=o;a.setUTCDate(a.getUTCDate()+1))e.push(a.toISOString().split("T")[0]);return e}function HeatmapCalendar(){const{stats:e}=useAppStore(),s=getYearDates(),i=e.activity||{},o=h=>h?h>=10?"bg-primary opacity-100":h>=5?"bg-primary opacity-80":h>=3?"bg-primary opacity-60":"bg-primary opacity-40":"bg-slate-200 dark:bg-slate-800",d=(new Date(s[0]).getDay()+6)%7;return jsxRuntimeExports.jsx("div",{className:"flex gap-1 overflow-x-auto p-2 custom-scrollbar",children:Array.from({length:54}).map((h,g)=>jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:7}).map((b,_)=>{const et=g*7+_-d;if(et<0||et>=s.length)return jsxRuntimeExports.jsx("div",{className:"w-2.5 h-2.5"},`${g}-${_}`);const _e=s[et],st=i[_e]||0,nt=o(st);return jsxRuntimeExports.jsx("div",{className:cn("w-2.5 h-2.5 rounded-sm transition-all hover:ring-1 hover:ring-offset-1 ring-primary",nt),title:`${_e}: ${st} cards`},_e)})},g))})}function StatsCard({icon:e,label:s,value:i,colorHex:o,theme:a}){const c=a==="dark";return jsxRuntimeExports.jsxs("div",{className:"bg-card p-4 rounded-xl border border-border shadow-sm flex flex-col items-center text-center gap-2 hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg transition-colors border",style:{borderColor:c?o:"transparent",backgroundColor:c?"transparent":`${o}25`,color:o},children:jsxRuntimeExports.jsx(e,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-foreground",children:i}),jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:s})]})]})}function PaletteEditor({isOpen:e,onClose:s,currentPalette:i,onSave:o}){const[a,c]=reactExports.useState(i),[d,h]=reactExports.useState(i.join(", "));if(reactExports.useEffect(()=>{c(i),h(i.join(", "))},[i,e]),!e)return null;const g=_=>{h(_.target.value);const $=_.target.value.match(/#[0-9a-fA-F]{6}/g);$&&$.length===5&&c($)},b=()=>{const _=/^#[0-9a-fA-F]{6}$/;if(a.every(et=>_.test(et))&&a.length===5)o(a),s();else{const et=d.match(/#[0-9a-fA-F]{6}/g);et&&et.length===5?(o(et),s()):alert("Please ensure exactly 5 valid HEX codes (e.g. #ff0000).")}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-md border border-slate-200 dark:border-slate-800 animate-in fade-in zoom-in-95 duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-800",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:"Edit Palette"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X,{size:18})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between gap-2",children:a.map((_,$)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm ring-1 ring-slate-200 dark:ring-slate-700",style:{backgroundColor:_}}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-mono text-muted-foreground",children:$+1})]},$))}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Hex Codes (Comma Separated)"}),jsxRuntimeExports.jsx("textarea",{value:d,onChange:g,className:"w-full h-24 p-3 bg-slate-50 dark:bg-slate-950 border rounded-lg font-mono text-sm resize-none focus:ring-2 ring-primary focus:outline-none",placeholder:"#123456, #abcdef, ..."}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:jsxRuntimeExports.jsxs("span",{className:a.length===5?"text-green-500":"text-amber-500",children:["Found ",a.length,"/5 colors"]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-slate-800 rounded-b-xl flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:b,className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 rounded-lg transition-colors flex items-center gap-2 shadow-sm",children:[jsxRuntimeExports.jsx(Save,{size:14})," Save Changes"]})]})]})})}function Settings(){var et,_e,st,nt,it,j,tt,ot,lt,rt,ct,at,ut,ft,Ct,xt,pt,_t,mt,Pt,Ut,Tt,Ot,At,Mt,Rt,Et,yt,vt,St,jt,Ft,Lt,$t,Gt,Yt,Jt,an,ht,Wt,kt,wt,dt;const[e,s]=React$2.useState(!1),[i,o]=React$2.useState(null),{theme:a,toggleTheme:c,llmConfig:d,setLlmConfig:h,updateModelConfig:g,setDefaultBackend:b,userSettings:_,updateSettings:$}=useAppStore();return jsxRuntimeExports.jsx("div",{className:"flex-1 h-full overflow-y-auto bg-slate-50 dark:bg-slate-950 p-8 md:p-12",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto space-y-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 pb-4 border-b",children:"Settings"}),jsxRuntimeExports.jsxs("section",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Monitor,{size:20})," Appearance"]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Theme Mode"}),jsxRuntimeExports.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>a==="dark"&&c(),className:cn("px-4 py-2 rounded-md text-sm font-medium transition-all",a==="light"?"bg-white shadow text-slate-900":"text-slate-500"),children:[jsxRuntimeExports.jsx(Sun,{size:16,className:"inline mr-2"})," Light"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>a==="light"&&c(),className:cn("px-4 py-2 rounded-md text-sm font-medium transition-all",a==="dark"?"bg-slate-700 shadow text-slate-100":"text-slate-500"),children:[jsxRuntimeExports.jsx(Moon,{size:16,className:"inline mr-2"})," Dark"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Accent Color"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx("div",{className:"flex gap-2 border-r pr-4 border-slate-200 dark:border-slate-700",children:[{id:"blue",hex:"#3b82f6"},{id:"violet",hex:"#8b5cf6"},{id:"green",hex:"#22c55e"},{id:"orange",hex:"#f97316"}].map(bt=>jsxRuntimeExports.jsx("button",{onClick:()=>$({themeColor:bt.id}),className:cn("w-8 h-8 rounded-full border-2 transition-all hover:scale-110",_.themeColor===bt.id?"border-slate-900 dark:border-white scale-110 shadow-sm":"border-transparent opacity-60 hover:opacity-100"),style:{backgroundColor:bt.hex},title:bt.id.charAt(0).toUpperCase()+bt.id.slice(1)},bt.id))}),jsxRuntimeExports.jsx("div",{className:"flex gap-4 items-center border-l pl-4 border-slate-200 dark:border-slate-700",children:(_.customPresets||[{id:"custom-1",light:"#3b82f6",dark:"#60a5fa"},{id:"custom-2",light:"#facc15",dark:"#eab308"},{id:"custom-3",light:"#a78bfa",dark:"#8b5cf6"}]).map((bt,Dt)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-1 group relative",children:[jsxRuntimeExports.jsx("div",{className:cn("relative w-8 h-8 rounded-full overflow-hidden border-2 shadow-sm hover:scale-105 transition-transform cursor-pointer",_.themeColor===bt.id?"border-slate-900 dark:border-white scale-110":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"),onClick:()=>{_.themeColor===bt.id?o(Bt=>Bt===bt.id?null:bt.id):($({themeColor:bt.id}),o(null))},title:`Custom Preset ${Dt+1}`,children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${bt.light} 50%, ${bt.dark} 50%)`}})}),jsxRuntimeExports.jsxs("span",{className:cn("text-[10px] uppercase font-bold transition-colors",_.themeColor===bt.id?"text-primary":"text-muted-foreground"),children:["Custom ",Dt+1]}),jsxRuntimeExports.jsxs("div",{className:cn("absolute top-full mt-2 left-1/2 -translate-x-1/2 bg-white dark:bg-slate-800 p-2 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 z-[100] flex gap-3 transition-all",i===bt.id?"visible opacity-100 translate-y-0":"invisible opacity-0 -translate-y-2 pointer-events-none"),children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-8 h-8 rounded-full overflow-hidden ring-1 ring-slate-200 dark:ring-slate-600",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundColor:bt.light}}),jsxRuntimeExports.jsx("input",{type:"color",value:bt.light,onChange:Bt=>{const It=_.customPresets.map(Kt=>Kt.id===bt.id?{...Kt,light:Bt.target.value}:Kt);$({customPresets:It})},className:"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 p-0 border-0 cursor-pointer opacity-0"})]}),jsxRuntimeExports.jsx("span",{className:"text-[9px] font-medium text-slate-500",children:"Light"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-1",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-8 h-8 rounded-full overflow-hidden ring-1 ring-slate-200 dark:ring-slate-600",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundColor:bt.dark}}),jsxRuntimeExports.jsx("input",{type:"color",value:bt.dark,onChange:Bt=>{const It=_.customPresets.map(Kt=>Kt.id===bt.id?{...Kt,dark:Bt.target.value}:Kt);$({customPresets:It})},className:"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 p-0 border-0 cursor-pointer opacity-0"})]}),jsxRuntimeExports.jsx("span",{className:"text-[9px] font-medium text-slate-500",children:"Dark"})]})]})]},bt.id))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-100 dark:border-slate-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Manual Snapshot Scale"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Resolution for camera tool (Clipboard). Default: 3.0."})]}),jsxRuntimeExports.jsx("input",{type:"number",min:"1.0",max:"5.0",step:"0.5",value:_.snapshotScaleManual||3,onChange:bt=>$({snapshotScaleManual:parseFloat(bt.target.value)}),className:"w-20 px-2 py-1 text-sm border rounded bg-slate-50 dark:bg-slate-950 font-mono text-center"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Auto-Gen Snapshot Scale"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Resolution for Card Generation. Higher = clearer AI vision. Default: 3.0."})]}),jsxRuntimeExports.jsx("input",{type:"number",min:"1.0",max:"5.0",step:"0.5",value:_.snapshotScaleAuto||3,onChange:bt=>$({snapshotScaleAuto:parseFloat(bt.target.value)}),className:"w-20 px-2 py-1 text-sm border rounded bg-slate-50 dark:bg-slate-950 font-mono text-center"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-100 dark:border-slate-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Card Color Palette"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Define colors for Basic cards (1) and Cloze deletions (2-5)."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{className:"text-xs px-3 py-1.5 rounded-md bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-1.5 text-slate-600 dark:text-slate-300",onClick:()=>$({clozePalette:["#3b82f6","#ef4444","#22c55e","#eab308","#a855f7"]}),children:[jsxRuntimeExports.jsx(RefreshCcw,{size:12})," Revert"]}),jsxRuntimeExports.jsxs("button",{className:"text-xs px-3 py-1.5 rounded-md bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-1.5 text-slate-600 dark:text-slate-300",onClick:()=>s(!0),children:[jsxRuntimeExports.jsx(PenLine,{size:12})," Edit Hex"]})]})]}),jsxRuntimeExports.jsx(PaletteEditor,{isOpen:e,onClose:()=>s(!1),currentPalette:_.clozePalette||["#3b82f6","#ef4444","#22c55e","#eab308","#a855f7"],onSave:bt=>$({clozePalette:bt})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:[{name:"Vibrant",colors:["#3b82f6","#ef4444","#22c55e","#eab308","#a855f7"]},{name:"Pastel",colors:["#93c5fd","#fca5a5","#86efac","#fde047","#d8b4fe"]},{name:"Neon",colors:["#00f2ff","#ff0055","#39ff14","#ffff00","#b026ff"]},{name:"Dark",colors:["#1e40af","#991b1b","#166534","#854d0e","#6b21a8"]}].map(bt=>jsxRuntimeExports.jsxs("button",{onClick:()=>$({clozePalette:bt.colors}),className:"px-3 py-1.5 rounded-lg border text-xs font-medium hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center gap-2 group",children:[jsxRuntimeExports.jsx("div",{className:"flex -space-x-1",children:bt.colors.map((Dt,Bt)=>jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full ring-1 ring-white dark:ring-slate-900",style:{backgroundColor:Dt}},Bt))}),bt.name]},bt.name))}),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 flex gap-4 items-center overflow-x-auto",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mr-2 shrink-0",children:"Custom"}),[0,1,2,3,4].map(bt=>{var Dt;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-1 group",children:[jsxRuntimeExports.jsx("div",{className:"relative w-10 h-10 rounded-full overflow-hidden ring-2 ring-white dark:ring-slate-900 shadow-sm hover:scale-110 transition-transform cursor-pointer",children:jsxRuntimeExports.jsx("input",{type:"color",value:((Dt=_.clozePalette)==null?void 0:Dt[bt])||["#3b82f6","#ef4444","#22c55e","#eab308","#a855f7"][bt],onChange:Bt=>{const It=[..._.clozePalette||["#3b82f6","#ef4444","#22c55e","#eab308","#a855f7"]];It[bt]=Bt.target.value,$({clozePalette:It})},className:"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 p-0 border-0 cursor-pointer"})}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-mono text-muted-foreground select-none group-hover:text-primary transition-colors",children:bt+1})]},bt)})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{size:20})," AI Configuration"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border p-5 space-y-4 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>b("openai"),className:cn("w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors",d.defaultBackend==="openai"?"border-primary bg-primary":"border-slate-300 dark:border-slate-600 hover:border-slate-400"),children:d.defaultBackend==="openai"&&jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-base",children:"OpenAI"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>o(i==="openai-prompt"?null:"openai-prompt"),className:"text-xs flex items-center gap-1.5 text-slate-500 bg-slate-100 hover:text-slate-700 hover:bg-slate-200 dark:text-slate-400 dark:bg-slate-800 dark:hover:bg-slate-700 transition-colors font-medium px-3 py-1.5 rounded-md",children:[jsxRuntimeExports.jsx(PenLine,{size:12}),i==="openai-prompt"?"Close Prompt":"Default Prompt"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Model ID"}),jsxRuntimeExports.jsx("input",{type:"text",value:((_e=(et=d.models)==null?void 0:et.openai)==null?void 0:_e.id)||"gpt-4o",onChange:bt=>g("openai","id",bt.target.value),className:"w-full px-2.5 py-1.5 text-sm bg-slate-50 dark:bg-slate-950 border rounded-md font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Display Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:((nt=(st=d.models)==null?void 0:st.openai)==null?void 0:nt.name)||"OpenAI GPT-4o",onChange:bt=>g("openai","name",bt.target.value),className:"w-full px-2.5 py-1.5 text-sm bg-slate-50 dark:bg-slate-950 border rounded-md"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500",children:"API Key"}),jsxRuntimeExports.jsx("input",{type:"password",value:d.openaiKey||"",onChange:bt=>h({openaiKey:bt.target.value}),placeholder:"sk-...",className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-950 border rounded-md font-mono text-sm"})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsxs("details",{className:"group",children:[jsxRuntimeExports.jsxs("summary",{className:"text-xs font-medium text-slate-500 cursor-pointer hover:text-primary list-none flex items-center gap-1",children:[jsxRuntimeExports.jsx(ChevronRight,{size:12,className:"group-open:rotate-90 transition-transform"}),"Fallback Configuration"]}),jsxRuntimeExports.jsx("div",{className:"pl-4 pt-2 space-y-3 border-l-2 border-slate-100 dark:border-slate-800 ml-1 mt-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1 w-16 shrink-0",children:[jsxRuntimeExports.jsx("label",{className:"text-xs block whitespace-nowrap text-slate-500",children:"Retries"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",max:"5",value:((j=(it=d.models)==null?void 0:it.openai)==null?void 0:j.retries)??1,onChange:bt=>g("openai","retries",parseInt(bt.target.value)),className:"w-full px-2 py-1 text-xs border rounded bg-slate-50 dark:bg-slate-950 font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 flex-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs block text-slate-500",children:"Fallback Sequence (comma separated IDs):"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"model-id-1, model-id-2",value:((lt=(ot=(tt=d.models)==null?void 0:tt.openai)==null?void 0:ot.fallbacks)==null?void 0:lt.join(", "))||"",onChange:bt=>g("openai","fallbacks",bt.target.value.split(",").map(Dt=>Dt.trim())),className:"w-full px-2 py-1 text-xs border rounded bg-slate-50 dark:bg-slate-950 font-mono"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Models to try in order if the primary fails."})]})]})})]})}),i==="openai-prompt"&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-4 border-t animate-in fade-in slide-in-from-top-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:"Default System Prompt"}),jsxRuntimeExports.jsx("button",{onClick:()=>$({defaultPrompts:{..._.defaultPrompts,openai:null}}),className:"text-[10px] text-red-500 hover:underline",children:"Reset to Default"})]}),jsxRuntimeExports.jsx("textarea",{value:((rt=_.defaultPrompts)==null?void 0:rt.openai)??DEFAULT_PROMPT_OPENAI,onChange:bt=>$({defaultPrompts:{..._.defaultPrompts,openai:bt.target.value}}),className:"w-full h-48 p-3 text-xs font-mono bg-slate-50 dark:bg-slate-950 border rounded-md focus:ring-1 ring-primary resize-y focus:outline-none leading-relaxed"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border p-5 space-y-4 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>b("gemini"),className:cn("w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors",d.defaultBackend==="gemini"?"border-primary bg-primary":"border-slate-300 dark:border-slate-600 hover:border-slate-400"),children:d.defaultBackend==="gemini"&&jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-base",children:"Gemini"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>o(i==="gemini-prompt"?null:"gemini-prompt"),className:"text-xs flex items-center gap-1.5 text-slate-500 bg-slate-100 hover:text-slate-700 hover:bg-slate-200 dark:text-slate-400 dark:bg-slate-800 dark:hover:bg-slate-700 transition-colors font-medium px-3 py-1.5 rounded-md",children:[jsxRuntimeExports.jsx(PenLine,{size:12}),i==="gemini-prompt"?"Close Prompt":"Default Prompt"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Model ID"}),jsxRuntimeExports.jsx("input",{type:"text",value:((at=(ct=d.models)==null?void 0:ct.gemini)==null?void 0:at.id)||"gemini-1.5-pro",onChange:bt=>g("gemini","id",bt.target.value),className:"w-full px-2.5 py-1.5 text-sm bg-slate-50 dark:bg-slate-950 border rounded-md font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Display Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:((ft=(ut=d.models)==null?void 0:ut.gemini)==null?void 0:ft.name)||"Gemini 3 Pro (Preview)",onChange:bt=>g("gemini","name",bt.target.value),className:"w-full px-2.5 py-1.5 text-sm bg-slate-50 dark:bg-slate-950 border rounded-md"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500",children:"API Key"}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"AIzaSy...",value:d.geminiKey||"",onChange:bt=>h({geminiKey:bt.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-950 border rounded-md font-mono text-sm"})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsxs("details",{className:"group",children:[jsxRuntimeExports.jsxs("summary",{className:"text-xs font-medium text-slate-500 cursor-pointer hover:text-primary list-none flex items-center gap-1",children:[jsxRuntimeExports.jsx(ChevronRight,{size:12,className:"group-open:rotate-90 transition-transform"}),"Fallback Configuration"]}),jsxRuntimeExports.jsx("div",{className:"pl-4 pt-2 space-y-3 border-l-2 border-slate-100 dark:border-slate-800 ml-1 mt-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1 w-16 shrink-0",children:[jsxRuntimeExports.jsx("label",{className:"text-xs block whitespace-nowrap text-slate-500",children:"Retries"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",max:"5",value:((xt=(Ct=d.models)==null?void 0:Ct.gemini)==null?void 0:xt.retries)??1,onChange:bt=>g("gemini","retries",parseInt(bt.target.value)),className:"w-full px-2 py-1 text-xs border rounded bg-slate-50 dark:bg-slate-950 font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 flex-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs block text-slate-500",children:"Fallback Sequence (comma separated IDs):"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"model-id-1, model-id-2",value:((mt=(_t=(pt=d.models)==null?void 0:pt.gemini)==null?void 0:_t.fallbacks)==null?void 0:mt.join(", "))||"",onChange:bt=>g("gemini","fallbacks",bt.target.value.split(",").map(Dt=>Dt.trim())),className:"w-full px-2 py-1 text-xs border rounded bg-slate-50 dark:bg-slate-950 font-mono"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Models to try in order if the primary fails."})]})]})})]})}),i==="gemini-prompt"&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-4 border-t animate-in fade-in slide-in-from-top-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:"Default System Prompt"}),jsxRuntimeExports.jsx("button",{onClick:()=>$({defaultPrompts:{..._.defaultPrompts,gemini:null}}),className:"text-[10px] text-red-500 hover:underline",children:"Reset to Default"})]}),jsxRuntimeExports.jsx("textarea",{value:((Pt=_.defaultPrompts)==null?void 0:Pt.gemini)??DEFAULT_PROMPT_GEMINI,onChange:bt=>$({defaultPrompts:{..._.defaultPrompts,gemini:bt.target.value}}),className:"w-full h-48 p-3 text-xs font-mono bg-slate-50 dark:bg-slate-900 border rounded-md focus:ring-1 ring-primary resize-y focus:outline-none leading-relaxed"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border p-5 space-y-4 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>b("anthropic"),className:cn("w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors",d.defaultBackend==="anthropic"?"border-primary bg-primary":"border-slate-300 dark:border-slate-600 hover:border-slate-400"),children:d.defaultBackend==="anthropic"&&jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-base",children:"Anthropic"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>o(i==="anthropic-prompt"?null:"anthropic-prompt"),className:"text-xs flex items-center gap-1.5 text-slate-500 bg-slate-100 hover:text-slate-700 hover:bg-slate-200 dark:text-slate-400 dark:bg-slate-800 dark:hover:bg-slate-700 transition-colors font-medium px-3 py-1.5 rounded-md",children:[jsxRuntimeExports.jsx(PenLine,{size:12}),i==="anthropic-prompt"?"Close Prompt":"Default Prompt"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Model ID"}),jsxRuntimeExports.jsx("input",{type:"text",value:((Tt=(Ut=d.models)==null?void 0:Ut.anthropic)==null?void 0:Tt.id)||"claude-3-5-sonnet-20240620",onChange:bt=>g("anthropic","id",bt.target.value),className:"w-full px-2.5 py-1.5 text-sm bg-slate-50 dark:bg-slate-950 border rounded-md font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Display Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:((At=(Ot=d.models)==null?void 0:Ot.anthropic)==null?void 0:At.name)||"Claude 3.5 Sonnet",onChange:bt=>g("anthropic","name",bt.target.value),className:"w-full px-2.5 py-1.5 text-sm bg-slate-50 dark:bg-slate-950 border rounded-md"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500",children:"API Key"}),jsxRuntimeExports.jsx("input",{type:"password",value:d.anthropicKey||"",onChange:bt=>h({anthropicKey:bt.target.value}),placeholder:"sk-ant-...",className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-950 border rounded-md font-mono text-sm"})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsxs("details",{className:"group",children:[jsxRuntimeExports.jsxs("summary",{className:"text-xs font-medium text-slate-500 cursor-pointer hover:text-primary list-none flex items-center gap-1",children:[jsxRuntimeExports.jsx(ChevronRight,{size:12,className:"group-open:rotate-90 transition-transform"}),"Fallback Configuration"]}),jsxRuntimeExports.jsx("div",{className:"pl-4 pt-2 space-y-3 border-l-2 border-slate-100 dark:border-slate-800 ml-1 mt-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1 w-16 shrink-0",children:[jsxRuntimeExports.jsx("label",{className:"text-xs block whitespace-nowrap text-slate-500",children:"Retries"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",max:"5",value:((Rt=(Mt=d.models)==null?void 0:Mt.anthropic)==null?void 0:Rt.retries)??1,onChange:bt=>g("anthropic","retries",parseInt(bt.target.value)),className:"w-full px-2 py-1 text-xs border rounded bg-slate-50 dark:bg-slate-950 font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 flex-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs block text-slate-500",children:"Fallback Sequence (comma separated IDs):"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"model-id-1, model-id-2",value:((vt=(yt=(Et=d.models)==null?void 0:Et.anthropic)==null?void 0:yt.fallbacks)==null?void 0:vt.join(", "))||"",onChange:bt=>g("anthropic","fallbacks",bt.target.value.split(",").map(Dt=>Dt.trim())),className:"w-full px-2 py-1 text-xs border rounded bg-slate-50 dark:bg-slate-950 font-mono"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Models to try in order if the primary fails."})]})]})})]})}),i==="anthropic-prompt"&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-4 border-t animate-in fade-in slide-in-from-top-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:"Default System Prompt"}),jsxRuntimeExports.jsx("button",{onClick:()=>$({defaultPrompts:{..._.defaultPrompts,anthropic:null}}),className:"text-[10px] text-red-500 hover:underline",children:"Reset to Default"})]}),jsxRuntimeExports.jsx("textarea",{value:((St=_.defaultPrompts)==null?void 0:St.anthropic)??DEFAULT_PROMPT_CLAUDE,onChange:bt=>$({defaultPrompts:{..._.defaultPrompts,anthropic:bt.target.value}}),className:"w-full h-48 p-3 text-xs font-mono bg-slate-50 dark:bg-slate-900 border rounded-md focus:ring-1 ring-primary resize-y focus:outline-none leading-relaxed"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border p-5 space-y-4 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>b("local"),className:cn("w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors",d.defaultBackend==="local"?"border-primary bg-primary":"border-slate-300 dark:border-slate-600 hover:border-slate-400"),children:d.defaultBackend==="local"&&jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-base",children:"Local LLM"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o(i==="local-prompt"?null:"local-prompt"),className:"text-xs flex items-center gap-1.5 text-slate-500 bg-slate-100 hover:text-slate-700 hover:bg-slate-200 dark:text-slate-400 dark:bg-slate-800 dark:hover:bg-slate-700 transition-colors font-medium px-3 py-1.5 rounded-md",children:[jsxRuntimeExports.jsx(PenLine,{size:12}),i==="local-prompt"?"Close Prompt":"Default Prompt"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>o(i==="local-schema"?null:"local-schema"),className:"text-xs flex items-center gap-1.5 text-slate-500 bg-slate-100 hover:text-slate-700 hover:bg-slate-200 dark:text-slate-400 dark:bg-slate-800 dark:hover:bg-slate-700 transition-colors font-medium px-3 py-1.5 rounded-md",children:[jsxRuntimeExports.jsx(PenLine,{size:12}),i==="local-schema"?"Close Schema":"Edit Schema"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Base URL"}),jsxRuntimeExports.jsx("input",{type:"text",value:d.localUrl||"http://localhost:1234/v1",onChange:bt=>h({backend:"local",localUrl:bt.target.value}),placeholder:"http://localhost:1234/v1",className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-950 border rounded-md font-mono text-xs"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Model Name / ID"}),jsxRuntimeExports.jsx("input",{type:"text",value:((Ft=(jt=d.models)==null?void 0:jt.local)==null?void 0:Ft.id)||"llama-3.2-11b-vision-instruct",onChange:bt=>{h({backend:"local",localModel:bt.target.value}),g("local","id",bt.target.value)},placeholder:"model-id",className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-950 border rounded-md font-mono text-xs"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Display Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:(($t=(Lt=d.models)==null?void 0:Lt.local)==null?void 0:$t.name)||"Local LLM",onChange:bt=>g("local","name",bt.target.value),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-950 border rounded-md text-xs"})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsxs("details",{className:"group",children:[jsxRuntimeExports.jsxs("summary",{className:"text-xs font-medium text-slate-500 cursor-pointer hover:text-primary list-none flex items-center gap-1",children:[jsxRuntimeExports.jsx(ChevronRight,{size:12,className:"group-open:rotate-90 transition-transform"}),"Fallback Configuration"]}),jsxRuntimeExports.jsx("div",{className:"pl-4 pt-2 space-y-3 border-l-2 border-slate-100 dark:border-slate-800 ml-1 mt-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1 w-16 shrink-0",children:[jsxRuntimeExports.jsx("label",{className:"text-xs block whitespace-nowrap text-slate-500",children:"Retries"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",max:"5",value:((Yt=(Gt=d.models)==null?void 0:Gt.local)==null?void 0:Yt.retries)??1,onChange:bt=>g("local","retries",parseInt(bt.target.value)),className:"w-full px-2 py-1 text-xs border rounded bg-slate-50 dark:bg-slate-950 font-mono"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 flex-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs block text-slate-500",children:"Fallback Sequence (comma separated IDs):"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"openai, gemini",value:((ht=(an=(Jt=d.models)==null?void 0:Jt.local)==null?void 0:an.fallbacks)==null?void 0:ht.join(", "))||"",onChange:bt=>g("local","fallbacks",bt.target.value.split(",").map(Dt=>Dt.trim())),className:"w-full px-2 py-1 text-xs border rounded bg-slate-50 dark:bg-slate-950 font-mono"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Models to try in order if the primary fails."})]})]})})]})}),i==="local-prompt"&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-4 border-t animate-in fade-in slide-in-from-top-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:"Default Structured Prompt (JSON)"}),jsxRuntimeExports.jsx("button",{onClick:()=>$({defaultPrompts:{..._.defaultPrompts,local:null}}),className:"text-[10px] text-red-500 hover:underline",children:"Reset to Default"})]}),jsxRuntimeExports.jsx("textarea",{value:((Wt=_.defaultPrompts)==null?void 0:Wt.local)??DEFAULT_PROMPT_LOCAL,onChange:bt=>$({defaultPrompts:{..._.defaultPrompts,local:bt.target.value}}),className:"w-full h-48 p-3 text-xs font-mono bg-slate-50 dark:bg-slate-900 border rounded-md focus:ring-1 ring-primary resize-y focus:outline-none leading-relaxed"})]}),i==="local-schema"&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-4 border-t animate-in fade-in slide-in-from-top-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:"Detailed JSON Schema"}),jsxRuntimeExports.jsx("button",{onClick:()=>h({backend:"local",localSchema:JSON.stringify(DEFAULT_SCHEMA_JSON,null,2)}),className:"text-[10px] text-red-500 hover:underline",children:"Reset to Default"})]}),jsxRuntimeExports.jsx("textarea",{value:d.localSchema||"",onChange:bt=>h({backend:"local",localSchema:bt.target.value}),className:"w-full h-64 p-3 text-xs font-mono bg-slate-50 dark:bg-slate-900 border rounded-md focus:ring-1 ring-primary resize-y focus:outline-none leading-relaxed",placeholder:"{ ... }"})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(LayoutTemplate,{size:20})," Workspace"]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Flip Layout (PDF on Right)"}),jsxRuntimeExports.jsx("button",{onClick:()=>$({flipLayout:!_.flipLayout}),className:cn("w-11 h-6 rounded-full transition-colors relative",_.flipLayout?"bg-primary":"bg-slate-200 dark:bg-slate-700"),children:jsxRuntimeExports.jsx("div",{className:cn("absolute top-1 left-1 w-4 h-4 rounded-full bg-white transition-transform",_.flipLayout?"translate-x-5":"translate-x-0")})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Default PDF Zoom"}),jsxRuntimeExports.jsxs("select",{value:_.pdfScale,onChange:bt=>$({pdfScale:parseFloat(bt.target.value)}),className:"px-3 py-2 bg-slate-50 dark:bg-slate-950 border rounded-md text-sm",children:[jsxRuntimeExports.jsx("option",{value:.8,children:"80%"}),jsxRuntimeExports.jsx("option",{value:1,children:"100% (Fit)"}),jsxRuntimeExports.jsx("option",{value:1.25,children:"125%"}),jsxRuntimeExports.jsx("option",{value:1.5,children:"150%"})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(HardDrive,{size:20})," Data & Storage"]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Global Statistics"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-500",children:["Total Cards: ",((kt=useAppStore.getState().stats)==null?void 0:kt.totalCards)||0,"  Files: ",((wt=useAppStore.getState().stats)==null?void 0:wt.totalFiles)||0]})]}),jsxRuntimeExports.jsx("button",{onClick:async()=>{confirm("Are you sure you want to reset all statistics?")&&(await useAppStore.getState().clearGlobalStats(),alert("Statistics reset."))},className:"text-sm text-red-600 hover:text-red-700 font-medium px-3 py-1.5 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Reset Stats"})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Stored Projects (IndexedDB)"}),jsxRuntimeExports.jsx("button",{onClick:()=>useAppStore.getState().refreshStoredFiles(),className:"p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500",title:"Refresh List",children:jsxRuntimeExports.jsx(RefreshCcw,{size:14})})]}),((dt=useAppStore.getState().storedFiles)==null?void 0:dt.length)===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No saved projects found."}):jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:useAppStore.getState().storedFiles.map(bt=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-950 rounded-lg border border-slate-200 dark:border-slate-800 group",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium truncate flex-1",children:bt}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("button",{onClick:async()=>{confirm(`Delete project "${bt}"? This cannot be undone.`)&&await useAppStore.getState().deleteStoredFile(bt)},className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Delete Project",children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},bt))}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Projects are auto-saved here. You can manually delete them to free up space after exporting to ZIP."})]})]})]})]})})}const ACCENT_COLORS={blue:"221.2 83.2% 53.3%",violet:"262.1 83.3% 57.8%",green:"142.1 76.2% 36.3%",orange:"24.6 95% 53.1%"};function App(){const{pdfFile:e,theme:s,activeTab:i,userSettings:o,updateStudyTime:a}=useAppStore(),c=h=>{let g=0,b=0,_=0;h.length==4?(g="0x"+h[1]+h[1],b="0x"+h[2]+h[2],_="0x"+h[3]+h[3]):h.length==7&&(g="0x"+h[1]+h[2],b="0x"+h[3]+h[4],_="0x"+h[5]+h[6]),g/=255,b/=255,_/=255;let $=Math.min(g,b,_),et=Math.max(g,b,_),_e=et-$,st=0,nt=0,it=0;return _e==0?st=0:et==g?st=(b-_)/_e%6:et==b?st=(_-g)/_e+2:st=(g-b)/_e+4,st=Math.round(st*60),st<0&&(st+=360),it=(et+$)/2,nt=_e==0?0:_e/(1-Math.abs(2*it-1)),nt=+(nt*100).toFixed(1),it=+(it*100).toFixed(1),`${st} ${nt}% ${it}%`};reactExports.useEffect(()=>{let h;return i==="workspace"&&(h=setInterval(()=>{a(60)},6e4)),()=>clearInterval(h)},[i,a]),reactExports.useLayoutEffect(()=>{var $;const h=document.documentElement;s==="dark"?h.classList.add("dark"):h.classList.remove("dark");let g=o.themeColor,b="",_="";if(g.startsWith("custom-")){const et=($=o.customPresets)==null?void 0:$.find(_e=>_e.id===g);et&&(_=s==="dark"?et.dark:et.light)}else g==="custom"&&o.customColors?_=s==="dark"?o.customColors.dark:o.customColors.light:g&&ACCENT_COLORS[g]&&(b=ACCENT_COLORS[g]);if(_&&(b=c(_)),b){h.style.setProperty("--primary",b);let et="210 40% 98%",_e="white";if(_&&(_e=getContrastColor(_,s),_e==="black"&&(et="222.2 47.4% 11.2%")),h.style.setProperty("--primary-foreground",et),_){let st="";if(_e==="white")st=adjustBrightness(_,70);else{const nt=parseInt(_.substr(1,2),16),it=parseInt(_.substr(3,2),16),j=parseInt(_.substr(5,2),16),tt=.3,ot=Math.floor(nt*tt).toString(16).padStart(2,"0"),lt=Math.floor(it*tt).toString(16).padStart(2,"0"),rt=Math.floor(j*tt).toString(16).padStart(2,"0");st=`#${ot}${lt}${rt}`}h.style.setProperty("--primary-soft",st)}else h.style.setProperty("--primary-soft",`hsl(${b} / 0.2)`)}},[s,o.themeColor,o.customColors,o.customPresets]);const d=o.flipLayout;return jsxRuntimeExports.jsxs(MainLayout,{children:[i==="dashboard"&&jsxRuntimeExports.jsx(Dashboard,{}),i==="settings"&&jsxRuntimeExports.jsx(Settings,{}),i==="workspace"&&jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col overflow-hidden w-full relative animate-in fade-in duration-300",children:[jsxRuntimeExports.jsxs("header",{className:"flex h-16 shrink-0 items-center border-b px-6 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold tracking-tight mr-auto",children:"FlashcardGen"}),jsxRuntimeExports.jsx(TopPanel,{})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-hidden relative",children:jsxRuntimeExports.jsx(SplitView,{left:d?jsxRuntimeExports.jsx(CardGraph,{}):jsxRuntimeExports.jsx(PDFViewer,{}),right:d?jsxRuntimeExports.jsx(PDFViewer,{}):jsxRuntimeExports.jsx(CardGraph,{}),ratio:d?"3:2":"2:3"})})]})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
